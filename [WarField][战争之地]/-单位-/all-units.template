




#载具


#此模板于2023年1月16号星期一,晚上10:48行数破6000,大小成功达到了214.17kb,热烈庆祝!!



[core]
armour:5
softCollisionOnAll:3
generation_credits:-5
generation_active:if memory.jt == 6
fogOfWarSightRange:5
#energyStartingPercentage:0
#switchPriceWithStreamingCost:true
explodeTypeOnDeath:small
autoTriggerCheckRate:every8Frames
autoTriggerCooldownTime:30
transportSlotsNeeded:1
nanoRange:0
energyMax:0
transportUnitsHealBy:0.2
numBitsOnDeath=${int(core.radius*0.3)}
defineUnitMemory:float 移动速度,float 攻击距离,float 伤害乘数,float 护盾,float 视野,float 装甲,float 生命,float 转向,float 间隔,float 生命
fireTurretXAtSelfOnDeath:explode
maxShield:0
energyMax:0
shieldRegen:0.1
shieldDisplayOnlyDeflection:true
shieldDeflectionDisplayRate:0.5
armourMinDamageToKeep:0
soundOnNewSelection:ROOT:[WarField][战争之地]/-shared-/-音效-/choose.wav
soundOnAttackOrder:ROOT:[WarField][战争之地]/-shared-/-音效-/attack.wav

@memory tz1:boolean
@memory dy1:boolean

@memory xfjl:number
@memory jjhj:number

@memory zib1:boolean
@memory zib2:boolean

@memory crdt:boolean
@memory syds1:number
@memory jt:number
@memory jzsd:number
@memory guasha:number

#守护=1,寒霜=2,烈焰=3,恐惧=4,飓风=5,能源=6

@memory jfxg:boolean
@memory 停火:number

@memory 鹰眼:number
@memory 防御者:number
@memory 疾风:number
@memory 守财奴:number
@memory 巨兽:number
@memory 暴君:number
@memory 镜像:number

@memory jsxg:number
@memory jsxg2:number
@memory jsxg3:number
@memory jsxg4:number
@memory jxxg:boolean
@memory bjxg:number
@memory yyxg:number
@memory yybj:boolean
@memory yyxg2:number
@memory fyzxg:number
@memory fyzxg2:number
@memory fyzxg3:number
@memory scnxg:number
@memory jfxg2:number
@memory jfxg3:number

@memory shmk:number
@memory scmk:number
@memory sdmk:number
@memory jqmk:number
@memory ctmk:number

@memory sjsd:number
@memory sjsh:number
@memory sjsm:number
@memory sjsc:number
@memory sjdy:number
@memory sjdrl:number
@memory sjjzsd:number

@memory yqydsd:number

@memory 弹容量:number

@memory 鹰眼到防御者:number
@memory 鹰眼到镜像:number
@memory 防御者到疾风:number
@memory 防御者到守财奴:number
@memory 疾风到守财奴:number
@memory 疾风到巨兽:number
@memory 巨兽到暴君:number
@memory 巨兽到镜像:number
@memory 暴君到镜像:number
@memory 暴君到鹰眼:number
@memory 镜像到守财奴:number
@memory 镜像到防御者:number

@memory 守财奴帮助:number

#射程:+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30
#伤害乘数:+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2
#移动速度:+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3
#装甲:+memory.防御者到守财奴*10
#生命:+memory.防御者到疾风*${core.maxHp*0.2}+memory.镜像到守财奴*${core.maxHp*0.3}

[hiddenAction_鹰眼防御开启]
autoTrigger:if self.globalTeamTags(includes="防御者") and self.numberOfUnitsInAllyNotOwnTeam(withTag='鹰眼',greaterThan=0) and memory.鹰眼到防御者 != 1
setUnitMemory:鹰眼到防御者=1
[hiddenAction_鹰眼镜像开启]
autoTrigger:if self.globalTeamTags(includes="镜像") and self.numberOfUnitsInAllyNotOwnTeam(withTag='鹰眼',greaterThan=0) and memory.鹰眼到镜像 != 1
setUnitMemory:鹰眼到镜像=1
[hiddenAction_防御疾风开启]
autoTrigger:if self.globalTeamTags(includes="疾风") and self.numberOfUnitsInAllyNotOwnTeam(withTag='防御者',greaterThan=0) and memory.防御者到疾风 != 1
setUnitMemory:防御者到疾风=1
[hiddenAction_防御守财奴开启]
autoTrigger:if self.globalTeamTags(includes="守财奴") and self.numberOfUnitsInAllyNotOwnTeam(withTag='防御者',greaterThan=0) and memory.防御者到守财奴 != 1
setUnitMemory:防御者到守财奴=1
[hiddenAction_疾风守财奴开启]
autoTrigger:if self.globalTeamTags(includes="守财奴") and self.numberOfUnitsInAllyNotOwnTeam(withTag='疾风',greaterThan=0) and memory.疾风到守财奴 != 1
setUnitMemory:疾风到守财奴=1
[hiddenAction_疾风巨兽开启]
autoTrigger:if self.globalTeamTags(includes="疾风") and self.numberOfUnitsInAllyNotOwnTeam(withTag='巨兽',greaterThan=0) and memory.疾风到巨兽 != 1
setUnitMemory:疾风到巨兽=1
[hiddenAction_巨兽暴君开启]
autoTrigger:if self.globalTeamTags(includes="暴君") and self.numberOfUnitsInAllyNotOwnTeam(withTag='巨兽',greaterThan=0) and memory.巨兽到暴君 != 1
setUnitMemory:巨兽到暴君=1
[hiddenAction_巨兽镜像开启]
autoTrigger:if self.globalTeamTags(includes="镜像") and self.numberOfUnitsInAllyNotOwnTeam(withTag='巨兽',greaterThan=0) and memory.巨兽到镜像 != 1
setUnitMemory:巨兽到镜像=1
[hiddenAction_暴君镜像开启]
autoTrigger:if self.globalTeamTags(includes="镜像") and self.numberOfUnitsInAllyNotOwnTeam(withTag='暴君',greaterThan=0) and memory.暴君到镜像 != 1
setUnitMemory:暴君到镜像=1
[hiddenAction_暴君鹰眼开启]
autoTrigger:if self.globalTeamTags(includes="鹰眼") and self.numberOfUnitsInAllyNotOwnTeam(withTag='暴君',greaterThan=0) and memory.暴君到鹰眼 != 1
setUnitMemory:暴君到鹰眼=1
[hiddenAction_镜像守财奴开启]
autoTrigger:if self.globalTeamTags(includes="守财奴") and self.numberOfUnitsInAllyNotOwnTeam(withTag='镜像',greaterThan=0) and memory.镜像到守财奴 != 1
setUnitMemory:镜像到守财奴=1
[hiddenAction_镜像防御者开启]
autoTrigger:if self.globalTeamTags(includes="防御者") and self.numberOfUnitsInAllyNotOwnTeam(withTag='镜像',greaterThan=0) and memory.镜像到防御者 != 1
setUnitMemory:镜像到防御者=1


[hiddenAction_属性赋值]
autoTrigger:true
setUnitStats:moveSpeed=memory.移动速度,maxAttackRange=memory.攻击距离,maxShield=memory.护盾,armour=memory.装甲,fogOfWarSightRange=memory.视野,shootDamageMultiplier=memory.伤害乘数,shootDelayMultiplier=memory.间隔

#---伤害修正---
[projectile_test]
directDamage:0
areaRadius:0
life:0
tags:NONE
speed:0
image:NONE
drawSize:0.01
explodeEffect:NONE
mutator0_ifUnitWithTags:armourT1
mutator0_directDamageMultiplier:0.9
mutator0_areaDamageMultiplier:0.9
mutator1_ifUnitWithTags:armourT2
mutator1_directDamageMultiplier:0.8
mutator1_areaDamageMultiplier:0.8
mutator2_ifUnitWithTags:armourT3
mutator2_directDamageMultiplier:0.7
mutator2_areaDamageMultiplier:0.7
mutator3_ifUnitWithTags:armourT4
mutator3_directDamageMultiplier:0.5
mutator3_areaDamageMultiplier:0.5

mutator4_ifUnitWithTags:hpT1
mutator4_directDamageMultiplier:1.05
mutator4_areaDamageMultiplier:1.05
mutator5_ifUnitWithTags:hpT2
mutator5_directDamageMultiplier:1.15
mutator5_areaDamageMultiplier:1.15
mutator6_ifUnitWithTags:hpT3
mutator6_directDamageMultiplier:1.25
mutator6_areaDamageMultiplier:1.25
mutator7_ifUnitWithTags:hpT4
mutator7_directDamageMultiplier:1.4
mutator7_areaDamageMultiplier:1.4

mutator8_ifUnitWithTags:shieldT1
mutator8_directDamageMultiplier:1.05
mutator8_areaDamageMultiplier:1.05
mutator9_ifUnitWithTags:shieldT2
mutator9_directDamageMultiplier:1.15
mutator9_areaDamageMultiplier:1.15
mutator10_ifUnitWithTags:shieldT3
mutator10_directDamageMultiplier:1.25
mutator10_areaDamageMultiplier:1.25
mutator11_ifUnitWithTags:shieldT4
mutator11_directDamageMultiplier:1.4
mutator11_areaDamageMultiplier:1.4

mutator12_ifUnitWithTags:损坏
mutator12_directDamageMultiplier:0.7
mutator12_areaDamageMultiplier:0.7

[projectile_test2]
directDamage:0
areaRadius:0
life:0
tags:NONE
speed:0
image:NONE
drawSize:0.01
explodeEffect:CUSTOM:null
mutator0_ifUnitWithTags:armourT1
mutator0_directDamageMultiplier:1.2
mutator0_areaDamageMultiplier:1.2
mutator1_ifUnitWithTags:armourT2
mutator1_directDamageMultiplier:1.4
mutator1_areaDamageMultiplier:1.4
mutator2_ifUnitWithTags:armourT3
mutator2_directDamageMultiplier:1.6
mutator2_areaDamageMultiplier:1.6
mutator3_ifUnitWithTags:armourT4
mutator3_directDamageMultiplier:2
mutator3_areaDamageMultiplier:2

mutator4_ifUnitWithTags:损坏
mutator4_directDamageMultiplier:1.5
mutator4_areaDamageMultiplier:1.5

#----类型装甲----

[hiddenAction_T0级装甲]
autoTrigger:if memory.装甲 < 15 and self.tags(includes='armourT1') or memory.装甲 < 15 and self.tags(includes='armourT2') or memory.装甲 < 15 and self.tags(includes='armourT3') or memory.装甲 < 15 and self.tags(includes='armourT4')
temporarilyRemoveTags:armourT2,armourT3,armourT4,armourT1

[hiddenAction_T1级装甲]
autoTrigger:if memory.装甲 >= 15 and memory.装甲 < 35 and not self.tags(includes='armourT1')
temporarilyAddTags:armourT1
temporarilyRemoveTags:armourT2,armourT3,armourT4

[hiddenAction_T2级装甲]
autoTrigger:if memory.装甲 >= 35 and memory.装甲 < 55 and not self.tags(includes='armourT2')
temporarilyAddTags:armourT2
temporarilyRemoveTags:armourT3,armourT1,armourT4

[hiddenAction_T3级装甲]
autoTrigger:if memory.装甲 >= 55 and memory.装甲 < 80 and not self.tags(includes='armourT3')
temporarilyAddTags:armourT3
temporarilyRemoveTags:armourT2,armourT1,armourT4

[hiddenAction_T4级装甲]
autoTrigger:if memory.装甲 >= 80 and not self.tags(includes='armourT4')
temporarilyAddTags:armourT4
temporarilyRemoveTags:armourT2,armourT1,armourT3

#---生命类型--

[hiddenAction_T0级生命]
autoTrigger:if memory.生命 < ${core.maxHp}*1.5 and self.tags(includes='hpT1') or memory.生命 < ${core.maxHp}*1.5 and self.tags(includes='hpT2') or memory.生命 < ${core.maxHp}*1.5 and self.tags(includes='hpT3') or memory.生命 < ${core.maxHp}*1.5 and self.tags(includes='hpT4')
temporarilyRemoveTags:hpT2,hpT3,hpT4,hpT1

[hiddenAction_T1级生命]
autoTrigger:if memory.生命 >= ${core.maxHp}*1.5 and memory.生命 < ${core.maxHp}*2 and not self.tags(includes='hpT1')
temporarilyAddTags:hpT1
temporarilyRemoveTags:hpT2,hpT3,hpT4

[hiddenAction_T2级生命]
autoTrigger:if memory.生命 >= ${core.maxHp}*2 and memory.生命 < ${core.maxHp}*3 and not self.tags(includes='hpT2')
temporarilyAddTags:hpT2
temporarilyRemoveTags:hpT1,hpT3,hpT4

[hiddenAction_T3级生命]
autoTrigger:if memory.生命 >= ${core.maxHp}*3 and memory.生命 < ${core.maxHp}*4 and not self.tags(includes='hpT3')
temporarilyAddTags:hpT3
temporarilyRemoveTags:hpT2,hpT1,hpT4

[hiddenAction_T4级生命]
autoTrigger:if memory.生命 >= ${core.maxHp}*4 and not self.tags(includes='hpT4')
temporarilyAddTags:hpT4
temporarilyRemoveTags:hpT2,hpT3,hpT1

#---护盾类型---

#---初始没有护盾--

[hiddenAction_T0级护盾]
autoTrigger:if memory.护盾 == 0 and self.tags(includes='shieldT1') or memory.护盾 == 0 and self.tags(includes='shieldT2') or memory.护盾 == 0 and self.tags(includes='shieldT3') or memory.护盾 == 0 and self.tags(includes='shieldT4')
temporarilyRemoveTags:shieldT2,shieldT3,shieldT4,shieldT1

[hiddenAction_T1级护盾]
autoTrigger:if memory.护盾 > 0 and memory.护盾 < 500 and not self.tags(includes='shieldT1') and ${core.maxShield} == 0
temporarilyAddTags:shieldT1
temporarilyRemoveTags:shieldT2,shieldT3,shieldT4

[hiddenAction_T2级护盾]
autoTrigger:if memory.护盾 >= 500 and memory.护盾 < 1000 and not self.tags(includes='shieldT2') and ${core.maxShield} == 0
temporarilyAddTags:shieldT2
temporarilyRemoveTags:shieldT1,shieldT3,shieldT4

[hiddenAction_T3级护盾]
autoTrigger:if memory.护盾 >= 1000 and memory.护盾 < 1500 and not self.tags(includes='shieldT3') and ${core.maxShield} == 0
temporarilyAddTags:shieldT3
temporarilyRemoveTags:shieldT2,shieldT1,shieldT4

[hiddenAction_T4级护盾]
autoTrigger:if memory.护盾 >= 1500 and not self.tags(includes='shieldT4') and ${core.maxShield} == 0
temporarilyAddTags:shieldT4
temporarilyRemoveTags:shieldT2,shieldT3,shieldT1

#---自身初始有护盾---

[hiddenAction_T0级护盾l]
autoTrigger:if memory.护盾 <= ${core.maxShield} and self.tags(includes='shieldT1') or memory.护盾 <= ${core.maxShield} and self.tags(includes='shieldT2') or memory.护盾 <= ${core.maxShield} and self.tags(includes='shieldT3') or memory.护盾 <= ${core.maxShield} and self.tags(includes='shieldT4')
temporarilyRemoveTags:shieldT2,shieldT3,shieldT4,shieldT1

[hiddenAction_T1级护盾l]
autoTrigger:if memory.护盾 > ${core.maxShield} and memory.护盾 < ${core.maxShield}*1.5 and not self.tags(includes='shieldT1') and ${core.maxShield} > 0
temporarilyAddTags:shieldT1
temporarilyRemoveTags:shieldT2,shieldT3,shieldT4

[hiddenAction_T2级护盾l]
autoTrigger:if memory.护盾 >= ${core.maxShield}*1.5 and memory.护盾 < ${core.maxShield}*2 and not self.tags(includes='shieldT2') and ${core.maxShield} > 0
temporarilyAddTags:shieldT2
temporarilyRemoveTags:shieldT1,shieldT3,shieldT4

[hiddenAction_T3级护盾l]
autoTrigger:if memory.护盾 >= ${core.maxShield}*2 and memory.护盾 < ${core.maxShield}*3 and not self.tags(includes='shieldT3') and ${core.maxShield} > 0
temporarilyAddTags:shieldT3
temporarilyRemoveTags:shieldT2,shieldT1,shieldT4

[hiddenAction_T4级护盾l]
autoTrigger:if memory.护盾 >= ${core.maxShield}*3 and not self.tags(includes='shieldT4') and ${core.maxShield} > 0
temporarilyAddTags:shieldT4
temporarilyRemoveTags:shieldT2,shieldT3,shieldT1

#----其他----

[hiddenAction_纳米科技]
autoTriggerOnEvent:destroyed
requireConditional:if self.globalTeamTags(includes='纳米科技')
spawnUnits:纳米*${int(core.radius*0.1+1)}(offsetRandomX=${core.radius},offsetRandomY=${core.radius})

[hiddenAction_磐石科技]
autoTriggerOnEvent:destroyed
requireConditional:if self.globalTeamTags(includes='磐石科技')
spawnUnits:磐石*${int(core.radius*0.1+1)}(offsetRandomX=${core.radius},offsetRandomY=${core.radius})

[action_销毁]
isVisible:if self.globalTeamTags(includes='销毁')
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/delete.png
text:自我销毁
isActive:true
#isGuiBlinking:true
buildSpeed:${2*core.radius*0.04}s
ai_isHighPriority:false
addResources:${core.price},hp:-999999
pos:9999
description:销毁\n返还建造时所需资源\n再按一次确定
displayType:rally
whenBuilding_cannotMove:true

[resource_hdjs]
hidden:true

[decal_选择]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/circle.png
layer:shadow
onlyTeam:own
onlyWhenSelectedByOwnPlayer:true
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_6s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_6s}*360)*0.2
onlyWhileAlive:true
imageScale:${(core.radius)*0.016}

[decal_选择_1]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/circle_1.png
layer:onTop
@copyFromSection:decal_选择
@define timer_6s:((self.timeAlive()%2)/2)
alpha:0.5+cos(${timer_6s}*360)*0.3
imageScale:${(core.radius)*0.016}+cos(${timer_6s}*360)*0.015

[decal_选择_1_1]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/circle_1_1.png
layer:onTop
@copyFromSection:decal_选择
@define timer_9s:((self.timeAlive()%3)/3)
alpha:0.5+cos(${timer_9s}*360)*0.3
imageScale:${(core.radius)*0.016}+cos(${timer_9s}*360)*0.015


[decal_选择2]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/circle2.png
imageScaleX:1
layer:shadow
imageScaleY:1
onlyTeam:ally
onlyWhenSelectedByAllyNotOwnPlayer:true
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_6s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_6s}*360)*0.2
onlyWhileAlive:true
imageScale:${(core.radius)*0.016}
isVisible:true

[decal_选择2_1]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/circle2_1.png
@copyFromSection:decal_选择2
layer:onTop
@define timer_6s:((self.timeAlive()%3)/3)
alpha:0.6+cos(${timer_6s}*360)*0.2
imageScale:${(core.radius)*0.016}+cos(${timer_6s}*360)*0.015

[decal_选择2_1_1]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/circle2_1_1.png
@copyFromSection:decal_选择2
layer:onTop
@define timer_9s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_9s}*360)*0.3
imageScale:${(core.radius)*0.016}+cos(${timer_9s}*360)*0.015

[decal_选择3]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/circle1.png
imageScaleX:1
imageScaleY:1
layer:shadow
onlyTeam:enemy
onlyOnNonPreview:true
onlyWhenSelectedByEnemyPlayer:true
alwaysStartDirAtZero:true
@define timer_6s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_6s}*360)*0.2
onlyWhileAlive:true
imageScale:${(core.radius)*0.016}
isVisible:true

[decal_选择3_1]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/circle1_1.png
@copyFromSection:decal_选择3
layer:onTop
@define timer_6s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_6s}*360)*0.2
imageScale:${(core.radius)*0.016}+cos(${timer_6s}*360)*0.015

[decal_选择3_1_1]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/circle1_1_1.png
@copyFromSection:decal_选择3
layer:onTop
@define timer_9s:((self.timeAlive()%3)/3)
alpha:0.6+cos(${timer_9s}*360)*0.3
imageScale:${(core.radius)*0.016}+cos(${timer_9s}*360)*0.015

#---血条显示---

[decal_血条_内_1]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/血条_内.png
imageScaleX:(self.hp/memory.生命)*${core.radius}
imageScaleY:0.5
isVisible:if self.hp() > memory.生命*0.7
@copyFromSection:decal_血条_左
yOffsetAbsolute:${(core.radius+5)*1}
xOffsetAbsolute:${(core.radius)*-1}

[decal_血条_内_2]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/血条_内_黄.png
imageScaleX:(self.hp/memory.生命)*${core.radius}
imageScaleY:0.5
isVisible:if self.hp() > ${core.maxHp*0.4} and self.hp() <= memory.生命*0.7
@copyFromSection:decal_血条_左
yOffsetAbsolute:${(core.radius+5)*1}
xOffsetAbsolute:${(core.radius)*-1}

[decal_血条_内_3]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/血条_内_红.png
imageScaleX:(self.hp/memory.生命)*${core.radius}
imageScaleY:0.5
isVisible:if self.hp() >= memory.生命*0 and self.hp() <= ${core.maxHp*0.4}
@copyFromSection:decal_血条_左
yOffsetAbsolute:${(core.radius+5)*1}
xOffsetAbsolute:${(core.radius)*-1}

[decal_血条_左]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/血条_侧.png
imageScaleX:0.8
layer:onTop
imageScaleY:0.9
onlyOnNonPreview:true
alwaysStartDirAtZero:true
onlyWhileAlive:true
imageScale:1
#isVisible:if not self.hp(greaterThan=${core.maxHp*0.4})
yOffsetAbsolute:${(core.radius+5)*1}
xOffsetAbsolute:${(core.radius)*-1}

[decal_血条_右]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/血条_侧_右.png
@copyFromSection:decal_血条_左
yOffsetAbsolute:${(core.radius+5)*1}
xOffsetAbsolute:${(core.radius)*1}

[decal_血条_上]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/血条.png
imageScaleX:${(core.radius)}
imageScaleY:0.4
@copyFromSection:decal_血条_左
yOffsetAbsolute:${(core.radius+5)*1}
xOffsetAbsolute:${(core.radius)*-1}



[decal_护盾_内_1]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/护盾_内.png
imageScaleX:(self.shield/self.maxShield)*${core.radius}
imageScaleY:0.55
isVisible:if self.shield() > self.maxShield*0 and self.maxShield() > 0
# and self.maxEnergy() > 0
@copyFromSection:decal_护盾_左
yOffsetAbsolute:${(core.radius+10)*1}
xOffsetAbsolute:${(core.radius)*-1}

[decal_护盾_左]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/护盾_侧.png
imageScaleX:0.8
layer:onTop
imageScaleY:0.85
onlyOnNonPreview:true
alwaysStartDirAtZero:true
onlyWhileAlive:true
imageScale:1
isVisible:if self.maxShield() > 0
# and self.maxEnergy() == 0
yOffsetAbsolute:${(core.radius+10)*1}
xOffsetAbsolute:${(core.radius)*-1}

[decal_护盾_右]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/护盾_侧_右.png
@copyFromSection:decal_护盾_左
yOffsetAbsolute:${(core.radius+10)*1}
xOffsetAbsolute:${(core.radius)*1}

[decal_护盾_上]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/护盾.png
imageScaleX:${(core.radius)}
imageScaleY:0.35
@copyFromSection:decal_护盾_左
yOffsetAbsolute:${(core.radius+10)*1}
xOffsetAbsolute:${(core.radius)*-1}


[decal_能量_内_1]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/能量_内.png
imageScaleX:(self.energy/self.maxEnergy)*${core.radius}
imageScaleY:0.55
isVisible:if self.energy() > self.maxEnergy*0 and self.maxEnergy() > 0 and self.maxShield() >0
@copyFromSection:decal_能量_左
yOffsetAbsolute:${(core.radius+14)*1}
xOffsetAbsolute:${(core.radius)*-1}

[decal_能量_左]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/能量_侧.png
imageScaleX:0.8
layer:onTop
imageScaleY:0.85
onlyOnNonPreview:true
alwaysStartDirAtZero:true
onlyWhileAlive:true
imageScale:1
isVisible:if self.maxEnergy() > 0 and self.maxEnergy() > 0 and self.maxShield() >0
yOffsetAbsolute:${(core.radius+14)*1}
xOffsetAbsolute:${(core.radius)*-1}

[decal_能量_右]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/能量_侧_右.png
@copyFromSection:decal_能量_左
yOffsetAbsolute:${(core.radius+14)*1}
xOffsetAbsolute:${(core.radius)*1}

[decal_能量_上]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/能量.png
imageScaleX:${(core.radius)}
imageScaleY:0.35
@copyFromSection:decal_能量_左
yOffsetAbsolute:${(core.radius+14)*1}
xOffsetAbsolute:${(core.radius)*-1}



[decal_能量2_内_1]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/能量_内.png
imageScaleX:(self.energy/self.maxEnergy)*${core.radius}
imageScaleY:0.55
isVisible:if self.energy() > self.maxEnergy*0 and self.maxShield() == 0
@copyFromSection:decal_能量2_左
yOffsetAbsolute:${(core.radius+10)*1}
xOffsetAbsolute:${(core.radius)*-1}

[decal_能量2_左]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/能量_侧.png
imageScaleX:0.8
layer:onTop
imageScaleY:0.85
onlyOnNonPreview:true
alwaysStartDirAtZero:true
onlyWhileAlive:true
imageScale:1
isVisible:if self.maxEnergy() > 0 and self.maxShield() == 0
yOffsetAbsolute:${(core.radius+10)*1}
xOffsetAbsolute:${(core.radius)*-1}

[decal_能量2_右]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/能量_侧_右.png
@copyFromSection:decal_能量2_左
yOffsetAbsolute:${(core.radius+10)*1}
xOffsetAbsolute:${(core.radius)*1}

[decal_能量2_上]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/能量.png
imageScaleX:${(core.radius)}
imageScaleY:0.35
@copyFromSection:decal_能量2_左
yOffsetAbsolute:${(core.radius+10)*1}
xOffsetAbsolute:${(core.radius)*-1}



[hiddenAction_命中就是我的]
autoTriggerOnEvent:tookDamage
switchToTeam:lastDamagedBy.teamId
requireConditional:if self.globalTeamTags(includes='命中就是我的')

#---其他---

[decal_盾破]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/护盾破损.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_4s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_4s}*360)*0.2
onlyWhileAlive:true
imageScale:${(core.radius)*0.03}
isVisible:if self.shield() <= 10 and self.maxShield() >= 1 and self.hasTakenDamage(withinSeconds=3) and ${core.radius} <= 30
#yOffsetRelative:${(core.radius+5)*0.35}

[decal_盾破2]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/护盾破损.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_4s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_4s}*360)*0.2
onlyWhileAlive:true
imageScale:${(core.radius)*0.02}
isVisible:if self.shield() <= 10 and self.maxShield() >=1 and self.hasTakenDamage(withinSeconds=3) and ${core.radius} > 30
#yOffsetRelative:${(core.radius+5)*0.35}

[resource_jsjs]
hidden:true

[hiddenAction_击杀计时2]
autoTrigger:if self.resource.jsjs > 0
addResources:jsjs=-0.5

[hiddenAction_击杀计时]
autoTriggerOnEvent:killedAnyUnit
setResourcesWithLogic:jsjs=4

[decal_击杀]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/击杀提示.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_4s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_4s}*360)*0.4
onlyWhileAlive:true
imageScale:${(core.radius)*0.02}
isVisible:if self.resource.jsjs > 0 and ${core.radius} <= 30
#yOffsetRelative:${(core.radius+5)*0.75}
xOffsetRelative:${(core.radius+5)*-0.6}

[decal_击杀2]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/击杀提示.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_4s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_4s}*360)*0.4
onlyWhileAlive:true
imageScale:${(core.radius)*0.012}
isVisible:if self.resource.jsjs > 0 and ${core.radius} > 30
#yOffsetRelative:${(core.radius)*0.75}
xOffsetRelative:${(core.radius+5)*-0.6}

[decal_攻击]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/攻击提示.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_7s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_7s}*360)*0.4
onlyWhileAlive:true
imageScale:${(core.radius)*0.012}
isVisible:if attacking.hasTakenDamage(withinSeconds=3) and ${core.radius} <= 30
#yOffsetRelative:${(core.radius+5)*0.75}
xOffsetRelative:${(core.radius+5)*0.6}

[decal_攻击2]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/攻击提示.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_7s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_7s}*360)*0.4
onlyWhileAlive:true
imageScale:${(core.radius)*0.009}
isVisible:if attacking.hasTakenDamage(withinSeconds=3) and ${core.radius} > 30
#yOffsetRelative:${(core.radius)*0.75}
xOffsetRelative:${(core.radius+5)*0.6}

#---其他---

[decal_损坏]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/损坏齿轮.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_3s:((self.timeAlive()%3)/3)
alpha:0.6+cos(${timer_3s}*360)*0.4
onlyWhileAlive:true
imageScale:${(core.radius)*0.007}+cos(${timer_3s}*360)*0.015
isVisible:if not self.hp(greaterThan=${core.maxHp*0.4}) and ${core.radius} > 30
yOffsetRelative:${(core.radius+5)*-0.7}
xOffsetRelative:${(core.radius+5)*0.7}

[decal_损坏黑]
image:${graphics.image_wreak}
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:false
alpha:0.9-(self.hp/${core.maxHp})*1.5
onlyWhileAlive:true
imageScale:1
isVisible:if not self.hp(greaterThan=${core.maxHp*0.4})

[decal_损坏2]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/损坏齿轮.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_3s:((self.timeAlive()%3)/3)
alpha:0.6+cos(${timer_3s}*360)*0.4
onlyWhileAlive:true
imageScale:${(core.radius)*0.01}+cos(${timer_3s}*360)*0.015
isVisible:if not self.hp(greaterThan=${core.maxHp*0.4}) and ${core.radius} <= 30
yOffsetRelative:${(core.radius+5)*-0.7}
xOffsetRelative:${(core.radius+5)*0.7}


[decal_重载]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/重新装载.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_4s:((self.timeAlive()%3)/3)
alpha:0.6+cos(${timer_4s}*360)*0.2
onlyWhileAlive:true
imageScale:${(core.radius)*0.009}+cos(${timer_4s}*360)*0.015
isVisible:if self.energy(empty=true) and ${attack.canAttack} == true and ${core.radius} <= 30
yOffsetRelative:${(core.radius+5)*0.75}
xOffsetRelative:${(core.radius+5)*-0.7}

[decal_重载2]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/重新装载.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_4s:((self.timeAlive()%3)/3)
alpha:0.6+cos(${timer_4s}*360)*0.2
onlyWhileAlive:true
imageScale:${(core.radius)*0.006}+cos(${timer_4s}*360)*0.015
isVisible:if self.energy(empty=true) and ${attack.canAttack} == true and ${core.radius} > 30
yOffsetRelative:${(core.radius+5)*0.75}
xOffsetRelative:${(core.radius+5)*-0.6}


[decal_等级提]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/等级提示.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_5s:((self.timeAlive()%2)/2)
alpha:0.45+cos(${timer_5s}*360)*0.2
onlyWhileAlive:true
imageScale:${core.radius*0.0011}
isVisible:if self.resource.djds1 >= (memory.syds1*self.resource.dj+20)*1.5 and self.resource.dj < 25 and ${core.radius} <= 15
yOffsetRelative:${(core.radius+5)*0.6}
xOffsetRelative:${(core.radius+5)*0.6}

[decal_等级提]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/等级提示.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_5s:((self.timeAlive()%2)/2)
alpha:0.45+cos(${timer_5s}*360)*0.2
onlyWhileAlive:true
imageScale:${core.radius*0.008}
isVisible:if self.resource.djds1 >= (memory.syds1*self.resource.dj+20)*1.5 and self.resource.dj < 25 and ${core.radius} < 30
yOffsetRelative:${(core.radius+5)*0.6}
xOffsetRelative:${(core.radius+5)*0.6}

[decal_等级提2]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/等级提示.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_5s:((self.timeAlive()%2)/2)
alpha:0.45+cos(${timer_5s}*360)*0.2
onlyWhileAlive:true
imageScale:${core.radius*0.006}
isVisible:if self.resource.djds1 >= (memory.syds1*self.resource.dj+20)*1.5 and self.resource.dj < 25 and ${core.radius} > 30
yOffsetRelative:${(core.radius+5)*0.6}
xOffsetRelative:${(core.radius+5)*0.6}


[decal_停火]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/禁止开火.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_4s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_4s}*360)*0.2
onlyWhileAlive:true
imageScale:${(core.radius)*0.015}
isVisible:if memory.停火 == 0 and ${core.radius} <= 30
yOffsetRelative:${(core.radius+5)*0.35}

[decal_停火2]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/禁止开火.png
imageScaleX:1
imageScaleY:1
onlyOnNonPreview:true
alwaysStartDirAtZero:true
@define timer_4s:((self.timeAlive()%2)/2)
alpha:0.6+cos(${timer_4s}*360)*0.2
onlyWhileAlive:true
imageScale:${(core.radius)*0.01}
isVisible:if memory.停火 == 0 and ${core.radius} > 30
yOffsetRelative:${(core.radius+5)*0.35}


[action_停火]
isVisible:false
isVisible:if memory.停火 != 0 and self.globalTeamTags(includes='停火辅助')
#iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/重新装载.png
alwaysSinglePress:false
setUnitMemory:停火=0
clearActiveWaypoint:true
description:对近战单位无效
text:禁止开火
isActive:true
isGuiBlinking:false
buildSpeed:0
pos:-1.1
displayType:action

[action_不停火]
autoTriggerOnEvent:created
isVisible:false
isVisible:if memory.停火 != 1 and self.globalTeamTags(includes='停火辅助')
#iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/重新装载.png
setUnitMemory:停火=1
text:允许开火
isActive:true
alwaysSinglePress:true
isGuiBlinking:true
buildSpeed:0
pos:-1.1
displayType:action

[hiddenAction_单位初始设置]
autoTriggerOnEvent:created
setResourcesWithLogic:hp:99999,hfjs:0.5

#---初始化---

[hiddenAction_初始计时]
autoTrigger:if self.resource.hdjs <= 0  and self.globalTeamTags(includes='换弹辅助')
setResourcesWithLogic:hdjs=16

[hiddenAction_检查是否攻击]
autoTrigger:if numberOfUnitsInEnemyTeam(withinRange=${attack.maxAttackRange+170},greaterThan=0) and self.resource.hdjs != 16 and self.globalTeamTags(includes='换弹辅助') and memory.tz1 == false
setResourcesWithLogic:hdjs=16

[hiddenAction_检查是否攻击2]
autoTrigger:if numberOfUnitsInEnemyTeam(withinRange=${attack.maxAttackRange+170},greaterThan=0) and self.resource.hdjs != 16 and self.globalTeamTags(includes='换弹辅助') and memory.tz1 == true
setResourcesWithLogic:hdjs=16
setUnitMemory:tz1=false

[hiddenAction_检查敌人]
autoTrigger:if self.resource.hdjs > 0 and self.resource.hdjs < 1.5 and self.globalTeamTags(includes='换弹辅助') and memory.tz1 != true
setUnitMemory:tz1=true

[hiddenAction_检查弹药]
autoTrigger:if self.energy(full=true) and self.globalTeamTags(includes='换弹辅助') and memory.dy1 != true
setUnitMemory:dy1=true

[hiddenAction_检查弹药2]
autoTrigger:if not self.energy(full=true) and self.globalTeamTags(includes='换弹辅助') and memory.dy1 != false
setUnitMemory:dy1=false

[hiddenAction_换弹倒计时]
autoTrigger:if self.resource.hdjs > 0 and not numberOfUnitsInEnemyTeam(withinRange=${attack.maxAttackRange+170},greaterThan=0) and self.globalTeamTags(includes='换弹辅助') and not self.energy(full=true)
addResources:hdjs:-0.5

[hiddenAction_脱战换弹]
autoTrigger:if memory.tz1==true and memory.dy1==false and self.resource.hdjs <= 0 and self.globalTeamTags(includes='换弹辅助') and self.energy() > 0
addResources:energy=-999

#---灭火---

[hiddenAction_灭火计时]
autoTrigger:if self.hasFlag(id=2) and self.resource.mhdjs == 0 and self.globalTeamTags(includes='灭火辅助') and self.queueSize() < 1
setResourcesWithLogic:mhdjs=7

[hiddenAction_灭火计时222]
autoTrigger:if self.resource(type="mhdjs") > 2
addResources:mhdjs:-0.5

[hiddenAction_灭火触发]
autoTrigger:if self.hasFlag(id=2) and self.resource.mhdjs == 2 and self.globalTeamTags(includes='灭火辅助') and self.queueSize() < 1
alsoQueueAction:燃烧修复
setResourcesWithLogic:mhdjs=0

#-------

[hiddenAction_鹰眼开启]
autoTrigger:if self.globalTeamTags(includes="鹰眼") and memory.鹰眼 != 1
setUnitMemory:鹰眼=1

[hiddenAction_防御者开启]
autoTrigger:if self.globalTeamTags(includes="防御者") and memory.防御者 != 1
setUnitMemory:防御者=1
setResourcesWithLogic:hfjs:1

[hiddenAction_疾风开启]
autoTrigger:if self.globalTeamTags(includes="疾风") and memory.疾风 != 1
setUnitMemory:疾风=1

[hiddenAction_守财奴开启]
autoTrigger:if self.globalTeamTags(includes="守财奴") and memory.守财奴 != 1
setUnitMemory:守财奴=1

[hiddenAction_巨兽开启]
autoTrigger:if self.globalTeamTags(includes="巨兽") and memory.巨兽 != 1 and self.resource.jsdjs <= 0
setUnitMemory:巨兽=1
setResourcesWithLogic:hfjs:1

[hiddenAction_暴君开启]
autoTrigger:if self.globalTeamTags(includes="暴君") and memory.暴君 != 1
setUnitMemory:暴君=1

[hiddenAction_镜像开启]
autoTrigger:if self.globalTeamTags(includes="镜像") and memory.镜像 != 1
setUnitMemory:镜像=1
#spawnUnits:${core.name}*1(addResources=fl:1)

[hiddenAction_镜像效果]
autoTrigger:if memory.镜像 == 1 and self.resource.fl != 1
spawnUnits:${core.name}*1(addResources=fl:1)
setResourcesWithLogic:fl:1

[hiddenAction_巨兽效果]
autoTriggerOnEvent:tookDamage
requireConditional:if memory.巨兽 == 1
addResourcesWithLogic:credits:memory.生命*-0.1
setUnitMemory:jsxg=rnd(0,10)

[hiddenAction_巨兽效果2]
autoTriggerOnEvent:tookDamage
requireConditional:if memory.jsxg > 5.0 and memory.jsxg < 5.1
addResources:hp:-99999

[hiddenAction_防御者荆棘]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.5) and attacking.globalTeamTags(includes="防御者")
addResources:hp:-10

[hiddenAction_守财奴击杀]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if self.globalTeamTags(includes="守财奴")
addResourcesWithLogic:credits=memory.生命*0.2,djds1:20,djds=20,pt:5,dx:5,ts:5

[hiddenAction_守财奴回收利用]
autoTriggerOnEvent:destroyed
requireConditional:if self.globalTeamTags(includes="守财奴")
addResourcesWithLogic:credits=${core.maxHp}*0.5


[hiddenAction_疾风速度效果]
autoTrigger:if self.hp() <= memory.生命*0.7 and memory.jfxg2 != 1 and memory.疾风 == 1
setUnitMemory:jfxg2=1

[hiddenAction_疾风速度效果取消]
autoTrigger:if self.hp() > memory.生命*0.7 and memory.jfxg2 != 0 and memory.疾风 == 1
setUnitMemory:jfxg2=0


[hiddenAction_疾风速度效果2]
autoTrigger:if self.hasTakenDamage(withinSeconds=0.5) and memory.jfxg3 != 1 and memory.疾风 == 1
setUnitMemory:jfxg3=1
setResourcesWithLogic:jfdjs=10

[hiddenAction_疾风速度倒计时]
autoTrigger:if self.resource.jfdjs > 0
addResources:jfdjs:-0.5

[hiddenAction_疾风效果结束]
autoTrigger:if self.resource.jfdjs <= 0 and memory.jfxg3 != 0
setUnitMemory:jfxg3=0


#---巨兽生命---

[hiddenAction_巨兽生命效果]
requireConditional:if self.globalTeamTags(includes="巨兽")
autoTriggerOnEvent:killedAnyUnit
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.2) and memory.巨兽 == 1
setUnitMemory:jsxg2=int(rnd(0,100))

[hiddenAction_巨兽生命提升]
autoTrigger:if self.globalTeamTags(includes="巨兽") and memory.jsxg2 >= 35 and memory.jsxg2 <= 44
setUnitMemory:jsxg3=memory.jsxg3+1,jsxg2=int(rnd(0,100))

[hiddenAction_巨兽生命提升]
autoTrigger:if self.globalTeamTags(includes="巨兽") and memory.jsxg2 >= 55 and memory.jsxg2 <= 64
setUnitMemory:巨兽=2,jsxg2=int(rnd(0,100))
addResourcesWithLogic:jsdjs=20

[hiddenAction_巨兽效果倒计时]
autoTrigger:if self.resource.jsdjs > 0
setUnitMemory:巨兽=2
addResources:jsdjs:-0.5

[hiddenAction_巨兽效果结束]
autoTrigger:if self.resource.jsdjs <= 0 and memory.jsxg4 != 0
setUnitMemory:巨兽=1

[action_show巨兽效果效果]
#infoOnly:true
text:狂暴\n剩余%{int(self.resource(type="jsdjs"))}s
description:狂暴模式\n倒计时前巨兽指挥官的正面属性效果翻倍
buildSpeed:0s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/狂暴.png
pos:21
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="jsdjs") > 0

#---守财奴效果---

[hiddenAction_守财奴随机效果]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.2) and memory.守财奴 == 1
setUnitMemory:scnxg=int(rnd(0,100))

[hiddenAction_守财奴随机击杀]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if self.globalTeamTags(includes="守财奴") and memory.scnxg >= 35 and memory.scnxg <= 44
addResourcesWithLogic:sjd:2
setUnitMemory:scnxg=int(rnd(0,100))

#---镜像效果---

[hiddenAction_镜像复活]
autoTrigger:if self.globalTeamTags(includes="镜像") and self.hp > 0 and self.hp < ${core.maxHp*0.2} and memory.jxxg != true
addResources:hp:99999,shield:99999,energy:99999
setUnitMemory:jxxg=true

#---暴君效果---

[hiddenAction_暴君效果]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.2) and memory.暴君 == 1
setUnitMemory:bjxg=int(rnd(0,100))

[hiddenAction_暴君效果2]
autoTrigger:if self.isAttacking() and memory.暴君 == 1
setUnitMemory:bjxg=int(rnd(0,100))

[hiddenAction_暴君秒杀]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.globalTeamTags(includes="暴君") and lastDamagedBy.readUnitMemory('bjxg',type='number') >= 35 and lastDamagedBy.readUnitMemory('bjxg',type='number') <= 39 and not self.globalTeamTags(includes="无指挥官") and not self.hasFlag(id=16) and not self.hasFlag(id=10) and self.resource(type="bm") <= 0
addResources:hp:-999999

[hiddenAction_暴君秒杀2]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if self.globalTeamTags(includes="暴君")
setUnitMemory:bjxg=int(rnd(0,100))

#---防御者效果---

[hiddenAction_防御者随机]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if self.globalTeamTags(includes="防御者")
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.2) and memory.防御者 == 1 and memory.fyzxg2 <= 0 and self.resource.fyzdjs <= 0
setUnitMemory:fyzxg=int(rnd(0,100)),fyzxg3=int(rnd(0,100))

[hiddenAction_防御者随机]
autoTriggerOnEvent:tookDamage
setUnitMemory:fyzxg3=int(rnd(0,100))
requireConditional:if self.globalTeamTags(includes="防御者")

[hiddenAction_防御者装甲]
autoTrigger:if self.globalTeamTags(includes="防御者") and memory.fyzxg >= 35 and memory.fyzxg <= 44
setUnitMemory:fyzxg2=int(rnd(10,30)),fyzxg=int(rnd(0,100))
setResourcesWithLogic:fyzdjs=180


[hiddenAction_防御者反伤222]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.2) and attacking.globalTeamTags(includes="防御者") and attacking.readUnitMemory('fyzxg3',type='number') >= 35 and attacking.readUnitMemory('fyzxg3',type='number') <= 44 and not self.globalTeamTags(includes="无指挥官")
addResources:hp:-200


[hiddenAction_防御者倒计时]
autoTrigger:if self.resource.fyzdjs > 0
addResources:fyzdjs:-0.5

[hiddenAction_防御者效果结束]
autoTrigger:if self.resource.fyzdjs <= 0 and memory.fyzxg2 != 0
setUnitMemory:fyzxg2=0

[action_show防御者效果]
#infoOnly:true
text:装甲过载\n剩余%{int(self.resource(type="fyzdjs"))}s
description:装甲过载\n倒计时前装甲额外增加%{memory.fyzxg2}
buildSpeed:0s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/护盾2.png
pos:21
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="fyzdjs") > 0



#---鹰眼效果---

[hiddenAction_鹰眼效果]
requireConditional:if self.globalTeamTags(includes="鹰眼")
autoTriggerOnEvent:killedAnyUnit
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.5) and memory.鹰眼 == 1
setUnitMemory:yyxg=int(rnd(0,100))

[hiddenAction_鹰眼秒杀]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.globalTeamTags(includes="鹰眼") and lastDamagedBy.readUnitMemory('yyxg',type='number') >= 35 and lastDamagedBy.readUnitMemory('yyxg',type='number') <= 44 and not self.globalTeamTags(includes="无指挥官")
setUnitMemory:yyxg2=1
setResourcesWithLogic:yydjs=10

[hiddenAction_鹰眼标记]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.globalTeamTags(includes="鹰眼") and not self.globalTeamTags(includes="无指挥官") and memory.yybj != true
spawnUnits:标记(setToTeamOfLastAttacker=true)
setUnitMemory:yybj=true

[hiddenAction_标记减少]
autoTriggerOnEvent:newMessage(withTag="标记")
setUnitMemory:yybj=false

[hiddenAction_鹰眼倒计时]
autoTrigger:if self.resource.yydjs > 0
addResources:yydjs:-0.5

[hiddenAction_鹰眼效果结束]
autoTrigger:if self.resource.yydjs <= 0 and memory.yyxg2 != 0
setUnitMemory:yyxg2=0


[action_show鹰眼效果]
#infoOnly:true
text:射程衰减\n剩余%{int(self.resource(type="yydjs"))}s
description:射程衰减...\n攻击距离减少70%\n由于敌方鹰眼指挥官所造成的效果
buildSpeed:0s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/射程衰减.png
pos:21
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="yydjs") > 0



#-----特殊模式-----

[hiddenAction_关闭刮痧]
autoTriggerOnEvent:created
setUnitMemory:guasha=1

[hiddenAction_刮痧模式开启]
autoTrigger:if self.globalTeamTags(includes="刮痧") and memory.guasha != 0
setUnitMemory:guasha=0

[decal_晶体]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/晶体.png
imageScaleX:1
imageScaleY:1
@define timer_5s:((self.timeAlive()%2)/2)
alpha:0.45+cos(${timer_5s}*360)*0.2
onlyWhileAlive:true
imageScale:${core.radius*0.01}
isVisible:if memory.jt > 0
frame:memory.jt-1
total_frames:6
yOffsetRelative:${(core.radius+5)*-0.35}

[decal_晶体2级]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/二级.png
imageScaleX:1
imageScaleY:1
@define timer_5s:((self.timeAlive()%2)/2)
alpha:0.45+cos(${timer_5s}*360)*0.2
onlyWhileAlive:true
imageScale:${core.radius*0.006}
isVisible:if self.resource.shjt == 2 or self.resource.kjjt == 2 or self.resource.lyjt == 2 or  self.resource.hsjt == 2 or self.resource.jfjt == 2 or self.resource.nyjt == 2
yOffsetRelative:${(core.radius+5)*-0.3}

[decal_晶体3级]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/三级.png
imageScaleX:1
imageScaleY:1
@define timer_5s:((self.timeAlive()%2)/2)
alpha:0.45+cos(${timer_5s}*360)*0.2
onlyWhileAlive:true
imageScale:${core.radius*0.004}
isVisible:if self.resource.shjt == 3 or self.resource.kjjt == 3 or self.resource.lyjt == 3 or  self.resource.hsjt == 3 or self.resource.jfjt == 3 or self.resource.nyjt == 3
yOffsetRelative:${(core.radius+5)*-0.3}

[action_T2]
convertTo_keepCurrentFields:maxHp,nanoFactorySpeed,moveSpeed,maxAttackRange,maxShield,maxEnergy,armour,shootDelayMultiplier,shootDamageMultiplier,maxTurnSpeed

[hiddenAction_银行1]
autoTrigger:if self.globalTeamTags(includes="欠钱不还")
addResources:hp:-12.5,energy:-0.25,shield:-5
setResourcesWithLogic:lx:10,xuany:10,shih:10,kjbssy:10,hsbssy:10,fs:10

[movement]
turnAcceleration:0.06
moveAccelerationSpeed:0.05
moveDecelerationSpeed:0.1
slowDeathFall:true
moveSlidingMode:false

[graphics]
showSelectionIndicator:false
movementEffect:CUSTOM:MovingSmoke
showHealthBar:false
showEnergyBar:false
showShieldBar:false
movementEffectRate:20
teamColorsOnTurret:true
image_shield:ROOT:[WarField][战争之地]/-shared-/-贴图-/shield_mid.png

#---1.5倍---

[hiddenAction_-1倍]
autoTrigger:if not self.globalTeamTags(includes="1.5建造") and memory.jzsd != 1*memory.sjjzsd and memory.疾风!= 1 and not self.globalTeamTags(includes="2建造") and not self.globalTeamTags(includes="3建造") and self.globalTeamTags(includes='阳寿')
setUnitMemory:jzsd=1*memory.sjjzsd
setUnitStats:nanoFactorySpeed=memory.jzsd

[hiddenAction_建造速度赋值]
autoTrigger:if self.globalTeamTags(includes="1.5建造")
setUnitStats:nanoFactorySpeed=memory.jzsd

[hiddenAction_1倍]
autoTrigger:if not self.globalTeamTags(includes="1.5建造") and memory.jzsd != 1.5*memory.sjjzsd and memory.疾风 == 1 and not self.globalTeamTags(includes="2建造") and not self.globalTeamTags(includes="3建造")
setUnitMemory:jzsd=1.5*memory.sjjzsd
setUnitStats:nanoFactorySpeed=memory.jzsd

[hiddenAction_1.5倍]
autoTrigger:if self.globalTeamTags(includes="1.5建造") and memory.jzsd != 1.5+0.5*memory.疾风*memory.sjjzsd and not self.globalTeamTags(includes="2建造") and not self.globalTeamTags(includes="3建造")
setUnitMemory:jzsd=1.5+0.5*memory.疾风*memory.sjjzsd

[hiddenAction_2倍]
autoTrigger:if self.globalTeamTags(includes="2建造") and memory.jzsd != 2+1*memory.疾风*memory.sjjzsd and not self.globalTeamTags(includes="3建造")
setUnitMemory:jzsd=2+1*memory.疾风*memory.sjjzsd

[hiddenAction_3倍]
autoTrigger:if self.globalTeamTags(includes="3建造") and memory.jzsd != 3+1.5*memory.疾风*memory.sjjzsd
setUnitMemory:jzsd=3+1.5*memory.疾风*memory.sjjzsd


#---究极护甲---

[hiddenAction_究极护甲]
autoTrigger:if self.globalTeamTags(includes='究极护甲') and memory.jjhj != 1
setResourcesWithLogic:hp:99999,hfjs:1
setUnitMemory:jjhj=1

[hiddenAction_究极护甲恢复]
autoTrigger:if self.globalTeamTags(includes='究极护甲') and not self.hp(full=true)
addResources:hp:2.5

[hiddenAction_究极护甲恢复2]
autoTrigger:if self.globalTeamTags(includes='究极护甲') and not self.shield(full=true)
addResources:shield:2.5

#---无限火力---

[hiddenAction_无限火力]
autoTrigger:if self.globalTeamTags(includes='无限火力') and not self.energy(full=true)
setResourcesWithLogic:energy:${core.energyMax}

[hiddenAction_无限火力2]
autoTrigger:if self.globalTeamTags(includes='无限火力') and self.isAttacking()
setResourcesWithLogic:energy:${core.energyMax}

#---单位固定加强----

[hiddenAction_普通单位加强]
autoTrigger:if self.globalTeamTags(includes='单位加强1') and not self.tags(includes='实验单位') and self.resource.dwjq != 1 and not self.globalTeamTags(includes='单位加强2') and self.resource.dwjq != 2
setResourcesWithLogic:dwjq=1,hp:99999,hfjs:1

[hiddenAction_普通单位加强2]
autoTriggerOnEvent:created
requireConditional:if self.globalTeamTags(includes='单位加强1') and not self.tags(includes='实验单位') and not self.globalTeamTags(includes='单位加强2')
#setResourcesWithLogic:dj=3
setResourcesWithLogic:hp:99999,hfjs:0.5

[hiddenAction_普通单位加强生命]
autoTrigger:if self.globalTeamTags(includes='单位加强1') and not self.tags(includes='实验单位') and not self.hp(full=true) and not self.globalTeamTags(includes='单位加强2')
addResources:hp:1

[hiddenAction_普通单位加强护盾]
autoTrigger:if self.globalTeamTags(includes='单位加强1') and not self.tags(includes='实验单位') and not self.shield(full=true) and not self.globalTeamTags(includes='单位加强2')
addResources:shield:1

#70分钟后

[hiddenAction_普通单位加强l]
autoTrigger:if self.globalTeamTags(includes='单位加强2') and not self.tags(includes='实验单位') and self.resource.dwjq != 2
setResourcesWithLogic:dwjq=2,hp:99999,hfjs:1

[hiddenAction_普通单位加强2l]
autoTriggerOnEvent:created
requireConditional:if self.globalTeamTags(includes='单位加强2') and not self.tags(includes='实验单位')
addResourcesWithLogic:dj=3,hp:99999,hfjs:0.5

[hiddenAction_普通单位加强生命l]
autoTrigger:if self.globalTeamTags(includes='单位加强2') and not self.tags(includes='实验单位') and not self.hp(full=true)
addResources:hp:2

[hiddenAction_普通单位加强护l]
autoTrigger:if self.globalTeamTags(includes='单位加强2') and not self.tags(includes='实验单位') and not self.shield(full=true)
addResources:shield:2

#--科技单位加强--

[hiddenAction_普通加强]
autoTrigger:if self.globalTeamTags(includes='普通升级') and not self.tags(includes='实验单位') and self.resource.dwjq2 != 1 and not self.globalTeamTags(includes='普通升级2') and self.resource.dwjq2 != 2
setResourcesWithLogic:dwjq2=1,hp:99999,hfjs:1

[hiddenAction_普通单位生命]
autoTrigger:if self.globalTeamTags(includes='普通升级') and not self.tags(includes='实验单位') and not self.hp(full=true) and not self.globalTeamTags(includes='普通升级2')
addResources:hp:1

[hiddenAction_普通单位护盾]
autoTrigger:if self.globalTeamTags(includes='普通升级') and not self.tags(includes='实验单位') and not self.shield(full=true) and not self.globalTeamTags(includes='普通升级2')
addResources:shield:1

#--科技2级加强--

[hiddenAction_普通加强l]
autoTrigger:if self.globalTeamTags(includes='普通升级2') and not self.tags(includes='实验单位') and self.resource.dwjq2 != 2
setResourcesWithLogic:dwjq2=2,hp:99999,hfjs:1

[hiddenAction_普通单位加强2l]
autoTriggerOnEvent:created
requireConditional:if self.globalTeamTags(includes='普通升级2') and not self.tags(includes='实验单位')
addResourcesWithLogic:dj=2,hp:99999,hfjs:0.5

[hiddenAction_普通单位加强生命l]
autoTrigger:if self.globalTeamTags(includes='普通升级2') and not self.tags(includes='实验单位') and not self.hp(full=true)
addResources:hp:2

[hiddenAction_普通单位加强护l]
autoTrigger:if self.globalTeamTags(includes='普通升级2') and not self.tags(includes='实验单位') and not self.shield(full=true)
addResources:shield:2

#---实验升级---

[hiddenAction_实验单位加强]
autoTrigger:if self.globalTeamTags(includes='实验升级') and self.tags(includes='实验单位') and self.resource.sysj != 1 and not self.globalTeamTags(includes='实验升级2') and self.resource.sysj != 2
setResourcesWithLogic:sysj=1,hp:99999,hfjs:1

[hiddenAction_实验单位加强2]
autoTrigger:if self.globalTeamTags(includes='实验升级2') and self.tags(includes='实验单位') and self.resource.sysj != 2
setResourcesWithLogic:sysj=2,hp:99999,hfjs:1




#---全体资源---

[global_resource_djds1]
hidden:true
displayName:点数
displayRoundedDown:true

[global_resource_sjd]
hidden:false
displayRoundedDown:false
displayName:升级点数
displayColor:#E3FFFC00
displayWhenZero:false

[global_resource_zxf]
displayWhenZero:false
hidden:true
displayName:自修复工具
displayRoundedDown:true

[global_resource_pt]
hidden:true
displayWhenZero:false
displayName:普通子弹
displayRoundedDown:true
displayColor:#E8FF46

[global_resource_dx]
hidden:true
displayRoundedDown:true
displayWhenZero:false
displayName:大型子弹
displayColor:#74CBFF

[global_resource_ts]
hidden:true
displayRoundedDown:true
displayName:特殊子弹
displayWhenZero:false
displayColor:#A88BFF

[global_resource_sy]
hidden:true
displayRoundedDown:true
displayName:石油
displayColor:#AF7310
displayWhenZero:true

[global_resource_rk]
hidden:true
displayRoundedDown:true
displayName:人口
displayColor:#FF79822E
displayWhenZero:true

#---个体资源---

[resource_jsdjs]
displayName:巨兽效果倒计时
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_jfdjs]
displayName:疾风效果倒计时
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_yydjs]
displayName:鹰眼效果倒计时
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_fyzdjs]
displayName:防御者效果倒计时
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_fl]
displayName:分裂
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_mhdjs]
displayName:灭火倒计时
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_nyjt]
displayName:能源晶体
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_jfjt]
displayName:飓风晶体
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_kjjt]
displayName:恐惧晶体
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_shjt]
displayName:守护晶体
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_lyjt]
displayName:烈焰晶体
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_hsjt]
displayName:寒霜晶体
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_sysj]
displayName:实验升级
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_dwjq2]
displayName:普通加强
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_dwjq]
displayName:单位加强
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_jf]
displayName:飓风
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_kjbssy]
displayName:恐惧
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_kjbs2]
displayName:恐惧2
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_kjbs]
displayName:恐惧2
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_liey2]
displayName:烈焰2
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_liey]
displayName:烈焰
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_hsbssy]
displayName:寒霜
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_hsbs]
displayName:寒霜2
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_bsnl]
displayName:宝石能量
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_bssj]
displayName:宝石随机
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_crdt]
displayName:炽热倒计时
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_crdtsy]
displayName:炽热弹头
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_lxdfdj]
displayName:连续得分等级
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_lxdf]
displayName:连续得分
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_ljnl]
displayName:累计能量
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_sm]
displayName:生命
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_hfjs]
displayName:恢复计时
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_mssh]
displayName:磨损伤害
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_sh]
displayName:伤害
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_djds]
displayName:等级点数
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_dj]
displayName:等级
hidden:true
displayWhenZero:true
displayRoundedDown:true

[resource_mk]
displayName:模块数量
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_msd]
displayName:磨损度
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_shih]
displayName:失衡恢复时间
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_xuany]
displayName:眩晕恢复时间
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_bmjs]
displayName:不灭金身恢复时间
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_bm]
displayName:不灭金身剩余
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_jrsy]
displayName:惊人一刻剩余时间
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_jr]
displayName:惊人一刻恢复时间
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_lx]
displayName:流血恢复时间
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_wslx]
displayName:流血2恢复时间
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_fs]
displayName:腐蚀恢复时间
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_zj]
displayName:重甲恢复时间
hidden:false
displayWhenZero:true
displayRoundedDown:true

[resource_ld]
displayName:引擎|推进器血量

[resource_rsd]
displayName:燃烧点

#---触发---

#---模块化---

[action_展开]
text:\n展开1号模块\n
displayType:queueUnit
pos:29
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/select_open.png
buildSpeed:0s
alwaysSinglePress:true
isVisible:if not self.hasFlag(id=25) and self.globalTeamTags(includes='模块T1') and self.numberOfAttachedUnits() <= 0
addResources:setFlag=25
ai_isHighPriority:false

[action_展开2]
text:\n展开2号模块\n
displayType:queueUnit
pos:29
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/select_open.png
buildSpeed:0s
alwaysSinglePress:true
isVisible:if not self.hasFlag(id=26) and self.globalTeamTags(includes='模块T2') and self.numberOfAttachedUnits() >= 1 and self.numberOfAttachedUnits() < 2
addResources:setFlag=26
ai_isHighPriority:false

[action_展开3]
text:\n展开3号模块\n
displayType:queueUnit
pos:29
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/select_open.png
buildSpeed:0s
alwaysSinglePress:true
isVisible:if not self.hasFlag(id=24) and self.globalTeamTags(includes='模块T3') and self.numberOfAttachedUnits() <= 2 and self.numberOfAttachedUnits() >= 2
addResources:setFlag=24
ai_isHighPriority:false

[action_关闭]
text:\n关闭模块\n
displayType:queueUnit
pos:29
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/select_close.png
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=25) and self.globalTeamTags(includes='模块T1') or self.hasFlag(id=26) and self.globalTeamTags(includes='模块T1') or self.hasFlag(id=24) and self.globalTeamTags(includes='模块T1')
addResources:unsetFlag=25,unsetFlag:26,unsetFlag:24

#T1

[action_机枪模块增加]
text:\n机枪模块\n
price:1800,mk:1,rk:5
buildSpeed:5s
pos:30
displayType:action
description:装备机枪\n弹容量高\n续航力高\n只能对地
allowMultipleInQueue:false
isLocked:if self.queueSize(greaterThan=0)
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/select.png
addResources:unsetFlag=25,unsetFlag:26,unsetFlag:24
isVisible:if self.globalTeamTags(includes='模块T1') and self.hasFlag(id=25)
attachments_addNewUnits:机枪模块
attachments_onlyOnSlots:模块
ai_isHighPriority:false

[action_导弹模块增加]
text:\n导弹模块\n
price:2300,mk:1,rk:8
description:发射导弹\n射程较远\n对空对地
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:导弹模块

[action_火炮模块增加]
text:\n火炮模块\n
price:2800,mk:1,rk:10
description:射程很远\n伤害较高\n缓冲较大\n只能对地
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:火炮模块

[action_激光模块增加]
text:\n激光模块\n
price:3200,mk:1,rk:15
description:穿透护盾\n射程较远\n对空对地
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:激光模块

[action_拦截模块增加]
text:\n拦截模块\n
price:4100,mk:1,rk:15
description:拦截子弹\n不能拦截激光火焰等
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:拦截模块

[action_修复模块增加]
text:\n修复模块\n
@copyFromSection:action_机枪模块增加
description:高速修复\n可以修复其他单位和自身单位
price:3800,mk:1,rk:10
attachments_addNewUnits:修复模块

[action_护盾模块增加]
text:\n护盾模块\n
price:5800,mk:1,rk:15
description:护盾最大值增加500\n护盾恢复速度增加\nT2增加:1000
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:护盾模块

[action_传送模块增加]
text:\n传送模块\n
price:6500,mk:1,rk:15
description:提供500距离的传送\n有缓冲时间\nT2增加:1000
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:传送模块

[action_伤害模块增加]
text:\n伤害模块\n
price:7500,mk:1,rk:15
description:伤害乘数增加0.4\nT2增加:0.8
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:伤害模块

[action_射程模块增加]
text:\n射程模块\n
price:7900,mk:1,rk:15
description:射程增加40\nT2增加:80
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:射程模块

[action_速度模块增加]
text:\n速度模块\n
price:6300,mk:1,rk:15
description:速度增加0.15\nT2增加:0.3
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:速度模块

[action_雷达模块增加]
text:\n雷达模块\n
price:5300,mk:1,rk:15
description:可以探测单位\n但是无法获得视野
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:雷达模块

[action_汲取模块增加]
text:\n汲取模块\n
description:击杀单位后\n恢复自身最大血量5%的生命\n恢复最大护盾的5%\n恢复1能量值\n增加自身半径50%的等级点数
price:8500,mk:1,rk:15
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:汲取模块

[action_穿透模块增加]
text:\n穿透模块\n
price:9500,mk:1,rk:15
description:敌人受到伤害时\n额外受到自身(敌人)装甲1倍的伤害
@copyFromSection:action_机枪模块增加
attachments_addNewUnits:穿透模块

#T2

[action_机枪模块增加l]
text:\n机枪模块\n
price:1800,mk:1,rk:5
buildSpeed:5s
pos:30
displayType:action
description:装备机枪\n弹容量高\n续航力高\n只能对地
allowMultipleInQueue:false
isLocked:if self.queueSize(greaterThan=0)
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/select.png
addResources:unsetFlag=25,unsetFlag:26,unsetFlag:24
isVisible:if self.globalTeamTags(includes='模块T1') and self.hasFlag(id=26)
attachments_addNewUnits:机枪模块
attachments_onlyOnSlots:模块2
ai_isHighPriority:false

[action_导弹模块增加l]
text:\n导弹模块\n
price:2300,mk:1,rk:8
description:发射导弹\n射程较远\n对空对地
@copyFromSection:action_机枪模块增加l

[action_火炮模块增加l]
text:\n火炮模块\n
price:2800,mk:1,rk:10
@copyFromSection:action_机枪模块增加l
attachments_addNewUnits:火炮模块
description:射程很远\n伤害较高\n缓冲较大\n只能对地

[action_激光模块增加l]
text:\n激光模块\n
price:3200,mk:1,rk:15
@copyFromSection:action_机枪模块增加l
description:穿透护盾\n射程较远\n对空对地
attachments_addNewUnits:激光模块

[action_拦截模块增加l]
text:\n拦截模块\n
price:4100,mk:1,rk:15
@copyFromSection:action_机枪模块增加l
attachments_addNewUnits:拦截模块
description:拦截子弹\n不能拦截激光火焰等

[action_修复模块增加l]
text:\n修复模块\n
description:高速修复\n可以修复其他单位和自身单位
price:3800,mk:1,rk:10
@copyFromSection:action_机枪模块增加l
attachments_addNewUnits:修复模块

[action_护盾模块增加l]
text:\n护盾模块\n
price:5800,mk:1,rk:15
description:最大护盾增加500\n护盾恢复速度增加\nT2增加:1000
@copyFromSection:action_机枪模块增加l
attachments_addNewUnits:护盾模块

[action_传送模块增加l]
text:\n传送模块\n
price:6500,mk:1,rk:15
description:提供500范围的传送\nT2增加:1000
@copyFromSection:action_机枪模块增加l
attachments_addNewUnits:传送模块

[action_伤害模块增加l]
text:\n伤害模块\n
price:7500,mk:1,rk:15
description:伤害乘数增加0.4\nT2增加:0.8
@copyFromSection:action_机枪模块增加l
attachments_addNewUnits:伤害模块

[action_射程模块增加l]
text:\n射程模块\n
price:7900,mk:1,rk:15
description:射程增加40\nT2增加:80
@copyFromSection:action_机枪模块增加l
attachments_addNewUnits:射程模块

[action_速度模块增加l]
text:\n速度模块\n
price:6300,mk:1,rk:15
description:速度增加0.15\nT2增加:0.3
@copyFromSection:action_机枪模块增加l
attachments_addNewUnits:速度模块

[action_雷达模块增加l]
text:\n雷达模块\n
price:5300,mk:1,rk:15
description:可以探测单位\n但是无法获得视野
@copyFromSection:action_机枪模块增加l
attachments_addNewUnits:雷达模块

[action_汲取模块增加l]
text:\n汲取模块\n
price:8500,mk:1,rk:15
description:击杀单位后\n恢复自身最大血量10%的生命\n恢复最大护盾的10%\n恢复2能量值\n增加自身半径的等级点数
@copyFromSection:action_机枪模块增加l
attachments_addNewUnits:汲取模块

[action_穿透模块增加l]
text:\n穿透模块\n
price:9500,mk:1,rk:15
description:敌人受到伤害时\n额外受到自身(敌人)装甲2倍的伤害
@copyFromSection:action_机枪模块增加l
attachments_addNewUnits:穿透模块

#T3

[action_机枪模块增加a]
text:\n机枪模块\n
price:1800,mk:1,rk:5
buildSpeed:5s
pos:30
displayType:action
description:装备机枪\n弹容量高\n续航力高\n只能对地
allowMultipleInQueue:false
isLocked:if self.queueSize(greaterThan=0)
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/select.png
addResources:unsetFlag=25,unsetFlag:26,unsetFlag:24
isVisible:if self.globalTeamTags(includes='模块T1') and self.hasFlag(id=24)
attachments_addNewUnits:机枪模块
attachments_onlyOnSlots:模块3
ai_isHighPriority:false

[action_导弹模块增加a]
text:\n导弹模块\n
price:2300,mk:1,rk:8
description:发射导弹\n射程较远\n对空对地
@copyFromSection:action_机枪模块增加a

[action_火炮模块增加a]
text:\n火炮模块\n
price:2800,mk:1,rk:10
@copyFromSection:action_机枪模块增加a
attachments_addNewUnits:火炮模块
description:射程很远\n伤害较高\n缓冲较大\n只能对地

[action_激光模块增加a]
text:\n激光模块\n
price:3200,mk:1,rk:15
@copyFromSection:action_机枪模块增加a
description:穿透护盾\n射程较远\n对空对地
attachments_addNewUnits:激光模块

[action_拦截模块增加a]
text:\n拦截模块\n
price:4100,mk:1,rk:15
@copyFromSection:action_机枪模块增加a
attachments_addNewUnits:拦截模块
description:拦截子弹\n不能拦截激光火焰等

[action_修复模块增加a]
text:\n修复模块\n
description:高速修复\n可以修复其他单位和自身单位
price:3800,mk:1,rk:10
@copyFromSection:action_机枪模块增加a
attachments_addNewUnits:修复模块

[action_护盾模块增加a]
text:\n护盾模块\n
price:5800,mk:1,rk:15
description:最大护盾增加500\n护盾恢复速度增加\nT2增加:1000
@copyFromSection:action_机枪模块增加a
attachments_addNewUnits:护盾模块

[action_传送模块增加a]
text:\n传送模块\n
price:6500,mk:1,rk:15
description:提供500范围的传送\nT2增加:1000
@copyFromSection:action_机枪模块增加a
attachments_addNewUnits:传送模块

[action_伤害模块增加a]
text:\n伤害模块\n
price:7500,mk:1,rk:15
description:伤害乘数增加0.4\nT2增加:0.8
@copyFromSection:action_机枪模块增加a
attachments_addNewUnits:伤害模块

[action_射程模块增加a]
text:\n射程模块\n
price:7900,mk:1,rk:15
description:射程增加40\nT2增加:80
@copyFromSection:action_机枪模块增加a
attachments_addNewUnits:射程模块

[action_速度模块增加a]
text:\n速度模块\n
price:6300,mk:1,rk:15
description:速度增加0.15\nT2增加:0.3
@copyFromSection:action_机枪模块增加a
attachments_addNewUnits:速度模块

[action_雷达模块增加a]
text:\n雷达模块\n
price:5300,mk:1,rk:15
description:可以探测单位\n但是无法获得视野
@copyFromSection:action_机枪模块增加a
attachments_addNewUnits:雷达模块

[action_汲取模块增加a]
text:\n汲取模块\n
price:8500,mk:1,rk:15
description:击杀单位后\n恢复自身最大血量10%的生命\n恢复最大护盾的10%\n恢复2能量值\n增加自身半径的等级点数\nT2模块则以上数值翻倍
@copyFromSection:action_机枪模块增加a
attachments_addNewUnits:汲取模块

[action_穿透模块增加a]
text:\n穿透模块\n
price:9500,mk:1,rk:15
description:敌人受到伤害时\n额外受到自身(敌人)装甲2倍的伤害
@copyFromSection:action_机枪模块增加a
attachments_addNewUnits:穿透模块

#删除

[action_删除附属]
text:\n删除3号模块\n
buildSpeed:3s
displayType:action
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/select_delate.png
pos:30
description:删除3号模块\n并清除当前模块加成
isVisible:if self.globalTeamTags(includes='模块T1') and self.numberOfAttachedUnits() >= 3
attachments_deleteNumUnits:1
addResources:unsetFlag=25,unsetFlag:26,unsetFlag:24
setUnitMemory:shmk=0,scmk=0,sdmk=0,jqmk=0,ctmk=0
addResourcesWithLogic:credits=5000,rk=10

[action_删除附属2]
text:\n删除2号模块\n
buildSpeed:3s
displayType:action
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/select_delate.png
pos:30
description:删除2号模块\n并清除当前模块加成
isVisible:if self.globalTeamTags(includes='模块T1') and self.numberOfAttachedUnits() >= 2 and self.numberOfAttachedUnits() <= 2
attachments_deleteNumUnits:1
addResources:unsetFlag=25,unsetFlag:26,unsetFlag:24
setUnitMemory:shmk=0,scmk=0,sdmk=0,jqmk=0,ctmk=0
addResourcesWithLogic:credits=5000,rk=10

[action_删除附属3]
text:\n删除1号模块\n
buildSpeed:3s
displayType:action
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/select_delate.png
pos:30
description:删除1号模块\n并清除当前模块加成
isVisible:if self.globalTeamTags(includes='模块T1') and self.numberOfAttachedUnits() == 1
attachments_deleteNumUnits:1
addResources:unsetFlag=25,unsetFlag:26,unsetFlag:24
setUnitMemory:shmk=0,scmk=0,sdmk=0,jqmk=0,ctmk=0
addResourcesWithLogic:credits=5000,rk=10

#---模块显示



#模块数量

[hiddenAction_模块恢复]
autoTrigger:if self.numberOfAttachedUnits() <= 2 and self.globalTeamTags(includes='模块T1') and self.resource.mk != 3
setResourcesWithLogic:mk=3

[attachment_模块]
x:${core.radius+5}
y:${(core.radius*-1)-5}
height:20
idleDir:0
isVisible:true
keepAliveWhenParentDies:false
setDrawLayerOnTop:true
isUnselectable:true
canBeAttackedAndDamaged:false
rotateWithParent:true

[attachment_模块2]
x:${(core.radius*-1)-5}
y:${(core.radius*-1)-5}
height:20
idleDir:0
isVisible:true
keepAliveWhenParentDies:false
setDrawLayerOnTop:true
isUnselectable:true
canBeAttackedAndDamaged:false
rotateWithParent:true

[attachment_模块3]
x:0
y:${(core.radius*-1)-15}
height:20
idleDir:-90
isVisible:true
keepAliveWhenParentDies:false
setDrawLayerOnTop:true
isUnselectable:true
canBeAttackedAndDamaged:false
rotateWithParent:true

#---人机---

#--人机特殊操作--

[hiddenAction_人机护盾加成]
autoTrigger:if self.isControlledByAI() and self.globalTeamTags(includes='死亡模式') and self.hasUnitInTeam(withTag="研究中心",greaterThan=0) and self.shield(full=true)
addResources:shield=1

[hiddenAction_人机生命加成]
autoTrigger:if self.isControlledByAI() and self.globalTeamTags(includes='困难模式') and not self.hasUnitInTeam(withTag="研究中心",greaterThan=0) and not self.hp(full=true)
addResources:hp=0.05

[hiddenAction_人机生命加成2]
autoTrigger:if self.isControlledByAI() and self.globalTeamTags(includes='困难模式') and self.hasUnitInTeam(withTag="研究中心",greaterThan=0) and not self.hp(full=true)
addResources:hp=0.05

[hiddenAction_人机生命加成l]
autoTrigger:if self.isControlledByAI() and self.globalTeamTags(includes='死亡模式') and not self.hasUnitInTeam(withTag="研究中心",greaterThan=0) and not self.hp(full=true)
addResources:hp=0.1

[hiddenAction_人机生命加成l2]
autoTrigger:if self.isControlledByAI() and self.globalTeamTags(includes='死亡模式') and self.hasUnitInTeam(withTag="研究中心",greaterThan=0) and not self.hp(full=true)
addResources:hp=0.15

[hiddenAction_人机弹药加成]
autoTrigger:if self.isControlledByAI() and self.globalTeamTags(includes='死亡模式') and not self.queueSize(greaterThan=0) and not self.energy(full=true) and not self.hasUnitInTeam(withTag="研究中心",greaterThan=0)
addResources:energy=0.25

[hiddenAction_人机弹药加成2]
autoTrigger:if self.isControlledByAI() and self.globalTeamTags(includes='死亡模式') and not self.queueSize(greaterThan=0) and self.hasUnitInTeam(withTag="研究中心",greaterThan=0) and not self.energy(full=true)
addResources:energy=0.5

[hiddenAction_低血量和修复湾]
autoTrigger:if self.hp <self.maxHp*0.6 and self.hasUnitInTeam(withTag='修复湾',greaterThan=0,withinRange=280) and self.isControlledByAI()
addWaypoint_target_nearestUnit_team:own
addWaypoint_target_nearestUnit_tagged:修复湾
clearActiveWaypoint:true
addWaypoint_type:move

[hiddenAction_低血量返回]
autoTrigger:if self.hp <self.maxHp*0.6 and not self.hasUnitInTeam(withTag='修复湾',greaterThan=0,withinRange=280) and self.isControlledByAI()
addWaypoint_target_nearestUnit_team:own
addWaypoint_target_nearestUnit_tagged:指挥中心
clearActiveWaypoint:true
addWaypoint_type:move

[hiddenAction_目标攻击]
autoTrigger:if numberOfUnitsInEnemyTeam(withTag='护盾发生器',greaterThan=0,withinRange=600) and self.isControlledByAI() and self.hp >self.maxHp*0.6
addWaypoint_target_nearestUnit_team:enemy
addWaypoint_target_nearestUnit_tagged:护盾发生器
clearActiveWaypoint:true
addWaypoint_type:attack

[hiddenAction_目标攻击2]
autoTrigger:if numberOfUnitsInEnemyTeam(withTag='反核装置',greaterThan=0,withinRange=500) and not numberOfUnitsInEnemyTeam(withTag='护盾发生器',greaterThan=0,withinRange=600) and self.isControlledByAI() and self.hp >self.maxHp*0.6
addWaypoint_target_nearestUnit_team:enemy
addWaypoint_target_nearestUnit_tagged:反核装置
clearActiveWaypoint:true
addWaypoint_type:attack

[action_手动换的]
isVisible:if not self.energy(full=true) and self.energy() > 0 and not self.globalTeamTags(includes='无限火力')
isLocked:if self.queueSize(greaterThan=0)
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/重新装载.png
addResources:energy=-999
text:手动换弹
isActive:true
isGuiBlinking:true
buildSpeed:0
setResourcesWithLogic:hdjs=16
ai_isHighPriority:true
pos:-1.1
displayType:action
description:手动进行换弹\n同样会消耗弹药量\n但是会清空当前弹夹

#---传送模块---

[action_blink]
isVisible:if self.numberOfAttachedUnits(withTag='传送模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='传送模块T2',greaterThan=0)
fireTurretXAtGround:blink
fireTurretXAtGround_onlyOverPassableTileOf:OVER_CLIFF_WATER
whenBuilding_cannotMove:true
text:折跃
description:将自己传送到指定位置
displayType:action
buildSpeed:2s
pos:-1
highPriorityQueue:true
addActionCooldownTime:30s
iconImage:SHARED:icon_attack_point.png

[action_blink2]
isVisible:if self.numberOfAttachedUnits(withTag='传送模块T2',greaterThan=0)
fireTurretXAtGround:blink2
whenBuilding_cannotMove:true
text:折跃
fireTurretXAtGround_onlyOverPassableTileOf:OVER_CLIFF_WATER
description:将自己传送到指定位置
displayType:action
buildSpeed:2s
pos:-1
highPriorityQueue:true
addActionCooldownTime:45s
iconImage:SHARED:icon_attack_point.png

[turret_blink]
x:0
y:0
canShoot:false
invisible:true
size:1
projectile:blink
turnSpeed:40
limitingRange:400

[turret_blink2]
x:0
y:0
projectile:blink
canShoot:false
invisible:true
size:1
turnSpeed:40
limitingRange:750

[projectile_blink]
teleportSource:true
instant:true
directDamage:0
life:99999
speed:1
targetGround:true
deflectionPower:-1
shouldRevealFog:true
explodeEffect:CUSTOM:e1

#---科技部分---

#---点石成金---

[hiddenAction_升级点数增加]
autoTriggerOnEvent:killedAnyUnit
addResourcesWithLogic:sjd=0.05,credits=memory.生命*0.1,djds1:5

[action_换弹]
isVisible:if self.energy() > 0
setResourcesWithLogic:hdjs=16
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/重新装载.png

#---生命值--

#---修复---

[hiddenAction_修复零阶]
autoTrigger:if not self.globalTeamTags(includes="修复1") and not self.globalTeamTags(includes="修复2") and memory.xfjl != ${core.nanoRange}
setUnitStats:nanoRange=memory.xfjl
setUnitMemory:xfjl=${core.nanoRange}

[hiddenAction_修复一阶]
autoTrigger:if self.globalTeamTags(includes="修复1") and not self.globalTeamTags(includes="修复2") and memory.xfjl != ${core.nanoRange*1.3}
setUnitStats:nanoRange=memory.xfjl
setUnitMemory:xfjl=${core.nanoRange*1.3}

[hiddenAction_修复二阶]
autoTrigger:if self.globalTeamTags(includes="修复2") and memory.xfjl != ${core.nanoRange*1.6}
setUnitStats:nanoRange=memory.xfjl
setUnitMemory:xfjl=${core.nanoRange*1.6}

#---吸引---

[hiddenAction_吸引阶]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.globalTeamTags(includes="吸引") and self.hasTakenDamage(withinSeconds=2) and not self.globalTeamTags(includes="无坚不摧")
spawnUnits:吸引中介(setToTeamOfLastAttacker=true)

#---监视者武士流血---

[hiddenAction_监视者流血一阶]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.tags(includes='监视者') and self.hasTakenDamage(withinSeconds=2)
setResourcesWithLogic:wslx=8,shih=8

[hiddenAction_流血额外伤害]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="wslx") > 0
addResources:hp:-40

[hiddenAction_监视者开始]
autoTrigger:if self.resource(type="wslx") > 0
addResources:wslx=-0.5

[hiddenAction_监视者开始]
autoTrigger:if self.resource(type="wslx") > 0
addResources:hp=-2.5

#---武士流血---

[hiddenAction_武士流血一阶]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.tags(includes='武士机甲') and self.hasTakenDamage(withinSeconds=2)
setResourcesWithLogic:wslx=7,shih=5

[hiddenAction_武士开始]
autoTrigger:if self.resource(type="wslx") > 0
addResources:wslx=-0.5

#---回收利用---

[hiddenAction_回收利用]
autoTriggerOnEvent:destroyed
requireConditional:if self.globalTeamTags(includes="回收利用") and not self.globalTeamTags(includes="回收利用2")
addResourcesWithLogic:credits=${core.maxHp}*0.4

[hiddenAction_回收利用]
autoTriggerOnEvent:destroyed
requireConditional:if self.globalTeamTags(includes="回收利用2")
addResourcesWithLogic:credits=${core.maxHp}*0.8


#---自爆---

[hiddenAction_自爆一阶]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.globalTeamTags(includes="自爆") and not lastDamagedBy.globalTeamTags(includes="自爆2")
setUnitMemory:zib1=true

[hiddenAction_自爆er阶]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.globalTeamTags(includes="自爆2")
setUnitMemory:zib2=true

[hiddenAction_自爆开始]
autoTriggerOnEvent:destroyed
requireConditional:if memory.zib1 == true and not memory.zib2 == true
spawnUnits:自爆中介(setToTeamOfLastAttacker=true)

[hiddenAction_自爆开始2]
autoTriggerOnEvent:destroyed
requireConditional:if memory.zib2 == true
spawnUnits:自爆中介2(setToTeamOfLastAttacker=true)

#---磨损---


[hiddenAction_磨损1阶段]
autoTrigger:if self.resource(type="shih") <= 0 and self.resource(type="msd") >= 10*${core.radius*0.05} and self.resource(type="msd") < 20*${core.radius*0.05} and memory.转向 != ${movement.maxTurnSpeed*0.95}
setUnitMemory:转向=${movement.maxTurnSpeed*0.95}
setUnitStats:maxTurnSpeed=memory.转向

[hiddenAction_磨损1阶段l]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="msd") >= 10*${core.radius*0.05} and self.resource(type="msd") < 20*${core.radius*0.05} and not self.globalTeamTags(includes="无坚不摧") and memory.装甲 < 50
addResourcesWithLogic:hp=(memory.装甲-50)

[hiddenAction_磨损1阶段lll]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="msd") >= 10*${core.radius*0.05} and self.resource(type="msd") < 20*${core.radius*0.05} and self.globalTeamTags(includes="无坚不摧") and memory.装甲 < 25
addResourcesWithLogic:hp=(memory.装甲-25)

[hiddenAction_磨损2阶段]
autoTrigger:if self.resource(type="shih") <= 0 and self.resource(type="msd") >= 20*${core.radius*0.05} and self.resource(type="msd") < 30*${core.radius*0.05} and memory.转向 != ${movement.maxTurnSpeed*0.90}
setUnitMemory:转向=${movement.maxTurnSpeed*0.90}
setUnitStats:maxTurnSpeed=memory.转向

[hiddenAction_磨损2阶段l]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="msd") >= 20*${core.radius*0.05} and self.resource(type="msd") < 30*${core.radius*0.05} and not self.globalTeamTags(includes="无坚不摧") and memory.装甲 < 70
addResourcesWithLogic:hp=(memory.装甲-70)

[hiddenAction_磨损2阶段lll]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="msd") >= 20*${core.radius*0.05} and self.resource(type="msd") < 30*${core.radius*0.05} and self.globalTeamTags(includes="无坚不摧") and memory.装甲 < 35
addResourcesWithLogic:hp=(memory.装甲-35)

[hiddenAction_磨损3阶段]
autoTrigger:if self.resource(type="shih") <= 0 and self.resource(type="msd") >= 30*${core.radius*0.05} and self.resource(type="msd") < 40*${core.radius*0.05} and memory.转向 != ${movement.maxTurnSpeed*0.80}
setUnitMemory:转向=${movement.maxTurnSpeed*0.80}
setUnitStats:maxTurnSpeed=memory.转向

[hiddenAction_磨损3阶段l]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="msd") >= 30*${core.radius*0.05} and self.resource(type="msd") < 40*${core.radius*0.05} and not self.globalTeamTags(includes="无坚不摧") and memory.装甲 < 100
addResourcesWithLogic:hp=(memory.装甲-100)

[hiddenAction_磨损3阶段lll]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="msd") >= 30*${core.radius*0.05} and self.resource(type="msd") < 40*${core.radius*0.05} and self.globalTeamTags(includes="无坚不摧") and memory.装甲 < 50
addResourcesWithLogic:hp=(memory.装甲-50)

[hiddenAction_磨损4阶段]
autoTrigger:if self.resource(type="shih") <= 0 and self.resource(type="msd") >= 40*${core.radius*0.05} and self.resource(type="msd") < 50*${core.radius*0.05} and memory.转向 != ${movement.maxTurnSpeed*0.65}
setUnitMemory:转向=${movement.maxTurnSpeed*0.65}
setUnitStats:maxTurnSpeed=memory.转向

[hiddenAction_磨损4阶段l]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="msd") >= 40*${core.radius*0.05} and self.resource(type="msd") < 50*${core.radius*0.05} and not self.globalTeamTags(includes="无坚不摧") and memory.装甲 < 140
addResourcesWithLogic:hp=(memory.装甲-140)

[hiddenAction_磨损4阶段lll]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="msd") >= 40*${core.radius*0.05} and self.resource(type="msd") < 50*${core.radius*0.05} and self.globalTeamTags(includes="无坚不摧") and memory.装甲 < 70
addResourcesWithLogic:hp=(memory.装甲-70)

[hiddenAction_磨损5阶段]
autoTrigger:if self.resource(type="shih") <= 0 and self.resource(type="msd") >= 50*${core.radius*0.05} and memory.转向 != ${movement.maxTurnSpeed*0.45}
setUnitMemory:转向=${movement.maxTurnSpeed*0.45}
setUnitStats:maxTurnSpeed=memory.转向

[hiddenAction_磨损5阶段l]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="msd") >= 50*${core.radius*0.05} and not self.globalTeamTags(includes="无坚不摧") and memory.装甲 < 200
addResourcesWithLogic:hp=(memory.装甲-200)

[hiddenAction_磨损5阶段llll]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="msd") >= 50*${core.radius*0.05} and self.globalTeamTags(includes="无坚不摧") and memory.装甲 < 100
addResourcesWithLogic:hp=(memory.装甲-100)

#---攻击间隔

[hiddenAction_攻击间隔赋值]
autoTriggerOnEvent:created
setUnitStats:shootDelayMultiplier=memory.间隔

[hiddenAction_攻击间隔赋值初始]
autoTriggerOnEvent:created
setUnitMemory:间隔=1
setUnitStats:shootDelayMultiplier=memory.间隔

[hiddenAction_攻击间隔初始2]
autoTrigger:if self.resource(type="msd") >= 10*${core.radius*0.05} and self.resource(type="msd") < 20*${core.radius*0.05} and memory.间隔 != 1 and memory.jt != 4
setUnitMemory:间隔=1
setUnitStats:shootDelayMultiplier=memory.间隔

[hiddenAction_恐惧间隔-1阶段]
autoTrigger:if self.resource(type="msd") <= 10*${core.radius*0.05} and memory.间隔 != 1.5 and memory.jt == 4
setUnitMemory:间隔=1.5
setUnitStats:shootDelayMultiplier=memory.间隔

[hiddenAction_磨损间隔1阶段]
autoTrigger:if self.resource(type="msd") >= 20*${core.radius*0.05} and self.resource(type="msd") < 30*${core.radius*0.05} and memory.间隔 != 1.1 and memory.jt != 4
setUnitMemory:间隔=1.1
setUnitStats:shootDelayMultiplier=memory.间隔

[hiddenAction_恐惧间隔1阶段]
autoTrigger:if self.resource(type="msd") >= 20*${core.radius*0.05} and self.resource(type="msd") < 30*${core.radius*0.05} and memory.间隔 != 1.6 and memory.jt == 4
setUnitMemory:间隔=1.6
setUnitStats:shootDelayMultiplier=memory.间隔

[hiddenAction_磨损间隔2阶段]
autoTrigger:if self.resource(type="msd") >= 30*${core.radius*0.05} and self.resource(type="msd") < 40*${core.radius*0.05}  and memory.间隔 != 1.2 and memory.jt != 4
setUnitMemory:间隔=1.2
setUnitStats:shootDelayMultiplier=memory.间隔

[hiddenAction_恐惧间隔2阶段]
autoTrigger:if self.resource(type="msd") >= 30*${core.radius*0.05} and self.resource(type="msd") < 40*${core.radius*0.05} and memory.间隔 != 1.7 and memory.jt == 4
setUnitMemory:间隔=1.7
setUnitStats:shootDelayMultiplier=memory.间隔

[hiddenAction_磨损间隔3阶段]
autoTrigger:if self.resource(type="msd") >= 40*${core.radius*0.05} and self.resource(type="msd") < 50*${core.radius*0.05}  and memory.间隔 != 1.35 and memory.jt != 4
setUnitMemory:间隔=1.35
setUnitStats:shootDelayMultiplier=memory.间隔

[hiddenAction_恐惧间隔3阶段]
autoTrigger:if self.resource(type="msd") >= 40*${core.radius*0.05} and self.resource(type="msd") < 50*${core.radius*0.05} and memory.间隔 != 1.85 and memory.jt == 4
setUnitMemory:间隔=1.85
setUnitStats:shootDelayMultiplier=memory.间隔

[hiddenAction_磨损间隔4阶段]
autoTrigger:if self.resource(type="msd") >= 50*${core.radius*0.05}  and memory.间隔 != 1.55 and memory.jt != 4
setUnitMemory:间隔=1.55
setUnitStats:shootDelayMultiplier=memory.间隔

[hiddenAction_恐惧间隔4阶段]
autoTrigger:if self.resource(type="msd") >= 50*${core.radius*0.05} and self.resource(type="msd") < 55*${core.radius*0.05} and memory.间隔 != 2.05 and memory.jt == 4
setUnitMemory:间隔=2.05
setUnitStats:shootDelayMultiplier=memory.间隔


[hiddenAction_静止磨损]
autoTrigger:if not self.isMoving() and self.resource(type='msd') < 55*${core.radius*0.05}
addResources:msd=0.005

[hiddenAction_静止磨损2]
autoTrigger:if self.isMoving() and self.resource(type='msd') < 55*${core.radius*0.05}
addResources:msd=0.01

[hiddenAction_攻击磨损]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.2) and self.resource(type='msd') < 55*${core.radius*0.05}
addResources:msd=0.01


#---失衡---

[hiddenAction_失衡一阶]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.globalTeamTags(includes="失衡") and memory.jt != 2
setResourcesWithLogic:shih=5

[hiddenAction_失衡开始]
autoTrigger:if self.resource(type="shih") > 0
addResources:shih:-0.5

[hiddenAction_转弯速度赋值]
autoTriggerOnEvent:created
setUnitStats:maxTurnSpeed=memory.转向

[hiddenAction_失衡初始]
autoTriggerOnEvent:created
setUnitMemory:转向=${movement.maxTurnSpeed}
setUnitStats:maxTurnSpeed=memory.转向

[hiddenAction_初始初始2]
autoTrigger:if self.resource(type="shih") <= 0 and self.resource(type="msd") < 10*${core.radius*0.05} and memory.转向 != ${movement.maxTurnSpeed}
setUnitMemory:转向=${movement.maxTurnSpeed}
setUnitStats:maxTurnSpeed=memory.转向

[hiddenAction_失衡设置]
autoTrigger:if self.resource(type="shih") > 0 and memory.转向 != 0
setUnitMemory:转向=0
setUnitStats:maxTurnSpeed=memory.转向

#---眩晕---

[hiddenAction_眩晕一阶]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.globalTeamTags(includes="眩晕") and memory.jt != 2
setResourcesWithLogic:xuany=5

[hiddenAction_眩晕开始]
autoTrigger:if self.resource(type="xuany") > 0
addResources:xuany:-0.5

#---击退---

[hiddenAction_击退]
autoTrigger:if self.hasTakenDamage(withinSeconds=3) and lastDamagedBy.globalTeamTags(includes="击退1") and not lastDamagedBy.globalTeamTags(includes="击退2") and not self.globalTeamTags(includes="无坚不摧")
spawnUnits:击退中介(setToTeamOfLastAttacker=true)

[hiddenAction_击退2]
autoTrigger:if self.hasTakenDamage(withinSeconds=3) and lastDamagedBy.globalTeamTags(includes="击退2") and not self.globalTeamTags(includes="无坚不摧")
spawnUnits:击退中介2(setToTeamOfLastAttacker=true)

#---点石成金---

[hiddenAction_点石成金击杀]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if self.globalTeamTags(includes="点石成金")
addResourcesWithLogic:credits=memory.生命*0.5,sjd=0.1,djds1:10,djds=10

#---不灭金身---

[hiddenAction_不灭金身初始]
autoTrigger:if self.globalTeamTags(includes="不灭金身") and not self.hasFlag(id=17)
setResourcesWithLogic:bmjs=100
addResources:setFlag=17

[hiddenAction_不灭金身开始]
autoTrigger:if self.resource(type="bmjs") >=0
addResources:bmjs=-0.5

[hiddenAction_不灭金身设置]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="bmjs") <= 0 and self.globalTeamTags(includes="不灭金身") and not self.hasFlag(id=18)
setResourcesWithLogic:bm=20
addResources:setFlag=18

[hiddenAction_不灭金身属性]
autoTrigger:if self.resource(type="bm") >=0
addResources:bm=-0.5

[hiddenAction_不灭金身取消]
autoTrigger:if self.globalTeamTags(includes="不灭金身") and self.resource(type="bm") <=0 and self.hasFlag(id=18) and self.resource(type="bmjs") <=0
setResourcesWithLogic:bmjs=100
addResources:unsetFlag=17,unsetFlag=18
setUnitMemory:装甲=${core.armour}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2



[hiddenAction_不灭金身属性开始]
autoTrigger:if self.resource(type="bm") > 0 and memory.装甲 != 999999
setUnitMemory:装甲=999999


[hiddenAction_不灭取消设置]
autoTrigger:if not self.hasFlag(id=16) and not self.hasFlag(id=18) and not self.hasFlag(id=9) and not self.globalTeamTags(includes="装甲1") and self.globalTeamTags(includes="不灭金身") and memory.装甲 != ${core.armour}++30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2
setUnitMemory:装甲=${core.armour}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2


#---荆棘护甲---

[hiddenAction_荆棘护甲]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.5) and attacking.globalTeamTags(includes="荆棘护甲") and not attacking.globalTeamTags(includes="荆棘护甲2")
addResources:hp:-50

[hiddenAction_荆棘护甲2]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.5) and attacking.globalTeamTags(includes="荆棘护甲2")
addResources:hp:-100

#---惊人一刻---

[hiddenAction_惊人一刻初始]
autoTrigger:if self.globalTeamTags(includes="惊人一刻") and not self.hasFlag(id=14)
setResourcesWithLogic:jr=60
addResources:setFlag=14

[hiddenAction_惊人一刻开始]
autoTrigger:if self.resource(type="jr") >=0
addResources:jr=-0.5

[hiddenAction_惊人一刻设置]
autoTrigger:if self.resource(type="jr") <= 0 and self.globalTeamTags(includes="惊人一刻") and self.isAttacking() and not self.hasFlag(id=15)
setResourcesWithLogic:jrsy=25
addResources:setFlag=15

[hiddenAction_惊人属性开始]
autoTrigger:if self.resource(type="jrsy") >=0
addResources:jrsy=-0.5

[hiddenAction_惊人一刻取消]
autoTrigger:if self.resource(type="jrsy") <= 0 and self.globalTeamTags(includes="惊人一刻") and self.resource(type="jr") <=0 and self.hasFlag(id=15)
setResourcesWithLogic:jr=60
addResources:unsetFlag=15,unsetFlag=14

[hiddenAction_惊人恢复]
autoTrigger:if self.hasFlag(id=15)
addResources:hp:2.5,shield=5,msd:-5,rsd:-5,ld:2

#---起死回生---

[hiddenAction_起死回生]
autoTrigger:if self.globalTeamTags(includes="起死回生") and self.hp > 0 and self.hp < ${core.maxHp*0.1} and not self.hasFlag(id=19) and self.globalTeamTags(includes="镜像") and memory.jxxg == true
addResources:hp:99999,shield:99999,energy:99999,setFlag=19

[hiddenAction_起死回生2]
autoTrigger:if self.globalTeamTags(includes="起死回生") and self.hp > 0 and self.hp < ${core.maxHp*0.1} and not self.hasFlag(id=19) and not self.globalTeamTags(includes="镜像")
addResources:hp:99999,shield:99999,energy:99999,setFlag=19

#---玩火自焚---

[hiddenAction_玩火自焚]
autoTrigger:if attacking.globalTeamTags(includes="玩火自焚") and attacking.hasFlag(id=2) and not self.globalTeamTags(includes="无坚不摧") and not self.hasFlag(id=2)
addResources:setFlag=2,rsd=${core.radius*2+20}

#---保护---

[hiddenAction_护盾保护范围]
autoTrigger:if self.hasUnitInTeam(withTag='护盾发生器',greaterThan=0,withinRange=200) and not self.hasFlag(id=16)
addResources:setFlag=16

[hiddenAction_护盾保护范围2]
autoTrigger:if self.hasUnitInTeam(withTag='护盾发生器2',greaterThan=0,withinRange=260) and not self.hasFlag(id=16) 
addResources:setFlag=16

[hiddenAction_护盾盟友保护范围]
autoTrigger:if self.numberOfUnitsInAllyNotOwnTeam(withTag='护盾发生器',greaterThan=0,withinRange=200) and not self.hasFlag(id=16)
addResources:setFlag=16

[hiddenAction_护盾盟友保护范围2]
autoTrigger:if self.numberOfUnitsInAllyNotOwnTeam(withTag='护盾发生器2',greaterThan=0,withinRange=260) and not self.hasFlag(id=16)
addResources:setFlag=16

[hiddenAction_护盾盟友保护取消]
autoTrigger:if not self.numberOfUnitsInAllyNotOwnTeam(withTag='护盾发生器',greaterThan=0,withinRange=260) and not self.hasUnitInTeam(withTag='护盾发生器',greaterThan=0,withinRange=260) and self.hasFlag(id=16)
addResources:unsetFlag=16

[hiddenAction_保护设置]
autoTrigger:if self.hasFlag(id=16) and memory.装甲 != 999999
setUnitMemory:装甲=999999


[hiddenAction_保护取消设置]
autoTrigger:if not self.hasFlag(id=16) and not self.hasFlag(id=18) and not self.hasFlag(id=9) and not self.globalTeamTags(includes="装甲1") and memory.装甲 != ${core.armour}++30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2
setUnitMemory:装甲=${core.armour}++30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2



[hiddenAction_取消装甲]


#---高爆---

[hiddenAction_高爆一阶]
autoTriggerOnEvent:tookDamage
requireConditional:if self.hasTakenDamage(withinSeconds=0.2) and lastDamagedBy.globalTeamTags(includes="高爆") and not lastDamagedBy.globalTeamTags(includes="高爆1") and not self.globalTeamTags(includes="抗高爆")
spawnUnits:高爆中介(setToTeamOfLastAttacker=true)

[hiddenAction_高爆二阶]
autoTriggerOnEvent:tookDamage
requireConditional:if self.hasTakenDamage(withinSeconds=0.2) and lastDamagedBy.globalTeamTags(includes="高爆1") and not self.globalTeamTags(includes="抗高爆")
spawnUnits:高爆中介2(setToTeamOfLastAttacker=true)

#---流血---

[hiddenAction_流血一阶]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.globalTeamTags(includes="流血") and not self.globalTeamTags(includes="无坚不摧")
setResourcesWithLogic:lx=5

[hiddenAction_流血开始]
autoTrigger:if self.resource(type="lx") > 0
addResources:lx=-0.5,hp=-1

[hiddenAction_流血额外伤害2]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource(type="lx") > 0
addResources:hp:-40

#---腐蚀---

[hiddenAction_腐蚀一阶]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.globalTeamTags(includes="腐蚀") and not self.globalTeamTags(includes="无坚不摧")
setResourcesWithLogic:fs=5

[hiddenAction_腐蚀开始]
autoTrigger:if self.resource(type="fs") > 0
addResources:fs=-0.5,msd=2,rsd=2,ld=-2

#---重甲---

[hiddenAction_重甲初始]
autoTrigger:if self.globalTeamTags(includes="重甲") and not self.hasFlag(id=10) and memory.jt != 1
setResourcesWithLogic:zj=30
addResources:setFlag=10

[hiddenAction_重甲开始]
autoTrigger:if self.resource(type="zj") > 0
addResources:zj=-0.5

[hiddenAction_重甲设置]
autoTrigger:if self.resource(type="zj") <= 0 and self.globalTeamTags(includes="重甲") and not self.hasFlag(id=9) and memory.jt != 1
addResources:setFlag=9

[hiddenAction_重甲设置2]
autoTrigger:if self.resource(type="zj") >0 and self.globalTeamTags(includes="重甲") and self.hasFlag(id=9) and memory.jt != 1
addResources:unsetFlag=9

[hiddenAction_重甲真正设置]
autoTrigger:if self.hasFlag(id=9) and memory.装甲 != 999999 and memory.jt != 1
setUnitMemory:装甲=999999


[hiddenAction_重甲真正设置2]
autoTrigger:if not self.hasFlag(id=16) and not self.hasFlag(id=18) and not self.hasFlag(id=9) and not self.globalTeamTags(includes="装甲1") and memory.装甲 != ${core.armour}++30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2
setUnitMemory:装甲=${core.armour}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2


[hiddenAction_重甲消失]
autoTriggerOnEvent:tookDamage
requireConditional:if self.hasFlag(id=9)
setResourcesWithLogic:zj=30
setUnitMemory:装甲=${core.armour}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2
addResources:unsetFlag=9,unsetFlag=10



#---恢复---

[hiddenAction_恢复1-1]
autoTrigger:if self.globalTeamTags(includes="恢复1") and not self.globalTeamTags(includes="恢复2")
addResources:hp=1,msd:-0.25,rsd:-0.5,ld:0.25,shield=1

[hiddenAction_恢复2-1]
autoTrigger:if self.globalTeamTags(includes="恢复2") and not self.globalTeamTags(includes="恢复3")
addResources:hp=2,msd:-0.5,rsd:-1,ld:0.5,shield=2

[hiddenAction_恢复3-1]
autoTrigger:if self.globalTeamTags(includes="恢复3")
addResources:hp=3,msd:-1,rsd:-2,ld:1,shield=3

#---护盾---

[hiddenAction_护盾模块加成]
autoTrigger:if self.numberOfAttachedUnits(withTag='护盾模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0)
addResources:shield:2.5

[hiddenAction_护盾模块加成2]
autoTrigger:if self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0)
addResources:shield:5

[hiddenAction_护盾赋值]
autoTriggerOnEvent:created
setUnitStats:maxShield=memory.护盾

[hiddenAction_护盾-1]
autoTrigger:if not self.globalTeamTags(includes="护盾1") and not self.globalTeamTags(includes="护盾2") and not self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4") and not self.numberOfAttachedUnits(withTag='护盾模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

#没有护盾科技时,护盾模块

[hiddenAction_护盾0]
autoTrigger:if not self.globalTeamTags(includes="护盾1") and not self.globalTeamTags(includes="护盾2") and not self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4") and self.numberOfAttachedUnits(withTag='护盾模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+100}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+500}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

[hiddenAction_护盾0ll]
autoTrigger:if not self.globalTeamTags(includes="护盾1") and not self.globalTeamTags(includes="护盾2") and not self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4") and self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+200}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+1000}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

#有护盾科技时,没有护盾模块

[hiddenAction_护盾1]
autoTrigger:if self.globalTeamTags(includes="护盾1") and not self.globalTeamTags(includes="护盾2") and not self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4") and not self.numberOfAttachedUnits(withTag='护盾模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+60}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+60}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

##有护盾科技时,有护盾模块

[hiddenAction_护盾1ll]
autoTrigger:if self.globalTeamTags(includes="护盾1") and not self.globalTeamTags(includes="护盾2") and not self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4") and self.numberOfAttachedUnits(withTag='护盾模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+160}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+560}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

[hiddenAction_护盾1llll]
autoTrigger:if self.globalTeamTags(includes="护盾1") and not self.globalTeamTags(includes="护盾2") and not self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4") and self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+260}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+1060}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

#有护盾科技时,没有护盾模块

[hiddenAction_护盾2]
autoTrigger:if self.globalTeamTags(includes="护盾2") and not self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4") and not self.numberOfAttachedUnits(withTag='护盾模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+150}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+150}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

##有护盾科技时,有护盾模块

[hiddenAction_护盾2ll]
autoTrigger:if self.globalTeamTags(includes="护盾2") and not self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4") and self.numberOfAttachedUnits(withTag='护盾模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+250}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+650}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

[hiddenAction_护盾2llll]
autoTrigger:if self.globalTeamTags(includes="护盾2") and not self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4") and self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+350}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+1150}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

##有护盾科技时,没有护盾模块

[hiddenAction_护盾3]
autoTrigger:if self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4")and not self.numberOfAttachedUnits(withTag='护盾模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+300}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+300}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

#有护盾科技时,有护盾模块

[hiddenAction_护盾3ll]
autoTrigger:if self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4") and self.numberOfAttachedUnits(withTag='护盾模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+400}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+800}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

[hiddenAction_护盾3llll]
autoTrigger:if self.globalTeamTags(includes="护盾3") and not self.globalTeamTags(includes="护盾4") and self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+200}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+1300}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

#有护盾科技时,没有护盾模块

[hiddenAction_护盾4]
autoTrigger:if self.globalTeamTags(includes="护盾4") and not self.numberOfAttachedUnits(withTag='护盾模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+600}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+600}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

#有护盾科技时,有护盾模块

[hiddenAction_护盾4ll]
autoTrigger:if self.globalTeamTags(includes="护盾4") and self.numberOfAttachedUnits(withTag='护盾模块',greaterThan=0) and not self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+700}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+1100}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

[hiddenAction_护盾4llll]
autoTrigger:if self.globalTeamTags(includes="护盾4") and self.numberOfAttachedUnits(withTag='护盾模块T2',greaterThan=0) and memory.护盾 != ${core.maxShield+800}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitMemory:护盾=${core.maxShield+1600}+memory.jjhj*600+self.resource.dwjq2*200+200*memory.防御者+100*memory.疾风
setUnitStats:maxShield=memory.护盾

#---抗火---

[hiddenAction_燃烧攻击特殊1]
autoTriggerOnEvent:tookDamage
requireConditional:if self.globalTeamTags(includes="抗火1") and memory.jt != 3
addResources:rsd=-1

[hiddenAction_燃烧攻击特殊2]
autoTriggerOnEvent:tookDamage
requireConditional:if self.globalTeamTags(includes="抗火2") and memory.jt != 3
addResources:rsd=-2

#---装甲---

[hiddenAction_装甲赋值]
autoTrigger:true
setUnitStats:armour=memory.装甲

[hiddenAction_装甲1]
autoTrigger:if self.globalTeamTags(includes="装甲1") and not self.globalTeamTags(includes="装甲2") and not self.globalTeamTags(includes="装甲3") and not self.hasFlag(id=9) and not self.hasFlag(id=16) and not self.hasFlag(id=18) and memory.装甲 != ${core.armour+5}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2
setUnitMemory:装甲=${core.armour+5}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2


[hiddenAction_装甲2]
autoTrigger:if self.globalTeamTags(includes="装甲2") and not self.globalTeamTags(includes="装甲3") and not self.hasFlag(id=9) and not self.hasFlag(id=16) and not self.hasFlag(id=18) and memory.装甲 != ${core.armour+15}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2
setUnitMemory:装甲=${core.armour+15}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2


[hiddenAction_装甲3]
autoTrigger:if self.globalTeamTags(includes="装甲3") and not self.hasFlag(id=9) and not self.hasFlag(id=16) and not self.hasFlag(id=18) and memory.装甲 != ${core.armour+30}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2
setUnitMemory:装甲=${core.armour+30}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2


[hiddenAction_装甲初始]
autoTrigger:if not self.globalTeamTags(includes="装甲1") and not self.globalTeamTags(includes="装甲2") and not self.globalTeamTags(includes="装甲3") and not self.hasFlag(id=9) and not self.hasFlag(id=16) and not self.hasFlag(id=18) and memory.装甲 != ${core.armour}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2
setUnitMemory:装甲=${core.armour}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2


#---视野---

[hiddenAction_视野赋值]
autoTriggerOnEvent:created
setUnitStats:fogOfWarSightRange=memory.视野

[hiddenAction_视野初始]
autoTrigger:if not self.globalTeamTags(includes="射程1") and not self.globalTeamTags(includes="射程2") and not self.globalTeamTags(includes="射程3") and not self.globalTeamTags(includes="射程4") and memory.视野 != ${core.fogOfWarSightRange}
setUnitMemory:视野=${core.fogOfWarSightRange}
setUnitStats:fogOfWarSightRange=memory.视野

#---


#---攻击距离---

[hiddenAction_攻击距离赋值]
autoTriggerOnEvent:created
setUnitStats:maxAttackRange=memory.攻击距离

[hiddenAction_射程1]
autoTrigger:if self.globalTeamTags(includes="射程1") and not self.globalTeamTags(includes="射程2") and not self.globalTeamTags(includes="射程3") and not self.globalTeamTags(includes="射程4") and memory.攻击距离 != (${attack.maxAttackRange+30}+self.resource.lyjt*40+80*memory.鹰眼+45*memory.巨兽+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30+memory.sjsc+self.resource.dj*4+40*memory.scmk-60*memory.防御者-30*memory.疾风-30*memory.暴君-60*memory.镜像-${attack.maxAttackRange*0.3}*memory.守财奴-${attack.maxAttackRange*0.4}*memory.yyxg2)*memory.停火
setUnitMemory:攻击距离=(${attack.maxAttackRange+30}+self.resource.lyjt*40+80*memory.鹰眼+45*memory.巨兽+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30+memory.sjsc+self.resource.dj*4+40*memory.scmk+self.resource.dj*4-60*memory.防御者-30*memory.疾风-30*memory.暴君-60*memory.镜像-${attack.maxAttackRange*0.3}*memory.守财奴-${attack.maxAttackRange*0.4}*memory.yyxg2)*memory.停火,视野=${core.fogOfWarSightRange+3}+self.resource.lyjt*3+5*memory.鹰眼+self.resource.dj
setUnitStats:maxAttackRange=memory.攻击距离,fogOfWarSightRange=memory.视野

[hiddenAction_射程2]
autoTrigger:if self.globalTeamTags(includes="射程2") and not self.globalTeamTags(includes="射程3") and not self.globalTeamTags(includes="射程4") and memory.攻击距离 != (${attack.maxAttackRange+60}+self.resource.lyjt*40+80*memory.鹰眼+45*memory.巨兽+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30+memory.sjsc+self.resource.dj*4+40*memory.scmk-60*memory.防御者-30*memory.疾风-30*memory.暴君-60*memory.镜像-${attack.maxAttackRange*0.3}*memory.守财奴-${attack.maxAttackRange*0.4}*memory.yyxg2)*memory.停火
setUnitMemory:攻击距离=(${attack.maxAttackRange+60}+self.resource.lyjt*40+80*memory.鹰眼+45*memory.巨兽+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30+memory.sjsc+self.resource.dj*4+40*memory.scmk-60*memory.防御者-30*memory.疾风-30*memory.暴君-60*memory.镜像-${attack.maxAttackRange*0.3}*memory.守财奴-${attack.maxAttackRange*0.4}*memory.yyxg2)*memory.停火,视野=${core.fogOfWarSightRange+6}+self.resource.lyjt*3+5*memory.鹰眼+self.resource.dj
setUnitStats:maxAttackRange=memory.攻击距离,fogOfWarSightRange=memory.视野

[hiddenAction_射程3]
autoTrigger:if self.globalTeamTags(includes="射程3") and not self.globalTeamTags(includes="射程4") and memory.攻击距离 != (${attack.maxAttackRange+90}+self.resource.lyjt*40+80*memory.鹰眼+45*memory.巨兽+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30+memory.sjsc+self.resource.dj*4+40*memory.scmk-60*memory.防御者-30*memory.疾风-30*memory.暴君-60*memory.镜像-${attack.maxAttackRange*0.3}*memory.守财奴-${attack.maxAttackRange*0.4}*memory.yyxg2)*memory.停火
setUnitMemory:攻击距离=(${attack.maxAttackRange+90}+self.resource.lyjt*40+80*memory.鹰眼+45*memory.巨兽+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30+memory.sjsc+self.resource.dj*4+40*memory.scmk-60*memory.防御者-30*memory.疾风-30*memory.暴君-60*memory.镜像-${attack.maxAttackRange*0.3}*memory.守财奴-${attack.maxAttackRange*0.4}*memory.yyxg2)*memory.停火,视野=${core.fogOfWarSightRange+9}+self.resource.lyjt*3+5*memory.鹰眼+self.resource.dj+5*memory.scmk
setUnitStats:maxAttackRange=memory.攻击距离,fogOfWarSightRange=memory.视野

[hiddenAction_射程4]
autoTrigger:if self.globalTeamTags(includes="射程4") and memory.攻击距离 != (${attack.maxAttackRange+120}+self.resource.lyjt*40+80*memory.鹰眼+45*memory.巨兽+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30+memory.sjsc+self.resource.dj*4+40*memory.scmk-60*memory.防御者-30*memory.疾风-30*memory.暴君-60*memory.镜像-${attack.maxAttackRange*0.3}*memory.守财奴-${attack.maxAttackRange*0.4}*memory.yyxg2)*memory.停火
setUnitMemory:攻击距离=(${attack.maxAttackRange+120}+self.resource.lyjt*40+80*memory.鹰眼+45*memory.巨兽+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30+memory.sjsc+self.resource.dj*4+40*memory.scmk-60*memory.防御者-30*memory.疾风-30*memory.暴君-60*memory.镜像-${attack.maxAttackRange*0.3}*memory.守财奴-${attack.maxAttackRange*0.4}*memory.yyxg2)*memory.停火,视野=${core.fogOfWarSightRange+12}+self.resource.lyjt*3+5*memory.鹰眼+self.resource.dj
setUnitStats:maxAttackRange=memory.攻击距离,fogOfWarSightRange=memory.视野

[hiddenAction_攻击距离初始]
autoTriggerOnEvent:created
setUnitMemory:攻击距离=(${attack.maxAttackRange}+self.resource.lyjt*40+80*memory.鹰眼+45*memory.巨兽+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30+memory.sjsc+self.resource.dj*4+40*memory.scmk-60*memory.防御者-30*memory.疾风-30*memory.暴君-60*memory.镜像-${attack.maxAttackRange*0.3}*memory.守财奴-${attack.maxAttackRange*0.4}*memory.yyxg2)*memory.停火,视野=${core.fogOfWarSightRange}+self.resource.lyjt*3+5*memory.鹰眼+self.resource.dj
setUnitStats:maxAttackRange=memory.攻击距离,fogOfWarSightRange=memory.视野

[hiddenAction_攻击距离初始2]
autoTrigger:if not self.globalTeamTags(includes="射程1") and not self.globalTeamTags(includes="射程2") and not self.globalTeamTags(includes="射程3") and not self.globalTeamTags(includes="射程4") and memory.攻击距离 != (${attack.maxAttackRange}+self.resource.lyjt*40+80*memory.鹰眼+45*memory.巨兽+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30+memory.sjsc+self.resource.dj*4+40*memory.scmk-60*memory.防御者-30*memory.疾风-30*memory.暴君-60*memory.镜像-${attack.maxAttackRange*0.3}*memory.守财奴-${attack.maxAttackRange*0.4}*memory.yyxg2)*memory.停火
setUnitMemory:攻击距离=(${attack.maxAttackRange}+self.resource.lyjt*40+80*memory.鹰眼+45*memory.巨兽+memory.鹰眼到防御者*40+memory.鹰眼到镜像*30+memory.巨兽到暴君*30+memory.sjsc+self.resource.dj*4+40*memory.scmk-60*memory.防御者-30*memory.疾风-30*memory.暴君-60*memory.镜像-${attack.maxAttackRange*0.3}*memory.守财奴-${attack.maxAttackRange*0.4}*memory.yyxg2)*memory.停火,视野=${core.fogOfWarSightRange}+self.resource.lyjt*3+5*memory.鹰眼+self.resource.dj
setUnitStats:maxAttackRange=memory.攻击距离,fogOfWarSightRange=memory.视野

#---伤害乘数---

[hiddenAction_伤害乘数赋值]
autoTriggerOnEvent:created
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_伤害1]
autoTrigger:if self.globalTeamTags(includes="伤害1") and not self.globalTeamTags(includes="伤害2") and not self.globalTeamTags(includes="伤害3") and not self.globalTeamTags(includes="伤害4") and not self.globalTeamTags(includes="伤害5") and not self.hasFlag(id=15) and memory.伤害乘数 != (1.4+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk+self.resource.dj*0.04-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(1.4+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_惊人伤害1]
autoTrigger:if self.globalTeamTags(includes="伤害1") and self.hasFlag(id=15) and not self.globalTeamTags(includes="伤害2") and not self.globalTeamTags(includes="伤害3") and not self.globalTeamTags(includes="伤害4") and not self.globalTeamTags(includes="伤害5") and memory.伤害乘数 != (2.1+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(2.1+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_伤害2]
autoTrigger:if self.globalTeamTags(includes="伤害2") and not self.globalTeamTags(includes="伤害3") and not self.globalTeamTags(includes="伤害4") and not self.globalTeamTags(includes="伤害5") and not self.hasFlag(id=15) and memory.伤害乘数 != (1.8+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(1.8+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_惊人伤害2]
autoTrigger:if self.globalTeamTags(includes="伤害2") and self.hasFlag(id=15) and not self.globalTeamTags(includes="伤害3") and not self.globalTeamTags(includes="伤害4") and not self.globalTeamTags(includes="伤害5") and memory.伤害乘数 != (2.7+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(2.7+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_伤害3]
autoTrigger:if self.globalTeamTags(includes="伤害3") and not self.globalTeamTags(includes="伤害4") and not self.globalTeamTags(includes="伤害5") and not self.hasFlag(id=15) and not self.hasFlag(id=15) and memory.伤害乘数 != (2.2+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(2.2+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_惊人伤害3]
autoTrigger:if self.globalTeamTags(includes="伤害3") and self.hasFlag(id=15) and not self.globalTeamTags(includes="伤害4") and not self.globalTeamTags(includes="伤害5") and memory.伤害乘数 != (3.3+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(3.3+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_伤害4]
autoTrigger:if self.globalTeamTags(includes="伤害4") and not self.globalTeamTags(includes="伤害5") and not self.hasFlag(id=15) and memory.伤害乘数 != (2.6+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(2.6+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_惊人伤害4]
autoTrigger:if self.globalTeamTags(includes="伤害4") and self.hasFlag(id=15) and not self.globalTeamTags(includes="伤害5") and memory.伤害乘数 != (3.9+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(3.9+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_伤害5]
autoTrigger:if self.globalTeamTags(includes="伤害5") and not self.hasFlag(id=15) and memory.伤害乘数 != (3+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(3+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_惊人伤害5]
autoTrigger:if self.globalTeamTags(includes="伤害5") and self.hasFlag(id=15) and memory.伤害乘数 != (4.5+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(4.5+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_伤害乘数初始]
autoTriggerOnEvent:created
setUnitMemory:伤害乘数=(1+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_伤害乘数初始2]
autoTrigger:if not self.globalTeamTags(includes="伤害1") and not self.globalTeamTags(includes="伤害2") and not self.globalTeamTags(includes="伤害3") and not self.globalTeamTags(includes="伤害4") and not self.globalTeamTags(includes="伤害5") and not self.hasFlag(id=15) and memory.伤害乘数 != (1+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(1+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

[hiddenAction_惊人伤害乘数初始]
autoTrigger:if not self.globalTeamTags(includes="伤害1") and not self.globalTeamTags(includes="伤害2") and not self.globalTeamTags(includes="伤害3") and not self.globalTeamTags(includes="伤害4") and not self.globalTeamTags(includes="伤害5") and self.hasFlag(id=15) and memory.伤害乘数 != (1.5+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitMemory:伤害乘数=(1.5+self.resource.jfjt*0.5+0.6*memory.巨兽+1*memory.暴君+memory.暴君到镜像*0.3+memory.暴君到鹰眼*0.4+memory.镜像到防御者*0.2+self.resource.dj*0.04+0.3*self.resource.hsjt+memory.sjsh+0.4*memory.shmk-0.5*memory.鹰眼-memory.防御者*0.7-0.4*memory.疾风-0.55*memory.守财奴-0.5*memory.镜像)*memory.guasha
setUnitStats:shootDamageMultiplier=memory.伤害乘数

#---移动速度---

[hiddenAction_移动速度赋值]
autoTriggerOnEvent:created
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_速度1]
autoTrigger:if self.globalTeamTags(includes="速度1") and self.hp(greaterThan=${core.maxHp*0.4}) and not self.globalTeamTags(includes="速度2") and not self.globalTeamTags(includes="速度3") and self.resource(type="xuany") <= 0 and memory.移动速度 != ${movement.moveSpeed+0.1}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitMemory:移动速度=${movement.moveSpeed+0.1}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_惊人速度1]
autoTrigger:if self.globalTeamTags(includes="速度1") and self.hp(greaterThan=${core.maxHp*0.4}) and self.hasFlag(id=15) and not self.globalTeamTags(includes="速度2") and not self.globalTeamTags(includes="速度3") and self.resource(type="xuany") <= 0 and memory.移动速度 != ${movement.moveSpeed+0.3}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitMemory:移动速度=${movement.moveSpeed+0.3}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_速度2]
autoTrigger:if self.globalTeamTags(includes="速度2") and self.hp(greaterThan=${core.maxHp*0.4}) and not self.globalTeamTags(includes="速度3") and self.resource(type="xuany") <= 0 and memory.移动速度 != ${movement.moveSpeed+0.2}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitMemory:移动速度=${movement.moveSpeed+0.2}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_惊人速度2]
autoTrigger:if self.globalTeamTags(includes="速度2") and self.hp(greaterThan=${core.maxHp*0.4}) and self.hasFlag(id=15) and not self.globalTeamTags(includes="速度3") and self.resource(type="xuany") <= 0 and memory.移动速度 != ${movement.moveSpeed+0.4}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitMemory:移动速度=${movement.moveSpeed+0.4}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_速度3]
autoTrigger:if self.globalTeamTags(includes="速度3") and self.hp(greaterThan=${core.maxHp*0.4}) and self.resource(type="xuany") <= 0 and memory.移动速度 != ${movement.moveSpeed+0.35}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitMemory:移动速度=${movement.moveSpeed+0.35}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_惊人速度3]
autoTrigger:if self.globalTeamTags(includes="速度3") and self.hp(greaterThan=${core.maxHp*0.4}) and self.hasFlag(id=15) and self.resource(type="xuany") <= 0 and memory.移动速度 != ${movement.moveSpeed+0.55}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitMemory:移动速度=${movement.moveSpeed+0.55}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_减少]
autoTrigger:if not self.hp(greaterThan=${core.maxHp*0.4}) and memory.移动速度 != 0
clearAllWaypoints:true
setUnitMemory:移动速度=0
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_减少2]
autoTrigger:if not self.resource(type="sy",greaterThan=10) and memory.移动速度 != 0
clearAllWaypoints:true
setUnitMemory:移动速度=0
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_增加]
autoTrigger:if self.hp(greaterThan=${core.maxHp*0.4}) and self.resource(type="sy",greaterThan=10) and not self.globalTeamTags(includes="速度1") and self.resource(type="xuany") <= 0 and memory.移动速度 != ${movement.moveSpeed}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitMemory:移动速度=${movement.moveSpeed}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_惊人增加]
autoTrigger:if self.hp(greaterThan=${core.maxHp*0.4}) and self.resource(type="sy",greaterThan=10) and not self.globalTeamTags(includes="速度1") and self.hasFlag(id=15) and self.resource(type="xuany") <= 0 and memory.移动速度 != ${movement.moveSpeed+0.2}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitMemory:移动速度=${movement.moveSpeed+0.2}+${movement.moveSpeed}*self.resource.kjjt*0.3+memory.jfxg2*${movement.moveSpeed*0.4}+0.4*memory.疾风+0.15*memory.sdmk+0.25*memory.巨兽+memory.疾风到守财奴*${movement.moveSpeed}*0.2+memory.疾风到巨兽*${movement.moveSpeed}*0.1+memory.巨兽到镜像*${movement.moveSpeed}*0.2+memory.jfxg3*${movement.moveSpeed}*0.3+memory.sjsd+0.2*self.resource.jfjt-0.15*memory.守财奴-0.2*memory.暴君-0.15*memory.镜像
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_眩晕增加]
autoTrigger:if self.resource(type="xuany") > 0 and self.hp(greaterThan=${core.maxHp*0.4}) and memory.移动速度 != ${movement.moveSpeed*-1}
setUnitMemory:移动速度=${movement.moveSpeed*-1}
setUnitStats:moveSpeed=memory.移动速度

#---燃烧---

[hiddenAction_燃烧初始]
autoTriggerOnEvent:created
addResources:rsd=0

[hiddenAction_燃烧攻击--1]
autoTriggerOnEvent:tookDamage(withTag="抛物线")
requireConditional:if memory.jt != 3 and self.shield() <= 10 and not self.globalTeamTags(includes="无坚不摧")
addResources:rsd=1

[hiddenAction_燃烧攻击1]
autoTriggerOnEvent:tookDamage(withTag="普通子弹")
requireConditional:if memory.jt != 3 and self.shield() <= 10 and not self.globalTeamTags(includes="无坚不摧")
addResources:rsd=1

[hiddenAction_燃烧攻击2]
autoTriggerOnEvent:tookDamage(withTag="坦克炮")
requireConditional:if memory.jt != 3 and self.shield() <= 10 and not self.hasFlag(id=9) and self.resource(type="bm") <= 0
addResources:rsd=2

[hiddenAction_燃烧攻击3]
autoTriggerOnEvent:tookDamage(withTag="大口径")
requireConditional:if memory.jt != 3 and self.shield() <= 10 and not self.hasFlag(id=9) and self.resource(type="bm") <= 0
addResources:rsd=5

[hiddenAction_燃烧攻击5]
autoTriggerOnEvent:tookDamage(withTag="无法")
requireConditional:if memory.jt != 3 and self.shield() <= 10 and not self.hasFlag(id=9) and self.resource(type="bm") <= 0
addResources:rsd=4

[hiddenAction_燃烧攻击4]
autoTriggerOnEvent:tookDamage(withTag="燃烧")
requireConditional:if memory.jt != 3 and self.shield() <= 10 and not self.hasFlag(id=9) and self.resource(type="bm") <= 0
addResources:rsd=10

[hiddenAction_燃烧检查]
autoTrigger:if self.resource(type="rsd",greaterThan=${core.radius*2+19}) and not self.hasFlag(id=2)
addResources:setFlag=2

[hiddenAction_燃烧取消检查]
autoTrigger:if self.resource(type="rsd",lessThan=${core.radius*2}) and self.hasFlag(id=2)
addResources:unsetFlag=2

[hiddenAction_燃烧检查1]
autoTrigger:if self.resource(type="rsd",greaterThan=${core.radius*2+20})
setResourcesWithLogic:rsd=${core.radius*2+20}

[hiddenAction_燃烧检查2]
autoTrigger:if self.resource(type="rsd",lessThan=0)
setResourcesWithLogic:rsd=0

[action_燃烧修复]
text:灭火
description:因为子弹摩擦生热,到达了着火点了,请赶快灭火
displayType:action
ai_isHighPriority:true
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/bubbles_1.png
pos:-1
isGuiBlinking:true
allowMultipleInQueue:false
isVisible:if self.hasFlag(id=2) and not self.hasUnitInTeam(withTag="建筑加强")
buildSpeed:${3*core.radius*0.04}s
addResources:unsetFlag:2
setResourcesWithLogic:rsd=0
temporarilyRemoveTags:燃烧建筑

#---特殊触发---

[action_无法换弹]
isVisible:false
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/ammo.png

#岩浆

[hiddenAction_岩浆直接烧死]
autoTrigger:if self.isOverLiquid() and not self.isOverwater() and memory.jt == 3
addResources:hp=-99999

[hiddenAction_岩浆烧死]
autoTrigger:if self.isOverLiquid() and not self.isOverwater() and not self.globalTeamTags(includes="抗火1")
addResources:hp=-200,rsd=20

[hiddenAction_岩浆烧死2]
autoTrigger:if self.isOverLiquid() and not self.isOverwater() and self.globalTeamTags(includes="抗火1") and not self.globalTeamTags(includes="抗火2")
addResources:hp=-100,rsd=10

#---等级制度---

#--伤害计算--

[hiddenAction_当前生命]
autoTrigger:true
autoTriggerOnEvent:created
setResourcesWithLogic:sm = self.hp

[hiddenAction_设置伤害]
autoTriggerOnEvent:tookDamage
setResourcesWithLogic:sh = self.resource.sm-self.hp

[hiddenAction_清除伤害]
autoTrigger:if self.hasTakenDamage(laterThanSeconds=0.005) and self.resource.sh != 0
setResourcesWithLogic:sh = 0,sm = self.hp

#---装甲韧性---

[hiddenAction_韧性]
autoTriggerOnEvent:tookDamage
addResourcesWithLogic:hp=((self.resource.sh*self.resource.dj)*0.02)
requireConditional:if self.resource.sh >= 0

#---炽热弹头---

[hiddenAction_炽热计时]
autoTrigger:if self.resource.dj > 7 and self.resource.crdtsy != 30 and self.resource.crdtsy <= 0
addResources:crdtsy:30

[hiddenAction_炽热倒计时]
autoTrigger:if self.resource.crdtsy > 1
addResources:crdtsy=-0.5

[hiddenAction_炽热]
autoTrigger:if self.resource.crdtsy > 0 and self.resource.crdtsy <= 2 and not self.hasFlag(id=5)
addResources:setFlag:5

[hiddenAction_炽热触发]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=1) and self.hasFlag(id=5)
addResources:unsetFlag:5
setResourcesWithLogic:crdtsy=0

[hiddenAction_炽热弹头倒计时]
autoTrigger:if self.resource.crdt > 1
addResources:crdt=-0.5
takeResources:rsd=-99999
takeResources_includeUnitsWithinRange:${core.radius+50}
takeResources_includeUnitsWithinRange_team:own
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_敌人炽热]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.hasFlag(id=5)
addResources:crdt:3

#---伤害溢出---

[hiddenAction_溢出]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource.dj > 5 and self.resource.sh > 100*self.resource.dj and self.hasTakenDamage(withinSeconds=0.5) and self.resource.sh >= 0
addResourcesWithLogic:hp:self.resource.sh*0.2

#---纳米恢复---

[hiddenAction_纳米恢复]
autoTriggerOnEvent:destroyed
requireConditional:if self.resource.dj >= 12
spawnEffects:CUSTOM:111
alsoTriggerAction:纳米技能1,纳米技能2,纳米技能1l,纳米技能2ll,纳米技能1lll,纳米技能2llll,纳米技能1lllll,纳米技能2lllll

[hiddenAction_纳米技能1]
takeResources:hp=-99999
takeResources_includeUnitsWithinRange:${core.radius+100}
takeResources_includeUnitsWithinRange_team:own
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_纳米技能2]
takeResources:hp=-99999
takeResources_includeUnitsWithinRange:${core.radius+100}
takeResources_includeUnitsWithinRange_team:ally
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_纳米技能1l]
takeResources:msd:20
takeResources_includeUnitsWithinRange:${core.radius+100}
takeResources_includeUnitsWithinRange_team:own
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_纳米技能2ll]
takeResources:msd:20
takeResources_includeUnitsWithinRange:${core.radius+100}
takeResources_includeUnitsWithinRange_team:ally
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_纳米技能1lll]
takeResources:rsd:20
takeResources_includeUnitsWithinRange:${core.radius+100}
takeResources_includeUnitsWithinRange_team:own
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_纳米技能2llll]
takeResources:rsd:20
takeResources_includeUnitsWithinRange:${core.radius+100}
takeResources_includeUnitsWithinRange_team:ally
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_纳米技能1lllll]
takeResources:energy=-99999
takeResources_includeUnitsWithinRange:${core.radius+100}
takeResources_includeUnitsWithinRange_team:own
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_纳米技能2lllll]
takeResources:energy=-99999
takeResources_includeUnitsWithinRange:${core.radius+100}
takeResources_includeUnitsWithinRange_team:ally
takeResources_discardCollected:true
takeResources_maxUnits:99999

#---不知道起什么名字---

[hiddenAction_能量累计]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if self.resource.dj >= 10 and self.resource.ljnl <= 20
addResources:ljnl=1

[hiddenAction_暴毙]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if attacking.resource.ljnl >= 15
addResources:hp=-999999

#---荆棘---

[hiddenAction_反伤荆棘]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.5) and attacking.resource.dj >= 15
addResourcesWithLogic:hp=attacking.resource.sh*-0.5

#---连续得分---

[hiddenAction_初始连续检测]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if self.resource.lxdf < 30
addResourcesWithLogic:lxdf=5

[hiddenAction_连续得分倒计时]
autoTrigger:if self.resource.lxdf > 0
addResources:lxdf=-0.5

[hiddenAction_连续得分倒计时2]
autoTrigger:if self.resource.lxdf > 0 and not self.isAttacking()
addResources:lxdf=-5

[hiddenAction_连续得分结束]
autoTrigger:if self.resource.lxdf > 30
setResourcesWithLogic:lxdf=30

[hiddenAction_连续得分等级--]
autoTrigger:if self.resource.lxdf < 5 and self.resource.lxdfdj != 0
setResourcesWithLogic:lxdfdj = 0

[hiddenAction_连续得分等级]
autoTrigger:if self.resource.lxdf >= 5 and self.resource.lxdf <= 10 and self.resource.lxdfdj != 1
setResourcesWithLogic:lxdfdj = 1

[hiddenAction_连续得分等级2]
autoTrigger:if self.resource.lxdf >= 10 and self.resource.lxdf <= 15 and self.resource.lxdfdj != 2
setResourcesWithLogic:lxdfdj = 2

[hiddenAction_连续得分等级3]
autoTrigger:if self.resource.lxdf >= 15 and self.resource.lxdf <= 20 and self.resource.lxdfdj != 3
setResourcesWithLogic:lxdfdj = 3

[hiddenAction_连续得分等级4]
autoTrigger:if self.resource.lxdf >= 20 and self.resource.lxdf <= 25 and self.resource.lxdfdj != 4
setResourcesWithLogic:lxdfdj = 4

[hiddenAction_连续得分等级5]
autoTrigger:if self.resource.lxdf >= 25 and self.resource.lxdf <= 30 and self.resource.lxdfdj != 5
setResourcesWithLogic:lxdfdj = 5

[hiddenAction_初始杀敌连续检测]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if self.resource.lxdf > 5
addResourcesWithLogic:djds=5*self.resource.lxdfdj

#---等级点数切换---

[hiddenAction_等级点数切换]
autoTrigger:if self.resource.djds >= (memory.syds1*self.resource.dj+20) and self.resource.dj >= 25
addResourcesWithLogic:djds1:self.resource.djds
alsoTriggerAction:等级点数切换2

[hiddenAction_等级点数切换2]
setResourcesWithLogic:djds = 0

#等级

[hiddenAction_生命初始]
autoTriggerOnEvent:created
setUnitMemory:生命=${core.maxHp}
setUnitStats:maxHp=memory.生命

[hiddenAction_什么初始2]
autoTrigger:true
setUnitStats:maxHp=memory.生命

[hiddenAction_等级多少]
autoTriggerOnEvent:created
setUnitMemory:syds1=${core.radius}

[hiddenAction_击杀获得点数]
autoTriggerOnEvent:killedAnyUnit
addResources:djds=10

[hiddenAction_等级升级]
autoTrigger:if self.resource.djds >= (memory.syds1*self.resource.dj+20) and self.resource.dj < 25
addResources:dj=1,hfjs:2
addResourcesWithLogic:djds:(memory.syds1*self.resource.dj*-1)
playSoundToPlayer:ROOT:[WarField][战争之地]/-shared-/-音效-/科技升级.ogg:0.5

[hiddenAction_生命提升]
autoTrigger:if memory.生命 != ${core.maxHp*0.1}*self.resource.dj+${core.maxHp}+${core.maxHp}*self.resource.dwjq*0.3+${core.maxHp}*self.resource.sysj*0.2+${core.maxHp}*self.resource.dwjq2*0.3+${core.maxHp}*memory.jjhj*2+self.resource.shjt*0.3*${core.maxHp}+memory.sjsm+memory.防御者*${core.maxHp}+memory.巨兽*${core.maxHp}*0.5+memory.jsxg3*${core.maxHp*0.1}+memory.防御者到疾风*${core.maxHp*0.2}+memory.镜像到守财奴*${core.maxHp*0.3}-memory.暴君*${core.maxHp}*0.2-memory.镜像*${core.maxHp}*0.3
setUnitMemory:生命=${core.maxHp*0.1}*self.resource.dj+${core.maxHp}+${core.maxHp}*self.resource.dwjq*0.3+${core.maxHp}*self.resource.sysj*0.2+${core.maxHp}*self.resource.dwjq2*0.3+${core.maxHp}*memory.jjhj*2+self.resource.shjt*0.3*${core.maxHp}+memory.sjsm+memory.防御者*${core.maxHp}+memory.巨兽*${core.maxHp}*0.5+memory.jsxg3*${core.maxHp*0.1}+memory.防御者到疾风*${core.maxHp*0.2}+memory.镜像到守财奴*${core.maxHp*0.3}-memory.暴君*${core.maxHp}*0.2*0.2-memory.镜像*${core.maxHp}*0.3

[hiddenAction_恢复倒计时]
autoTrigger:if self.resource.hfjs > 0
addResources:hfjs=0.5

[hiddenAction_恢复计时2]
autoTrigger:if self.resource.hfjs > 2
addResources:hp:99999,shield:9999

[hiddenAction_恢复计时3]
autoTrigger:if self.resource.hfjs > 4
addResources:hp:99999,shield:9999
setResourcesWithLogic:hfjs=0

[hiddenAction_等级限制]
autoTrigger:if self.resource.dj > 25
setResourcesWithLogic:dj=25

#---嗜血---

[hiddenAction_嗜血击杀2]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if self.resource.dj > 0
addResourcesWithLogic:hp=memory.生命*(self.resource.dj*0.02)

#---等级差---

[hiddenAction_等级差]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if attacking.resource.dj > self.resource.dj
addResourcesWithLogic:djds=attacking.resource.dj*20

#----随机----

[action_换弹]
addResourcesWithLogic:energy=99999

[action_随机属性显示]
text:随机属性\n点击查看详情
description:--该单位的随机属性--\n速度: 原始:${movement.moveSpeed} 当前:%{memory.移动速度} 随机值%{memory.sjsd}\n血量: 原始:${core.maxHp} 当前:%{memory.生命} 随机值:%{memory.sjsm}\n伤害: 原始:1 当前:%{memory.伤害乘数} 随机值:%{memory.sjsh}\n射程: 原始:${attack.maxAttackRange} 当前:%{memory.攻击距离} 随机值:%{memory.sjsc}\n弹容量: 原始:${core.energyMax} 当前:%{memory.弹容量} 随机值:%{memory.sjdrl}\n建造速度: 原始:1 当前:%{memory.jzsd} 随机值:%{memory.sjjzsd}
displayType:infoOnlyNoBox
buildSpeed:0
isActive:false
pos:21
isVisible:if self.globalTeamTags(includes='阳寿')

[hiddenAction_阳寿初始]
autoTriggerOnEvent:created
requireConditional:if self.globalTeamTags(includes='阳寿')
setUnitMemory:sjsd=rnd(${movement.moveSpeed*-2},${movement.moveSpeed*2}),sjsh=rnd(-4,4),sjsm=rnd(${core.maxHp*-0.45},${core.maxHp*0.45}),sjsc=int(rnd(${attack.maxAttackRange*-0.7},${attack.maxAttackRange*0.7})),sjdrl=int(rnd(${core.energyMax*-0.8},${core.energyMax*1})),弹容量=${core.energyMax},sjjzsd=rnd(0,2)
#spawnUnits:${core.name}*
setResourcesWithLogic:bssj=rnd(-0.5,2.5)
setUnitStats:maxEnergy=memory.弹容量
alsoTriggerAction:弹容量随机

[hiddenAction_正常初始]
autoTriggerOnEvent:created
requireConditional:if not self.globalTeamTags(includes='阳寿')
setUnitMemory:sjjzsd=1

[hiddenAction_弹容量触发]
autoTrigger:if self.globalTeamTags(includes='阳寿')
setUnitStats:maxEnergy=memory.弹容量

[hiddenAction_弹容量随机]
#autoTrigger:if self.maxEnergy != self.maxEnergy+memory.sjdrl and self.maxEnergy > 1 and memory.弹容量 != self.maxEnergy+memory.sjdrl
setUnitMemory:弹容量=self.maxEnergy+memory.sjdrl
alsoTriggerAction:换弹

[hiddenAction_弹药随机]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.5) and self.globalTeamTags(includes='阳寿')
setUnitMemory:sjdy=int(rnd(0,20))

[hiddenAction_弹药_眩晕]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.readUnitMemory('sjdy',type='number') == 1
setResourcesWithLogic:xuany=5

[hiddenAction_弹药_吸引]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.readUnitMemory('sjdy',type='number') == 3
spawnUnits:吸引中介(setToTeamOfLastAttacker=true)

[hiddenAction_弹药_失衡]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.readUnitMemory('sjdy',type='number') == 5
setResourcesWithLogic:shih=5

[hiddenAction_弹药_流血]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.readUnitMemory('sjdy',type='number') == 7
setResourcesWithLogic:lx=5


[hiddenAction_弹药_腐蚀]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.readUnitMemory('sjdy',type='number') == 11
setResourcesWithLogic:fs=5

[hiddenAction_弹药_击退]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.readUnitMemory('sjdy',type='number') == 13
spawnUnits:击退中介(setToTeamOfLastAttacker=true)

[hiddenAction_弹药_荆棘]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.readUnitMemory('sjdy',type='number') == 15
addResourcesWithLogic:hp=-50

[hiddenAction_弹药_自爆]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.readUnitMemory('sjdy',type='number') == 17
setUnitMemory:zib1=true

[hiddenAction_弹药_高爆]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.readUnitMemory('sjdy',type='number') == 19
spawnUnits:高爆中介(setToTeamOfLastAttacker=true)

#----模块---

#--伤害模块--

[hiddenAction_伤害模块开启1-1]
autoTrigger:if self.numberOfAttachedUnits(withTag='伤害模块',equalTo=1) and not self.numberOfAttachedUnits(withTag='伤害模块T2',greaterThan=0) and memory.shmk != 1
setUnitMemory:shmk=1

[hiddenAction_伤害模块开启T2-1]
autoTrigger:if self.numberOfAttachedUnits(withTag='伤害模块T2',equalTo=1) and memory.shmk != 2
setUnitMemory:shmk=2

[hiddenAction_伤害模块开启T2-2]
autoTrigger:if self.numberOfAttachedUnits(withTag='伤害模块T2',equalTo=2) and memory.shmk != 4
setUnitMemory:shmk=4

[hiddenAction_伤害模块开启T2-3]
autoTrigger:if self.numberOfAttachedUnits(withTag='伤害模块T2',equalTo=3) and memory.shmk != 6
setUnitMemory:shmk=6

#--射程模块--

[hiddenAction_射程模块开启1-1]
autoTrigger:if self.numberOfAttachedUnits(withTag='射程模块') == 1 and not self.numberOfAttachedUnits(withTag='射程模块T2',greaterThan=0) and memory.scmk != 1
setUnitMemory:scmk=1

[hiddenAction_射程模块开启T2-1]
autoTrigger:if self.numberOfAttachedUnits(withTag='射程模块T2') == 1 and memory.scmk != 2
setUnitMemory:scmk=2

[hiddenAction_射程模块开启T2-2]
autoTrigger:if self.numberOfAttachedUnits(withTag='射程模块T2') == 2 and memory.scmk != 4
setUnitMemory:scmk=4

[hiddenAction_射程模块开启T2-3]
autoTrigger:if self.numberOfAttachedUnits(withTag='射程模块T2') == 3 and memory.scmk != 6
setUnitMemory:scmk=6

#--速度模块--

[hiddenAction_速度模块开启1-1]
autoTrigger:if self.numberOfAttachedUnits(withTag='速度模块') == 1 and not self.numberOfAttachedUnits(withTag='速度模块T2',greaterThan=0) and memory.sdmk != 1
setUnitMemory:sdmk=1

[hiddenAction_速度模块开启T2-1]
autoTrigger:if self.numberOfAttachedUnits(withTag='速度模块T2') == 1 and memory.sdmk != 2
setUnitMemory:sdmk=2

[hiddenAction_速度模块开启T2-2]
autoTrigger:if self.numberOfAttachedUnits(withTag='速度模块T2') == 2 and memory.sdmk != 4
setUnitMemory:sdmk=4

[hiddenAction_速度模块开启T2-3]
autoTrigger:if self.numberOfAttachedUnits(withTag='速度模块T2') == 3 and memory.sdmk != 6
setUnitMemory:sdmk=6

#--汲取模块--

[hiddenAction_汲取模块开启1-1]
autoTrigger:if self.numberOfAttachedUnits(withTag='汲取模块') == 1 and not self.numberOfAttachedUnits(withTag='汲取模块T2',greaterThan=0) and memory.jqmk != 1
setUnitMemory:jqmk=1

[hiddenAction_汲取模块开启T2-1]
autoTrigger:if self.numberOfAttachedUnits(withTag='汲取模块T2') == 1 and memory.jqmk != 2
setUnitMemory:jqmk=2

[hiddenAction_汲取模块开启T2-2]
autoTrigger:if self.numberOfAttachedUnits(withTag='汲取模块T2') == 2 and memory.jqmk != 4
setUnitMemory:jqmk=4

[hiddenAction_汲取模块开启T2-3]
autoTrigger:if self.numberOfAttachedUnits(withTag='汲取模块T2') == 3 and memory.jqmk != 6
setUnitMemory:jqmk=6

#--穿透模块--

[hiddenAction_穿透模块开启]
autoTrigger:if self.numberOfAttachedUnits(withTag='穿透模块',greaterThan=0) and memory.ctmk <= 0
setUnitMemory:ctmk=1

[hiddenAction_穿透模块开启2]
autoTrigger:if self.numberOfAttachedUnits(withTag='穿透模块T2',greaterThan=0) and memory.ctmk <= 2
setUnitMemory:ctmk=2


[hiddenAction_汲取触发]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jqmk >= 1
addResourcesWithLogic:hp=${core.maxHp*0.05}*memory.jqmk,energy=memory.jqmk,djds=${core.radius*0.5}*memory.jqmk,shield=memory.护盾*0.05*memory.jqmk


[hiddenAction_穿透触发]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.numberOfAttachedUnits(withTag='穿透模块',greaterThan=0) and not lastDamagedBy.numberOfAttachedUnits(withTag='穿透模块T2',greaterThan=0) and self.resource(type="bm") <= 0
addResourcesWithLogic:hp=(${core.armour}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2)*-1

[hiddenAction_穿透触发2]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.numberOfAttachedUnits(withTag='穿透模块T2',greaterThan=0) and self.resource(type="bm") <= 0
addResourcesWithLogic:hp=(${core.armour}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2)*-2

[hiddenAction_破甲]
autoTriggerOnEvent:tookDamage(withTag='破甲')
requireConditional:if self.resource(type="bm") <= 0
addResourcesWithLogic:hp=(${core.armour}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2)*-2

[hiddenAction_高热]
autoTriggerOnEvent:tookDamage(withTag='高热弹')
requireConditional:if self.resource(type="bm") <= 0
addResourcesWithLogic:rsd=${core.radius}*0.05

[hiddenAction_穿透]
autoTriggerOnEvent:tookDamage(withTag='穿透弹')
requireConditional:if self.resource(type="bm") <= 0
addResourcesWithLogic:msd:(${core.armour}+30*memory.jjhj+20*memory.防御者+10*memory.暴君+5*memory.鹰眼+memory.防御者到守财奴*10+memory.fyzxg2)*0.05

[hiddenAction_腐蚀弹]
autoTriggerOnEvent:tookDamage(withTag='腐蚀弹')
requireConditional:if self.resource(type="bm") <= 0
addResourcesWithLogic:hp:memory.生命*-0.01

#---宝石机制---

#----晶体2级----

[hiddenAction_二级触发]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.shjt == 1 and self.kills() >= 20 and self.resource.shjt != 2
setResourcesWithLogic:shjt=2

[hiddenAction_二级触发1]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.kjjt == 1 and self.kills() >= 20 and self.resource.kjjt != 2
setResourcesWithLogic:kjjt=2

[hiddenAction_二级触发2]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.lyjt == 1 and self.kills() >= 20 and self.resource.lyjt != 2
setResourcesWithLogic:lyjt=2

[hiddenAction_二级触发3]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.hsjt == 1 and self.kills() >= 20 and self.resource.hsjt != 2
setResourcesWithLogic:hsjt=2

[hiddenAction_二级触发4]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.nyjt == 1 and self.kills() >= 20 and self.resource.nyjt != 2
setResourcesWithLogic:nyjt=2

[hiddenAction_二级触发5]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.jfjt == 1 and self.kills() >= 20 and self.resource.jfjt != 2
setResourcesWithLogic:jfjt=2

#----晶体3级----

[hiddenAction_三级触发]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.shjt == 2 and self.kills() >= 40 and self.resource.shjt != 3
setResourcesWithLogic:shjt=3

[hiddenAction_三级触发1]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.kjjt == 2 and self.kills() >= 40 and self.resource.kjjt != 3
setResourcesWithLogic:kjjt=3

[hiddenAction_三级触发2]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.lyjt == 2 and self.kills() >= 40 and self.resource.lyjt != 3
setResourcesWithLogic:lyjt=3

[hiddenAction_三级触发3]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.hsjt == 2 and self.kills() >= 40 and self.resource.hsjt != 3
setResourcesWithLogic:hsjt=3

[hiddenAction_三级触发4]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.nyjt == 2 and self.kills() >= 40 and self.resource.nyjt != 3
setResourcesWithLogic:nyjt=3

[hiddenAction_三级触发5]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt >= 1 and self.resource.jfjt == 2 and self.kills() >= 40 and self.resource.jfjt != 3
setResourcesWithLogic:jfjt=3

#[hiddenAction_击杀获得宝石]
#autoTriggerOnEvent:killedAnyUnit
#requireConditional:if attacking.readUnitMemory('jt',type='number') > 0
#setUnitMemory:jt=attacking.readUnitMemory('jt',type='number')

[hiddenAction_燃烧冰冻]
autoTrigger:if self.resource.hsbssy > 0 and self.hasFlag(id=2)
addResources:unsetFlag=2
setResourcesWithLogic:rsd=0,hsbssy=0

[hiddenAction_击杀随机宝石]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if self.kills >= 5 and memory.jt <= 0
setResourcesWithLogic:bssj=rnd(0,2)

[hiddenAction_随机宝石取消]
autoTrigger:if memory.jt > 0 and self.resource.bssj != 0
setResourcesWithLogic:bssj=0

[hiddenAction_守护宝石]
autoTrigger:if self.resource.bssj >= 0.3 and self.resource.bssj <= 0.6 and self.kills >= 5 and memory.jt <= 0 or self.globalTeamTags(includes='阳寿') and self.resource.bssj >= 0.3 and self.resource.bssj <= 0.6
setUnitMemory:jt=1
setResourcesWithLogic:shjt=1

[hiddenAction_寒霜宝石]
autoTrigger:if self.resource.bssj >= 1.3 and self.resource.bssj <= 1.6 and self.kills >= 5 and memory.jt <= 0 or self.globalTeamTags(includes='阳寿') and self.resource.bssj >= 1.3 and self.resource.bssj <= 1.6
setUnitMemory:jt=2
setResourcesWithLogic:hsjt=1

[hiddenAction_烈焰宝石]
autoTrigger:if self.resource.bssj > 0.6 and self.resource.bssj <= 0.9 and self.kills >= 5 and memory.jt <= 0 or self.globalTeamTags(includes='阳寿') and self.resource.bssj >= 0.6 and self.resource.bssj <= 0.9
setUnitMemory:jt=3
setResourcesWithLogic:lyjt=1

[hiddenAction_恐惧宝石]
autoTrigger:if self.resource.bssj > 1.6 and self.resource.bssj <= 1.9 and self.kills >= 5 and memory.jt <= 0 or self.globalTeamTags(includes='阳寿') and self.resource.bssj >= 1.6 and self.resource.bssj <= 1.9
setUnitMemory:jt=4
setResourcesWithLogic:kjjt=1

[hiddenAction_飓风宝石]
autoTrigger:if self.resource.bssj >= 1 and self.resource.bssj <= 1.2 and self.kills >= 5 and memory.jt <= 0 or self.globalTeamTags(includes='阳寿') and self.resource.bssj >= 1 and self.resource.bssj <= 1.2
setUnitMemory:jt=5
setResourcesWithLogic:jfjt=1

[hiddenAction_能源宝石]
autoTrigger:if self.resource.bssj >= 0.1 and self.resource.bssj <= 0.2 and self.kills >= 5 and memory.jt <= 0 or self.globalTeamTags(includes='阳寿') and self.resource.bssj >= 0.1 and self.resource.bssj <= 0.2
setUnitMemory:jt=6
setResourcesWithLogic:nyjt=1

#-守护宝石效果-

[hiddenAction_守护生命]
autoTrigger:if memory.jt == 1 and self.resource.shjt == 1
addResources:hp:5,shield:5

[hiddenAction_守护生命2]
autoTrigger:if memory.jt == 1 and self.resource.shjt == 2
addResources:hp:10,shield:10

[hiddenAction_守护生命3]
autoTrigger:if memory.jt == 1 and self.resource.shjt == 3
addResources:hp:15,shield:15

[hiddenAction_守护溢出]
autoTriggerOnEvent:tookDamage
requireConditional:if memory.jt == 1 and self.resource.sh >= 0
addResourcesWithLogic:hp:self.resource.sh*0.1*self.resource.shjt

[hiddenAction_守护范围]
autoTrigger:if numberOfUnitsInEnemyTeam(withinRange=${core.radius+105},greaterThan=0) and memory.jt == 1 and self.resource.shjt == 1
fireTurretXAtGround:守护
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround_count:1

[hiddenAction_守护范围2]
autoTrigger:if numberOfUnitsInEnemyTeam(withinRange=${core.radius+205},greaterThan=0) and memory.jt == 1 and self.resource.shjt == 2
fireTurretXAtGround:守护2
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround_count:1

[turret_守护]
x:0
y:0
invisible:true
canShoot:false
projectile:守护子弹

[turret_守护2]
x:0
y:0
invisible:true
canShoot:false
projectile:守护子弹2

[projectile_守护子弹]
areaDamage:0
armourIgnoreAmount:5
shieldDamageMultiplier:3
areaRadius:${core.radius+100}
pushForce:300
pushVelocity:5
life:120
deflectionPower:-1
areaHitUnderwaterAlways:true
areaHitAirAndLandAtSameTime:true
speed:999
lightSize:0.0001
drawSize:0.00001
explodeEffect:NONE

[projectile_守护子弹2]
areaDamage:0
armourIgnoreAmount:5
shieldDamageMultiplier:3
areaRadius:${core.radius+200}
pushForce:300
pushVelocity:5
life:120
deflectionPower:-1
areaHitUnderwaterAlways:true
areaHitAirAndLandAtSameTime:true
speed:999
lightSize:0.0001
drawSize:0.00001
explodeEffect:NONE

#-寒霜宝石-

[hiddenAction_寒霜选择]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.5) and memory.jt == 2 or self.hasTakenDamage(withinSeconds=0.5) and memory.jt == 2
setResourcesWithLogic:hsbs=rnd(0,1)

[decal_冰冻]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/冰霜.png
imageScaleX:1
imageScaleY:1
alwaysStartDirAtZero:true
imageScale:${core.radius*0.02+0.5}
isVisible:if self.resource.hsbssy > 0 and self.hp > 0
yOffsetAbsolute:0

[hiddenAction_寒霜触发]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.resource.hsbs >= 0.35 and lastDamagedBy.resource.hsbs <= 0.5 and memory.jt != 2
setResourcesWithLogic:hsbssy=6

[hiddenAction_寒霜触发2]
autoTrigger:if attacking.resource.hsbs >= 0.35 and attacking.resource.hsbs <= 0.5 and memory.jt != 2 and attacking.hasTakenDamage(withinSeconds=0.5)
setResourcesWithLogic:hsbssy=6

[hiddenAction_寒霜计时]
autoTrigger:if self.resource.hsbssy > 0
addResources:hsbssy:-0.5
clearAllWaypoints:true
alsoTriggerAction:寒霜冰冻

[hiddenAction_寒霜自身伤害]
autoTriggerOnEvent:tookDamage
requireConditional:if memory.jt == 2
addResources:hp:-40

[hiddenAction_寒霜伤害]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource.hsbssy > 0
addResources:hp:-100

[hiddenAction_寒霜冰冻]
autoTrigger:if self.isMoving() and self.resource.hsbssy > 0
clearAllWaypoints:true
alsoTriggerAction:寒霜冰冻2

[hiddenAction_寒霜冰冻2]
clearAllWaypoints:true

[hiddenAction_寒霜范围]
autoTrigger:if numberOfUnitsInEnemyTeam(withinRange=${core.radius+25},greaterThan=0) and memory.jt == 2 and self.resource.hsjt == 1
fireTurretXAtGround:寒霜
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround_count:1

[turret_寒霜]
x:0
y:0
invisible:true
canShoot:false
projectile:寒霜子弹

[projectile_寒霜子弹]
areaDamage:80
areaDamageNoFalloff:true
armourIgnoreAmount:5
shieldDamageMultiplier:3
areaRadius:${core.radius+30}
life:120
deflectionPower:-1
speed:999
lightSize:0.0001
drawSize:0.00001
explodeEffect:NONE


[hiddenAction_寒霜范围2]
autoTrigger:if numberOfUnitsInEnemyTeam(withinRange=${core.radius+65},greaterThan=0) and memory.jt == 2 and self.resource.hsjt == 2
fireTurretXAtGround:寒霜2
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround_count:1

[turret_寒霜2]
x:0
y:0
invisible:true
canShoot:false
projectile:寒霜子弹2

[projectile_寒霜子弹2]
areaDamage:200
areaDamageNoFalloff:true
armourIgnoreAmount:5
shieldDamageMultiplier:3
areaRadius:${core.radius+60}
life:120
deflectionPower:-1
speed:999
lightSize:0.0001
drawSize:0.00001
explodeEffect:NONE


[hiddenAction_寒霜范围3]
autoTrigger:if numberOfUnitsInEnemyTeam(withinRange=${core.radius+65},greaterThan=0) and memory.jt == 2 and self.resource.hsjt == 3
fireTurretXAtGround:寒霜3
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround_count:1

[turret_寒霜3]
x:0
y:0
invisible:true
canShoot:false
projectile:寒霜子弹3

[projectile_寒霜子弹3]
areaDamage:500
areaDamageNoFalloff:true
armourIgnoreAmount:5
shieldDamageMultiplier:3
areaRadius:${core.radius+100}
life:120
deflectionPower:-1
speed:999
lightSize:0.0001
drawSize:0.00001
explodeEffect:NONE

#-烈焰晶体-

[hiddenAction_烈焰选择]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.5) and memory.jt == 3
setResourcesWithLogic:liey=rnd(0,1),liey2=rnd(0,1)

[hiddenAction_烈焰触发]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.resource.liey >= 0.2 and lastDamagedBy.resource.liey <= 0.5 and memory.jt != 3
addResourcesWithLogic:rsd=9999

[hiddenAction_烈焰友伤]
autoTrigger:if self.resource.liey2 >= 0.25 and self.resource.liey2 <= 0.3
setResourcesWithLogic:liey2=rnd(0,1)
addResources:hp:-60

[hiddenAction_持续烈焰]
autoTrigger:if numberOfUnitsInEnemyTeam(withinRange=${core.radius+100},greaterThan=0) and memory.jt == 3
takeResources:rsd=-9999
takeResources_includeUnitsWithinRange:${core.radius+100}
takeResources_includeUnitsWithinRange_team:enemy
takeResources_discardCollected:true
takeResources_maxUnits:99999

#-恐惧晶体-

[hiddenAction_恐惧选择]
autoTrigger:if attacking.hasTakenDamage(withinSeconds=0.5) and memory.jt == 4
setResourcesWithLogic:kjbs=rnd(0.1,1)

[hiddenAction_恐惧溢出]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt == 4
addResourcesWithLogic:hp:memory.生命*0.05*self.resource.kjjt
alsoTriggerAction:恐惧溢出2

[hiddenAction_恐惧溢出2]
addResourcesWithLogic:energy:3*self.resource.kjjt

[hiddenAction_恐惧伤害]
autoTriggerOnEvent:tookDamage
requireConditional:if lastDamagedBy.resource.kjbs > 0
addResources:hp:-60

[hiddenAction_恐惧效果]
autoTriggerOnEvent:tookDamage
setResourcesWithLogic:kjbs2=rnd(0,1)
requireConditional:if lastDamagedBy.resource.kjbs > 0

[hiddenAction_恐惧效果赋予]
autoTrigger:if self.resource.kjbs2 >= 0.25 and self.resource.kjbs2 <= 0.4
setResourcesWithLogic:kjbssy=7

[hiddenAction_恐惧计时]
autoTrigger:if self.resource.kjbssy > 0
addResources:kjbssy:-0.5
clearAllWaypoints:true

#-飓风宝石-

[hiddenAction_飓风产生]
autoTriggerOnEvent:destroyed
requireConditional:if memory.jt == 5 and self.resource.jfjt == 1
spawnUnits:飓风

[hiddenAction_飓风产生2]
autoTriggerOnEvent:destroyed
requireConditional:if memory.jt == 5 and self.resource.jfjt == 2
spawnUnits:飓风2

[hiddenAction_飓风产生3]
autoTriggerOnEvent:destroyed
requireConditional:if memory.jt == 5 and self.resource.jfjt == 3
spawnUnits:飓风3


[hiddenAction_飓风负面]
autoTriggerOnEvent:tookDamage(withTag='飓风')
requireConditional:if memory.jfxg != true
setUnitMemory:jfxg=true

[hiddenAction_飓风伤害]
autoTriggerOnEvent:tookDamage
requireConditional:if memory.jfxg == true
addResources:hp:-50
setResourcesWithLogic:jf=rnd(0,1)

[hiddenAction_飓风自身伤害]
autoTriggerOnEvent:tookDamage
requireConditional:if memory.jt == 5
addResources:hp:-80

[hiddenAction_飓风眩晕]
autoTriggerOnEvent:tookDamage
requireConditional:if self.resource.jf >= 0.3 and self.resource.jf <= 0.5
addResources:xuany:5

[hiddenAction_飓风范围]
autoTrigger:if numberOfUnitsInEnemyTeam(withinRange=${core.radius+205},greaterThan=0) and memory.jt == 5 and self.resource.jfjt == 1
fireTurretXAtGround:飓风
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround_count:1

[hiddenAction_飓风范围]
autoTrigger:if numberOfUnitsInEnemyTeam(withinRange=${core.radius+405},greaterThan=0) and memory.jt == 5 and self.resource.jfjt >= 2
fireTurretXAtGround:飓风2
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround_count:1

[turret_飓风]
x:0
y:0
invisible:true
canShoot:false
projectile:飓风子弹

[projectile_飓风子弹]
areaDamage:0
armourIgnoreAmount:5
shieldDamageMultiplier:3
areaRadius:${core.radius+200}
pushForce:300
pushVelocity:5
life:120
deflectionPower:-1
areaHitUnderwaterAlways:true
areaHitAirAndLandAtSameTime:true
speed:999
lightSize:0.0001
drawSize:0.00001
explodeEffect:NONE

[turret_飓风2]
x:0
y:0
invisible:true
canShoot:false
projectile:飓风子弹

[projectile_飓风子弹2]
areaDamage:0
armourIgnoreAmount:5
shieldDamageMultiplier:3
areaRadius:${core.radius+400}
pushForce:300
pushVelocity:5
life:120
deflectionPower:-1
areaHitUnderwaterAlways:true
areaHitAirAndLandAtSameTime:true
speed:999
lightSize:0.0001
drawSize:0.00001
explodeEffect:NONE

#-能源晶体-

[hiddenAction_能源击杀]
autoTriggerOnEvent:killedAnyUnit
requireConditional:if memory.jt == 6
addResourcesWithLogic:sjd=1*self.resource.nyjt,credits=memory.生命*0.5*self.resource.nyjt,djds1=10*self.resource.nyjt,djds=20*self.resource.nyjt
alsoTriggerAction:能源击杀2

[hiddenAction_能源击杀2]
addResourcesWithLogic:energy:5*self.resource.nyjt,hp:memory.生命*0.1*self.resource.nyjt

[hiddenAction_能源死亡]
autoTriggerOnEvent:destroyed
requireConditional:if memory.jt == 6
addResourcesWithLogic:credits=memory.生命*0.5*self.resource.nyjt

[hiddenAction_能源伤害]
autoTriggerOnEvent:tookDamage
requireConditional:if memory.jt == 6
addResourcesWithLogic:hp:-100*self.resource.nyjt,credits=memory.生命*-0.05*self.resource.nyjt

#---属性显示---

[action_能源宝石显示]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/能源宝石.png
text:能源晶体
description:--机制简介--\n杀敌后获得自身血量50%的资金\n恢复自身血量的10%\n死亡后获得自身血量50%的资金\n杀敌额外获得一倍的等级点数\n杀敌增加自身1点能量\n杀敌额外获得一倍的升级点数\n--负面效果--\n每受到一次伤害,则减少自身血量5%的资金\n受到伤害时额外受到100伤害\n自身资金获取减少5经济
buildSpeed:0
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 6 and self.resource.nyjt == 1

[action_飓风宝石显示]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/飓风宝石.png
text:飓风晶体
description:--机制简介--\n敌方单位无法靠近此单位\n该单位伤害乘数增加0.5\n单位移动速度增加0.2\n自身死亡后,产生大范围吸引\n将周围所有单位吸引到一起\n然后产生伤害非常高的爆炸\n敌人在经过飓风后,如果未死亡\n则产生负面效果:受到伤害额外增加50\n并且受到伤害的时候有30%的几率产生10s眩晕效果\n--负面效果--\n这个飓风会影响到己方单位\n自身受到伤害时额外受到80伤害
buildSpeed:0
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 5 and self.resource.jfjt == 1

[action_恐惧宝石显示]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/恐惧宝石.png
text:恐惧晶体
description:--机制简介--\n击杀敌人后恢复自身5点能量\n击杀敌人后恢复自身5%的血量\n移动速度增加30%(初始数值30%)\n敌人在受伤时额外收到60的伤害\n有25%的几率使被攻击单位惊慌\n敌方单位惊慌时,将会非常难控制此单位\n--负面效果--\n耗油量增加100%\n增加自身0.5攻击间隔
buildSpeed:0
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 4 and self.resource.kjjt == 1

[action_烈焰宝石显示]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/烈焰宝石.png
text:烈焰晶体
description:--机制简介--\n免疫火焰蔓延(但别人仍会对自己蔓延)\n该单位射程增加40\n被攻击时不会增加燃烧点数\n有35%的几率使被攻击单位燃烧\n使自身半径+100范围内的敌方单位燃烧\n--负面效果--\n自身攻击时,有一定几率对自身造成50伤害\n在岩浆上空会直接死亡(无论是否有抗火)
buildSpeed:0
pos:21.1
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 3 and self.resource.lyjt == 1

[action_守护宝石显示]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/守护宝石.png
text:守护晶体
description:--机制简介--\n每秒恢复4生命值\n每秒恢复4护盾值(有护盾科技)\n减少10%的伤害\n单位将无法靠近你(具体为:自身半径+100范围)\n增加30%最大生命值(初始数据30%)\n--负面效果--\n该单位对于[重甲]科技无效
buildSpeed:0
pos:21.1
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 1 and self.resource.shjt == 1

[action_寒霜宝石显示]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/寒霜宝石.png
text:寒霜晶体
description:--机制简介--\n有15%的几率使被攻击单位冰动\n敌人在攻击此单位时,也有15%的几率冰动\n冰冻时该敌方单位无法移动\n且此时受到伤害会额外增加100\n自身伤害乘数增加0.3\n自身免疫[眩晕]和[失衡]科技\n敌方靠近此单位的时候会受到伤害\n但基本上只针对于半径小的\n--负面效果--\n自身受到伤害始终额外增加40
buildSpeed:0
pos:21.1
displayType:infoOnlyNoBox
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
isActive:false
isVisible:if memory.jt == 2 and self.resource.hsjt == 1

#--二级晶体--

[action_能源宝石显示2]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/能源宝石.png
text:能源晶体Ⅱ
description:--机制简介--\n杀敌后获得自身血量100%的资金\n恢复自身血量的20%\n死亡后获得自身血量100%的资金\n杀敌额外获得一倍的等级点数\n杀敌增加自身2点能量\n杀敌额外获得一倍的升级点数\n--负面效果--\n每受到一次伤害,则减少自身血量5%的资金\n受到伤害时额外受到100伤害\n自身资金获取减少5经济
buildSpeed:0
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 6 and self.resource.nyjt == 2

[action_飓风宝石显示2]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/飓风宝石.png
text:飓风晶体Ⅱ
description:--机制简介--\n敌方单位无法靠近此单位\n该单位伤害乘数增加1\n单位移动速度增加0.4\n自身死亡后,产生大范围吸引\n数量为2个\n将周围所有单位吸引到一起\n然后产生伤害非常高的爆炸\n敌人在经过飓风后,如果未死亡\n则产生负面效果:受到伤害额外增加50\n并且受到伤害的时候有30%的几率产生10s眩晕效果\n--负面效果--\n这个飓风会影响到己方单位\n自身受到伤害时额外受到80伤害
buildSpeed:0
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 5 and self.resource.jfjt == 2

[action_恐惧宝石显示2]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/恐惧宝石.png
text:恐惧晶体Ⅱ
description:--机制简介--\n击杀敌人后恢复自身5点能量\n击杀敌人后恢复自身10%的血量\n移动速度增加60%(初始数值60%)\n敌人在受伤时额外收到60的伤害\n有50%的几率使被攻击单位惊慌\n敌方单位惊慌时,将会非常难控制此单位\n--负面效果--\n耗油量增加100%\n增加自身0.5攻击间隔
buildSpeed:0
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 4 and self.resource.kjjt == 2

[action_烈焰宝石显示2]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/烈焰宝石.png
text:烈焰晶体Ⅱ
description:--机制简介--\n免疫火焰蔓延(但别人仍会对自己蔓延)\n该单位射程增加80\n被攻击时不会增加燃烧点数\n有70%的几率使被攻击单位燃烧\n使自身半径+100范围内的敌方单位燃烧\n--负面效果--\n自身攻击时,有一定几率对自身造成50伤害\n在岩浆上空会直接死亡(无论是否有抗火)
buildSpeed:0
pos:21.1
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 3 and self.resource.lyjt == 2

[action_守护宝石显示2]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/守护宝石.png
text:守护晶体Ⅱ
description:--机制简介--\n每秒恢复8生命值\n每秒恢复8护盾值(有护盾科技)\n减少20%的伤害\n单位将无法靠近你(具体为:自身半径+100范围)\n增加60%最大生命值(初始数据60%)\n--负面效果--\n该单位对于[重甲]科技无效
buildSpeed:0
pos:21.1
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 1 and self.resource.shjt == 2

[action_寒霜宝石显示2]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/寒霜宝石.png
text:寒霜晶体Ⅱ
description:--机制简介--\n有30%的几率使被攻击单位冰动\n敌人在攻击此单位时,也有50%的几率冰动\n冰冻时该敌方单位无法移动\n且此时受到伤害会额外增加100\n自身伤害乘数增加0.6\n自身免疫[眩晕]和[失衡]科技\n敌方靠近此单位的时候会受到伤害\n但基本上只针对于半径小的\n--负面效果--\n自身受到伤害始终额外增加40
buildSpeed:0
pos:21.1
displayType:infoOnlyNoBox
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
isActive:false
isVisible:if memory.jt == 2 and self.resource.hsjt == 2

#--三级晶体--

[action_能源宝石显示3]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/能源宝石.png
text:能源晶体Ⅲ
description:--机制简介--\n杀敌后获得自身血量150%的资金\n恢复自身血量的30%\n死亡后获得自身血量150%的资金\n杀敌额外获得一倍的等级点数\n杀敌增加自身3点能量\n杀敌额外获得一倍的升级点数\n--负面效果--\n每受到一次伤害,则减少自身血量5%的资金\n受到伤害时额外受到100伤害\n自身资金获取减少5经济
buildSpeed:0
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 6 and self.resource.nyjt == 3

[action_飓风宝石显示3]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/飓风宝石.png
text:飓风晶体Ⅲ
description:--机制简介--\n敌方单位无法靠近此单位\n该单位伤害乘数增加1.5\n单位移动速度增加0.6\n自身死亡后,产生大范围吸引\n数量为3个\n将周围所有单位吸引到一起\n然后产生伤害非常高的爆炸\n敌人在经过飓风后,如果未死亡\n则产生负面效果:受到伤害额外增加50\n并且受到伤害的时候有30%的几率产生10s眩晕效果\n--负面效果--\n这个飓风会影响到己方单位\n自身受到伤害时额外受到80伤害
buildSpeed:0
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 5 and self.resource.jfjt == 3

[action_恐惧宝石显示3]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/恐惧宝石.png
text:恐惧晶体Ⅲ
description:--机制简介--\n击杀敌人后恢复自身5点能量\n击杀敌人后恢复自身20%的血量\n移动速度增加90%(初始数值90%)\n敌人在受伤时额外收到60的伤害\n有50%的几率使被攻击单位惊慌\n敌方单位惊慌时,将会非常难控制此单位\n--负面效果--\n耗油量增加100%\n增加自身0.5攻击间隔
buildSpeed:0
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 4 and self.resource.kjjt == 3

[action_烈焰宝石显示3]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/烈焰宝石.png
text:烈焰晶体Ⅲ
description:--机制简介--\n免疫火焰蔓延(但别人仍会对自己蔓延)\n该单位射程增加120\n被攻击时不会增加燃烧点数\n有70%的几率使被攻击单位燃烧\n使自身半径+100范围内的敌方单位燃烧\n--负面效果--\n自身攻击时,有一定几率对自身造成50伤害\n在岩浆上空会直接死亡(无论是否有抗火)
buildSpeed:0
pos:21.1
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 3 and self.resource.lyjt == 3

[action_守护宝石显示2]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/守护宝石.png
text:守护晶体Ⅲ
description:--机制简介--\n每秒恢复15生命值\n每秒恢复15护盾值(有护盾科技)\n减少20%的伤害\n单位将无法靠近你(具体为:自身半径+100范围)\n增加90%最大生命值(初始数据60%)\n--负面效果--\n该单位对于[重甲]科技无效
buildSpeed:0
pos:21.1
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 1 and self.resource.shjt == 3

[action_寒霜宝石显示2]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/寒霜宝石.png
text:寒霜晶体Ⅲ
description:--机制简介--\n有60%的几率使被攻击单位冰动\n敌人在攻击此单位时,也有60%的几率冰动\n冰冻时该敌方单位无法移动\n且此时受到伤害会额外增加100\n自身伤害乘数增加0.9\n自身免疫[眩晕]和[失衡]科技\n敌方靠近此单位的时候会受到伤害\n但基本上只针对于半径小的\n--负面效果--\n自身受到伤害始终额外增加40
buildSpeed:0
pos:21.1
displayType:infoOnlyNoBox
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
isActive:false
isVisible:if memory.jt == 2 and self.resource.hsjt == 3

#--其他--

[action_纳米恢复显示]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/纳米恢复.png
text:纳米恢复
description:--机制简介--\n此单位死亡后\n对自身半径+80的范围内的友军单位\n减少磨损度和燃烧点\n瞬间恢复生命\n瞬间回满能量
buildSpeed:0
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource.dj >= 12

[action_炽热弹头]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/炽热弹头.png
text:炽热弹头
description:--机制简介--\n对面受到此次伤害时\n使周围所有单位燃烧且无法灭火\n持续3s
buildSpeed:0
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.hasFlag(id=5)

[action_连续得分]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/连续得分.png
text:连续得分
description:--机制简介--\n再此区间内杀敌获得%{self.resource.lxdfdj*5}等级点数
buildSpeed:0
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource.lxdf > 5

[action_反伤护盾]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/荆棘.png
text:荆棘
description:--机制简介--\n自身所受的伤害的50%无条件还给敌人\n而且敌人次时受到的伤害无视一切护甲\n条件:等级大于等于15
buildSpeed:0
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource.dj >= 15

[action_伤害溢出]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/过载护盾.png
text:过载护甲
description:--机制简介--\n当自身受到伤害大于%{100*self.resource.dj}时,减少20%的伤害\n注意:前提是没有一击必杀的情况\n条件:等级大于5(但不包括5级)
buildSpeed:0
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource.dj > 5

[action_死亡反甲]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/死亡反甲.png
text:死亡反甲
description:还差%{15-self.resource.ljnl}个人头\n--机制简介--\n当自身击杀数量超过15后启用\n启用后,敌人击杀该单位后也会直接暴毙\n条件:击杀数量超过15,等级大于等于10
buildSpeed:0
pos:21.1
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource.dj >= 10

[action_show等级]
#infoOnly:true
isAlsoViewableByAllies:true
isAlsoViewableByEnemies:true
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/等级.png
text:等级\n%{self.resource(type='dj')}级
description:当前等级%{self.resource(type='dj')}/25\n距离下次升级还差%{(memory.syds1*self.resource.dj+20)-self.resource(type="djds")}等级点数\n每级最大血量增加${core.maxHp*0.1}\n装甲韧性增加%{self.resource.dj*2}%(减伤%{self.resource.dj*2}%)\n嗜血%{self.resource.dj}级(杀敌恢复%{int(memory.生命*(self.resource.dj*0.02))}血量)\n伤害乘数总体增加%{self.resource.dj*0.04}\n射程总体增加%{self.resource.dj*4}\n---机制简介---\n每击杀一个单位获得10等级点数\n如果击杀的这个单位等级比自己高\n则获得其等级20倍的等级点数\n有点石成金后额外获10等级点数\n6.8.10.13.15级时,会有不同的被动技能
buildSpeed:0
pos:21
displayType:infoOnlyNoBox
isActive:false
isVisible:true

[action_等级提升]
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/等级提升.png
text:提升等级
description:将你的等级点数赋予该单位\n需要%{(memory.syds1*self.resource.dj+20)*1.5}个等级点数
ai_isHighPriority:true
buildSpeed:1s
pos:21
allowMultipleInQueue:false
displayType:infoOnlyNoBox
playSoundToPlayer:ROOT:[WarField][战争之地]/-shared-/-音效-/科技升级.ogg
addResourcesWithLogic:djds1=((memory.syds1*self.resource.dj+20)*1.5)*-1,dj:1
addResources:hfjs:2
isActive:true
isVisible:if self.resource.djds1 >= (memory.syds1*self.resource.dj+20)*1.5 and self.resource.dj < 15

[action_show玩火自焚]
#infoOnly:true
text:玩火自焚
description:该单位燃烧时\n敌人以此单位为攻击目标时\n会直接燃烧
buildSpeed:0s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/玩火自焚.png
pos:18
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.globalTeamTags(includes="玩火自焚")

[action_show冰冻]
#infoOnly:true
text:冰冻状态\n剩余%{int(self.resource(type="hsbssy"))}s
description:冰冻中...\n几乎无法移动\n受到的伤害额外增加100
buildSpeed:0s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/冰霜.png
pos:21
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="hsbssy") > 0

[action_show惊慌]
#infoOnly:true
text:惊慌状态\n剩余%{int(self.resource(type="kjbssy"))}s
description:惊慌中...\n几乎无法移动
buildSpeed:0s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/惊慌.png
pos:21
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="kjbssy") > 0

[action_show武士流血]
#infoOnly:true
text:流血状态\n剩余%{int(self.resource(type="wslx"))}s
description:该单位正在受到武士机甲造成的流血效果
buildSpeed:0s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/blood.png
pos:21
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="wslx") > 0


[action_show不灭金身1]
#infoOnly:true
text:不灭金身缓冲\n%{int(self.resource(type="bmjs"))}s
description:倒计时结束后,获得不灭金身buff
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/不灭金身.png
buildSpeed:0s
pos:20
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="bmjs") > 0

[action_show眩晕]
#infoOnly:true
text:眩晕状态\n剩余%{int(self.resource(type="xuany"))}s
description:控制此单位将非常困难
buildSpeed:0s
pos:20
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/眩晕.png
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="xuany") > 0


[action_show失衡]
#infoOnly:true
text:失衡状态\n剩余%{int(self.resource(type="shih"))}s
description:该单位无法转向
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/失衡.png
buildSpeed:0s
pos:20
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="shih") > 0

[action_show不灭金身2]
#infoOnly:true
text:不灭金身\n剩余%{int(self.resource(type="bm"))}s
description:不灭金身buff的剩余时间
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/不灭金身.png
buildSpeed:0s
pos:20
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="bm") > 0

[action_履带显示]
text:维修中...
isActive:false
description:履带/甲板/推进器损坏了,现在正在被修复中...
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/扳手.png
pos:-3
displayType:infoOnlyNoBox
isVisible:if self.hasFlag(id=8) and not self.hasUnitInTeam(withTag="载具加强")


[action_show惊人1]
#infoOnly:true
text:惊人一刻缓冲时间\n%{int(self.resource(type="jr"))}s
description:倒计时结束后,获得惊人一刻buff
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/惊人.png
buildSpeed:0s
pos:20
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="jr") > 0

[action_show惊人2]
#infoOnly:true
text:惊人一刻\n剩余%{int(self.resource(type="jrsy"))}s
description:惊人一刻buff的剩余时间
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/惊人.png
buildSpeed:0s
pos:20
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="jrsy") > 0

[action_show重甲值]
#infoOnly:true
text:重甲缓冲时间\n%{int(self.resource(type="zj"))}s
description:倒计时结束后,该单位对下一次攻击免疫
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/重新.png
buildSpeed:0s
pos:18
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="zj") > 0


[action_show重甲]
#infoOnly:true
text:重甲防御
description:该单位对下一次攻击免疫
buildSpeed:0s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/盾.png
pos:18
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.hasFlag(id=9)

[action_show腐蚀]
#infoOnly:true
text:腐蚀状态\n剩余%{int(self.resource(type="fs"))}s
description:该单位正在受到腐蚀效果
buildSpeed:0s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/病毒.png
pos:20
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="fs") > 0

[action_show流血]
#infoOnly:true
text:流血状态\n剩余%{int(self.resource(type="lx"))}s
description:该单位正在受到流血效果
buildSpeed:0s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/blood.png
pos:21
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="lx") > 0

[action_show引擎值]
#infoOnly:true
text:引擎生命值\n%{self.resource(type="ld")}/${core.radius*2+20}
description:
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/引擎.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="ld") >= ${(core.radius*2+20)*0.9}

[action_show引擎值-1]
#infoOnly:true
text:引擎生命值\n%{self.resource(type="ld")}/${core.radius*2+20}
description:
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/引擎-1.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="ld") < ${(core.radius*2+20)*0.9} and self.resource(type="ld") >= ${(core.radius*2+20)*0.8}

[action_show引擎值-2]
#infoOnly:true
text:引擎生命值\n%{self.resource(type="ld")}/${core.radius*2+20}
description:
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/引擎-2.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="ld") < ${(core.radius*2+20)*0.8} and self.resource(type="ld") >= ${(core.radius*2+20)*0.6}

[action_show引擎值-3]
#infoOnly:true
text:引擎生命值\n%{self.resource(type="ld")}/${core.radius*2+20}
description:
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/引擎-3.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="ld") < ${(core.radius*2+20)*0.6} and self.resource(type="ld") >= ${(core.radius*2+20)*0.4}

[action_show引擎值-4]
#infoOnly:true
text:引擎生命值\n%{self.resource(type="ld")}/${core.radius*2+20}
description:
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/引擎-4.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="ld") < ${(core.radius*2+20)*0.4} and self.resource(type="ld") >= ${(core.radius*2+20)*0.2}

[action_show引擎值-5]
#infoOnly:true
text:引擎生命值\n%{self.resource(type="ld")}/${core.radius*2+20}
description:
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/引擎-5.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type="ld") < ${(core.radius*2+20)*0.2} and self.resource(type="ld") >= ${(core.radius*2+20)*0}


[action_show磨损度]
#infoOnly:true
text:磨损度\n%{self.resource(type="msd")}/${int(core.radius*0.05*55)}
description:磨损等级:0级\n无效果
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/磨损.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type='msd') < 10*${core.radius*0.05}

[action_show磨损度1]
#infoOnly:true
text:磨损度\n%{self.resource(type="msd")}/${int(core.radius*0.05*55)}
description:磨损等级:1级\n轻度磨损\n转弯速度下降5%\n受到伤害时额外受到50点伤害
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/磨损-1.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type='msd') >= 10*${core.radius*0.05} and self.resource(type='msd') < 20*${core.radius*0.05}

[action_show磨损度2]
#infoOnly:true
text:磨损度\n%{self.resource(type="msd")}/${int(core.radius*0.05*55)}
description:磨损等级:2级\n中度磨损\n转弯速度下降10%\n受到伤害时额外受到70点伤害\n攻击间隔增加0.1
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/磨损-2.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type='msd') >= 20*${core.radius*0.05} and self.resource(type='msd') < 30*${core.radius*0.05}

[action_show磨损度3]
#infoOnly:true
text:磨损度\n%{self.resource(type="msd")}/${int(core.radius*0.05*55)}
description:磨损等级:3级\n严重磨损\n转弯速度下降20%\n受到伤害时额外受到100点伤害\n攻击间隔增加0.2
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/磨损-3.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type='msd') >= 30*${core.radius*0.05} and self.resource(type='msd') < 40*${core.radius*0.05}

[action_show磨损度4]
#infoOnly:true
text:磨损度\n%{self.resource(type="msd")}/${int(core.radius*0.05*55)}
description:磨损等级:4级\n重度磨损\n转弯速度下降35%\n受到伤害时额外受到140点伤害\n攻击间隔增加0.35
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/磨损-4.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type='msd') >= 40*${core.radius*0.05} and self.resource(type='msd') < 50*${core.radius*0.05}

[action_show磨损度5]
#infoOnly:true
text:磨损度\n%{self.resource(type="msd")}/${int(core.radius*0.05*55)}
description:磨损等级:5级\n极度磨损\n转弯速度下降55%\n受到伤害时额外受到200点伤害\n攻击间隔增加0.55
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/磨损-5.png
buildSpeed:0s
pos:15
displayType:infoOnlyNoBox
isActive:false
isVisible:if self.resource(type='msd') >= 50*${core.radius*0.05}

#---其他---

[action_自修复]
isVisible:if not self.hp(greaterThan=${core.maxHp*0.6}) and not self.hasFlag(id=11) or self.hasFlag(id=2) and not self.hasFlag(id=11)
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/齿轮1.png
price:zxf=1
text:使用自修复
isActive:true
isGuiBlinking:true
buildSpeed:${5*core.radius*0.04}s
ai_isHighPriority:true
pos:-1.1
description:使用一个自修复工具\n恢复1600血量并灭火\n影响范围:(自身半径+40)
displayType:action
whenBuilding_cannotMove:true
alsoTriggerAction:自修复1_o,自修复1_a,自修复2_o,自修复2_a,自修复3_o,自修复3_a

[hiddenAction_自修复1_o]
takeResources:hp=-1600
takeResources_includeUnitsWithinRange:${core.radius+40}
takeResources_includeUnitsWithinRange_team:own
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_自修复1_a]
takeResources:hp=-1600
takeResources_includeUnitsWithinRange:${core.radius+40}
takeResources_includeUnitsWithinRange_team:ally
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_自修复2_o]
takeResources:msd:20
takeResources_includeUnitsWithinRange:${core.radius+40}
takeResources_includeUnitsWithinRange_team:own
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_自修复2_a]
takeResources:msd:20
takeResources_includeUnitsWithinRange:${core.radius+40}
takeResources_includeUnitsWithinRange_team:ally
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_自修复3_o]
takeResources:rsd:20
takeResources_includeUnitsWithinRange:${core.radius+40}
takeResources_includeUnitsWithinRange_team:own
takeResources_discardCollected:true
takeResources_maxUnits:99999

[hiddenAction_自修复3_a]
takeResources:rsd:20
takeResources_includeUnitsWithinRange:${core.radius+40}
takeResources_includeUnitsWithinRange_team:ally
takeResources_discardCollected:true
takeResources_maxUnits:99999

[projectile_暴击]
areaDamage:0
areaRadius:0
life:0
tags:0
speed:0
targetGround:true
image:NONE
drawSize:0.00001
friendlyFire:false
explodeEffect:CUSTOM:null

#---履带---

[hiddenAction_履带初始]
autoTriggerOnEvent:created
addResources:ld=${core.radius*2+20}

[hiddenAction_履带攻击特殊1]
autoTriggerOnEvent:tookDamage
requireConditional:if self.globalTeamTags(includes="履带1")
addResources:ld=1

[hiddenAction_履带攻击特殊2]
autoTriggerOnEvent:tookDamage
requireConditional:if self.globalTeamTags(includes="履带2")
addResources:ld=2

[hiddenAction_履带攻击---1]
autoTriggerOnEvent:tookDamage(withTag="抛物线")
requireConditional:if self.shield() <= 10 and not self.hasFlag(id=9) and self.resource(type="bm") <= 0
addResources:ld=-1

[hiddenAction_履带攻击1]
autoTriggerOnEvent:tookDamage(withTag="普通子弹")
requireConditional:if self.shield() <= 10 and not self.hasFlag(id=9) and self.resource(type="bm") <= 0
addResources:ld=-1

[hiddenAction_履带攻击2]
autoTriggerOnEvent:tookDamage(withTag="坦克炮")
addResources:ld=-2
requireConditional:if self.shield() <= 10 and not self.hasFlag(id=9) and self.resource(type="bm") <= 0

[hiddenAction_履带攻击3]
autoTriggerOnEvent:tookDamage(withTag="大口径")
addResources:ld=-3
requireConditional:if self.shield() <= 10 and not self.hasFlag(id=9) and self.resource(type="bm") <= 0

[hiddenAction_履带攻击4]
autoTriggerOnEvent:tookDamage(withTag="大口径")
addResources:ld=-3
requireConditional:if self.shield() <= 10 and not self.hasFlag(id=9) and self.resource(type="bm") <= 0

[hiddenAction_履带破损]
autoTrigger:if not self.resource(type="ld",greaterThan=0) and not self.hasFlag(id=8)
addResources:setFlag=8

[hiddenAction_履带检查1]
autoTrigger:if self.resource(type="ld",greaterThan=${core.radius*2+20})
setResourcesWithLogic:ld=${core.radius*2+20}

[hiddenAction_履带检查2]
autoTrigger:if self.resource(type="ld",lessThan=0)
setResourcesWithLogic:ld=0

[hiddenAction_履带实际]
autoTrigger:if self.hasFlag(id=8) and not self.queueSize(greaterThan=0)
alsoQueueAction:履带修复

[hiddenAction_履带实际设置1]
autoTrigger:if self.hasFlag(id=8) and self.hp(greaterThan=${core.maxHp*0.4}) and self.resource(type="sy",greaterThan=10) and memory.移动速度 != 0
clearAllWaypoints:true
setUnitMemory:移动速度=0
setUnitStats:moveSpeed=memory.移动速度

[hiddenAction_履带修复]
text:引擎维修中...
buildSpeed:6s
addResources:unsetFlag:8
setResourcesWithLogic:ld=${core.radius*2+20}

#---磨损---

[hiddenAction_磨损攻击--1]
autoTriggerOnEvent:tookDamage(withTag="抛物线")
requireConditional:if self.shield() <= 10 and self.resource(type="bm") <= 0 and not self.globalTeamTags(includes="无坚不摧")
addResources:msd=0.2

[hiddenAction_磨损攻击1]
autoTriggerOnEvent:tookDamage(withTag="普通子弹")
requireConditional:if self.shield() <= 10 and self.resource(type="bm") <= 0 and not self.globalTeamTags(includes="无坚不摧")
addResources:msd=0.2

[hiddenAction_磨损攻击2]
autoTriggerOnEvent:tookDamage(withTag="坦克炮")
addResources:msd=0.5
requireConditional:if self.shield() <= 10 and self.resource(type="bm") <= 0

[hiddenAction_磨损击3]
autoTriggerOnEvent:tookDamage(withTag="大口径")
addResources:msd=0.8
requireConditional:if self.shield() <= 10 and self.resource(type="bm") <= 0

[hiddenAction_磨损攻击5]
autoTriggerOnEvent:tookDamage(withTag="无法")
addResources:msd=0.25
requireConditional:if self.shield() <= 10 and self.resource(type="bm") <= 0

[hiddenAction_磨损攻击4]
autoTriggerOnEvent:tookDamage(withTag="燃烧")
addResources:msd=0.25
requireConditional:if self.shield() <= 10 and self.resource(type="bm") <= 0


[hiddenAction_磨损限制]
autoTrigger:if self.resource(type='msd') > 55*${core.radius*0.05}
setResourcesWithLogic:msd:55*${core.radius*0.05}

[hiddenAction_磨损限制2]
autoTrigger:if self.resource(type='msd') <= 0
setResourcesWithLogic:msd:0


[action_自动上单]
isVisible:if self.energy(greaterThan=0) and self.self.energy(lessThan=1)
text:手动上弹
description:你的弹容量大于0小于1\n出现这个情况可能是你的服务器卡了\n只需要点一下就可以恢复了
buildSpeed:1s
autoTrigger:if self.energy(greaterThan=0) and self.self.energy(lessThan=1) and not self.hasUnitInTeam(withTag='能量',greaterThan=0,withinRange=170)
addResources:energy=-100
pos:-4
displayType:action
isGuiBlinking:true

#---石油---

[action_show耗油量]
#infoOnly:true
text:耗油量\n${(core.radius/500-core.radius/1000)}/s\n${core.radius/500}/s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/汽油.png
description:静止时的耗油量:${(core.radius/500-core.radius/1000)}/s\n移动时的耗油量:${core.radius/500}/s
buildSpeed:0s
pos:9
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt != 4

[action_show耗油量2]
#infoOnly:true
text:耗油量\n${(core.radius/250-core.radius/500)}/s\n${core.radius/250}/s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/汽油.png
description:静止时的耗油量:${(core.radius/250-core.radius/500)}/s\n移动时的耗油量:${core.radius/250}/s
buildSpeed:0s
pos:9
displayType:infoOnlyNoBox
isActive:false
isVisible:if memory.jt == 4

[hiddenAction_消耗石油]
autoTrigger:if self.resource(type="sy",greaterThan=2) and self.isMoving and memory.jt != 4
addResources:sy=${-1*(core.radius/500)}

[hiddenAction_消耗石油2]
autoTrigger:if self.resource(type="sy",greaterThan=2) and not self.isMoving and memory.jt != 4
addResources:sy=${-1*(core.radius/500-core.radius/1000)}

[hiddenAction_恐惧消耗石油]
autoTrigger:if self.resource(type="sy",greaterThan=2) and self.isMoving and memory.jt == 4
addResources:sy=${-1*(core.radius/250)}

[hiddenAction_恐惧消耗石油2]
autoTrigger:if self.resource(type="sy",greaterThan=2) and not self.isMoving and memory.jt == 4
addResources:sy=${-1*(core.radius/250-core.radius/500)}

[action_油]
text:油量不足
description:你库存的油量不足了,请及时获取石油
isVisible:if not self.resource(type="sy",greaterThan=12)
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/石油.png
isLocked:true
pos:-5
isLockedMessage:油量不足
displayType:infoOnlyNoBox
isGuiBlinking:true

[action_燃烧触发]
autoTrigger:if self.hasFlag(id=2) and memory.jt != 3
isVisible:false
spawnEffects:CUSTOM:ambientSmoke
addResources:hp=-3,msd=0.25
takeResources:rsd=-1
takeResources_includeUnitsWithinRange:${core.radius+40}
takeResources_includeUnitsWithinRange_team:any
takeResources_discardCollected:true
takeResources_maxUnits:99999

[decal_燃烧]
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/fire_small.png
alwaysStartDirAtZero:true
imageScaleX:1
imageScaleY:1
imageScale:${core.radius*0.02+0.5}
isVisible:if self.hasFlag(id=2) and self.hp > 0
yOffsetAbsolute:0

[action_show燃烧值]
#infoOnly:true
text:燃烧点\n%{self.resource(type="rsd")}/${core.radius*2+20}
description:到达满值则燃烧则燃烧,需要手动灭火\n护盾大于10时受到伤害时不会增加燃烧点
buildSpeed:0s
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/fire_big.png
pos:10
displayType:infoOnlyNoBox
isActive:false
isVisible:true

#---停滞效果---

[turret_explode]
x:0
y:0
invisible:true
canShoot:false
projectile:explode

[projectile_explode]
areaDamage:${int(core.maxHp*1.6+core.armour*10}
areaRadius:${int(core.radius+30)}
life:99
instant:true
speed:1
tags:无法拦截
largeHitEffect:true
areaHitUnderwaterAlways:true
areaHitAirAndLandAtSameTime:true
targetGround:true
areaExpandTime:35
deflectionPower:-1
friendlyFire:false
explodeEffect:NONE

[action_triggerParticles]
autoTrigger:if not self.hp(greaterThan=${core.maxHp*0.4})
isVisible: false
spawnEffects:CUSTOM:ambientSmoke

[hiddenAction_正常]
autoTrigger:if self.hp(greaterThan=${core.maxHp*0.4}) and self.hasFlag(id=7)
addResources:unsetFlag=7
temporarilyRemoveTags:损坏

[action_损坏]
isVisible:if not self.hp(greaterThan=${core.maxHp*0.4})
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/禁止开火.png
autoTrigger:if not self.hp(greaterThan=${core.maxHp*0.4})
addResources:hp=-0.5,setFlag=7
text:损坏
isActive:false
pos:-1
temporarilyAddTags:损坏
description:它已经被损坏了，需要修复
displayType:infoOnlyNoBox

[action_show子弹]
#infoOnly:true
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/弹药显示.png
text:弹药\n%{self.energy}\%{self.maxEnergy}
description:剩余\共计\n目前弹匣中有的子弹数量
buildSpeed:0s
pos:-5
displayType:infoOnlyNoBox
isActive:false
isVisible:true


#----效果----


[effect_111]
life:60
hOffset:0
dirOffset:0
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/heal.png
scaleFrom:0
scaleTo:5
alpha:0.2
alwayStartDirAtZero:true
drawUnderUnits:true
dirSpeed:0
showInFog:true

[effect_e1]
life:30
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/冲击波.png
scaleFrom:0.2
scaleTo:1
drawUnderUnits:true
createWhenOverLand:true
attachedToUnit:false
yOffsetRelativeRandom:10

[effect_bullethlight]
priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:1
atmospheric: true
priority: critical


[effect_explodeStandard]
createWhenOverLiquid:true

[effect_null]
alsoPlaySound:ROOT:[WarField][战争之地]/-shared-/-音效-/暴击.ogg:1.6,ROOT:[WarField][战争之地]/-shared-/-音效-/暴击2.ogg:1.6,ROOT:[WarField][战争之地]/-shared-/-音效-/暴击3.ogg:1.6,ROOT:[WarField][战争之地]/-shared-/-音效-/暴击4.ogg:1.6
priority:critical
life:0
scaleFrom:0.001
scaleTo:0.001
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/null.png

[effect_trail]
createWhenZoomedOut:false
xOffsetRelative:0
yOffsetRelative:0
xSpeedRelativeRandom:0.1
ySpeedRelativeRandom:0.1
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/trail.png
life:40
fadeOut:true
attachedToUnit:false
scaleFrom:0.6
scaleTo:0.4
alpha:0.5
drawUnderUnits:true

[effect_pyro]
spawnChance:1
life:60
alpha:0
alsoEmitEffects:CUSTOM:sparks*3,CUSTOM:sparks2*2
alsoPlaySound:ROOT:[WarField][战争之地]/-shared-/-音效-/tankMainGun.ogg:0.2

[effect_sparks]
attachedToUnit:false
life:150
scaleFrom:1
scaleTo:0.5
physics:true
xSpeedRelativeRandom:1
ySpeedRelativeRandom:1
hSpeed:1
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/spark.png

[effect_sparks2]
attachedToUnit:false
life:150
scaleFrom:1.2
scaleTo:0.65
physics:true
xSpeedRelativeRandom:4
ySpeedRelativeRandom:4
hSpeed:1
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/spark.png

[effect_heal]
life:55
scaleFrom:0.5
scaleTo:0.5
fadeOut:true
fadeInTime:4
xOffsetRelativeRandom:2
yOffsetRelativeRandom:0
yOffsetRelative:2
hOffsetRandom:0.4
attachedToUnit:true
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/explosion_flame2.png
alwayStartDirAtZero:true
alpha:2
frameIndex:1
total_frames:27
animateFrameStart:0
animateFrameEnd:13
animateFrameSpeed:0.1
animateFrameSpeedRandom:0.02

[effect_ambientSmoke]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0

life: 120
fadeOut: true
attachedToUnit: false
color: #646464
fadeInTime: 15
scaleFrom: 0.75
scaleTo: 3
alpha: 1.2
drawUnderUnits:false
hSpeed:0.4
xSpeedAbsolute: -0.2
hOffsetRandom:0.15
yOffsetRelative: -2

dirOffsetRandom:180

shadow:true
xOffsetRelativeRandom: 1
yOffsetRelativeRandom: 1
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric: true


[effect_MovingSmoke]
createWhenZoomedOut: false
stripIndex: effects
frameIndex: 0
life: 80
fadeOut: true
attachedToUnit: false
color: #646464
fadeInTime: 15
scaleFrom: 0.25
scaleTo: 1
alpha: 1.2
drawUnderUnits:false
hSpeed:0.4
xSpeedAbsolute: -0.2
hOffsetRandom:0.15
yOffsetRelative: -2
dirOffsetRandom:180

shadow:true
xOffsetRelativeRandom: 1
yOffsetRelativeRandom: 1
xSpeedAbsoluteRandom:0.05
ySpeedAbsoluteRandom:0.1
atmospheric: true


[effect_smokesly]
scaleFrom:0.12
scaleTo:0.22
alpha:1
drawUnderUnits:false
liveAfterAttachedDies:false
hSpeed:0.025
dirOffsetRandom:180
yOffsetRelative:-2
ySpeedRelative:0.13
xSpeedRelativeRandom:0.09
ySpeedRelativeRandom:0.11
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/smoke_white.png
life:60
fadeOut:true
attachedToUnit:false

[effect_炸膛]
life:35
attachedToUnit:true
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/explode_big2.png
scaleFrom:1.6
scaleTo:1.6
total_frames:14
animateFrameStart:0
animateFrameEnd:3
animateFrameSpeed:0.35
fadeOut:false
#adjust the position of the effect
yOffsetRelative:0
xOffsetRelative:0


[effect_smallLightGround]
createWhenOverLiquid:false
life:10
drawUnderUnits: true
image: SHARED:light_50.png
scaleFrom: 0.3
scaleTo: 0.3
color:#ffd500

[effect_lightGround]
spawnChance:0
life:15
drawUnderUnits: true
image: SHARED:light_50.png
scaleFrom: 0.7
scaleTo: 0.7
color:#ffd500

[effect_dirt]
createWhenOverLiquid:false
life: 120
lifeRandom: 30
alsoEmitEffects: CUSTOM:dirt2*3
image: ROOT:[WarField][战争之地]/-shared-/-贴图-/dirt.png
physics: true
physicsGravity: 0.5
hSpeed:2
hSpeedRandom: 0.5
ySpeedRelativeRandom: 0.5
xSpeedRelativeRandom: 0.5

[effect_dirt2]
createWhenOverLiquid:false
life: 120
lifeRandom: 30
image: ROOT:[WarField][战争之地]/-shared-/-贴图-/dirt.png
physics: true
physicsGravity: 0.5
hSpeed:2
hSpeedRandom: 0.5
ySpeedRelativeRandom: 0.5
xSpeedRelativeRandom: 0.5

[effect_dirtySmoke]

createWhenOverLiquid:false
life: 100
lifeRandom: 30
alsoEmitEffects: CUSTOM:dirtySmoke2*3
attachedToUnit: false
image: ROOT:[WarField][战争之地]/-shared-/-贴图-/dirtySmoke.png
scaleFrom: 1
scaleTo: 2
alpha: 0.6
ySpeedRelativeRandom: 0.15
xSpeedRelativeRandom: 0.15
dirSpeedRandom: 0.2
hSpeed: 1
hSpeedRandom: 0.25
atmospheric: true
physics: true
physicsGravity: 0.25
imageShadow: ROOT:[WarField][战争之地]/-shared-/-贴图-/smoke.png
shadow: true

[effect_dirtySmoke2]

createWhenOverLiquid:false
life: 100
lifeRandom: 30
attachedToUnit: false
image: ROOT:[WarField][战争之地]/-shared-/-贴图-/dirtySmoke.png
scaleFrom: 1
scaleTo: 2
alpha: 0.6
ySpeedRelativeRandom: 0.15
xSpeedRelativeRandom: 0.15
dirSpeedRandom: 0.2
hSpeed: 1
hSpeedRandom: 0.25
atmospheric: true
physics: true
physicsGravity: 0.25
imageShadow: ROOT:[WarField][战争之地]/-shared-/-贴图-/smoke.png
shadow: true

[effect_smallYellowExplosion]
life: 15

scaleFrom: 0.45
scaleTo: 0.45
spawnChance:0

attachedToUnit: false
atmospheric: true
image:ROOT:[WarField][战争之地]/-shared-/-贴图-/energeticSpark2.png

total_frames: 14

dirOffsetRandom: 180

animateFrameStart: 0
animateFrameEnd: 13
#animateFramePingPong: true
animateFrameSpeed: 0.5




[effect_wave]
life:150
image: ROOT:[WarField][战争之地]/-shared-/-贴图-/shockwave.png
scaleFrom: 0
scaleTo: 0.8
attachedToUnit: false
createWhenOverLand: false

[effect_waterSplash1]
life: 100
image: ROOT:[WarField][战争之地]/-shared-/-贴图-/bubbles.png
ySpeedAbsolute: 0.1
ySpeedAbsoluteRandom: 0.05
xSpeedAbsolute: 0.1
xSpeedAbsoluteRandom: 0.05
yOffsetRelativeRandom: 3
xOffsetRelativeRandom: 3
dirOffset:45
attachedToUnit: false
createWhenOverLand: false
imageShadow: ROOT:[WarField][战争之地]/-shared-/-贴图-/bubbles.png
shadow: true

[effect_waterSplash2]
life: 100
image: ROOT:[WarField][战争之地]/-shared-/-贴图-/bubbles.png
ySpeedAbsolute: 0.1
ySpeedAbsoluteRandom: 0.05
ySpeedAbsolute: -0.1
ySpeedAbsoluteRandom: 0.05
yOffsetRelativeRandom: 3
xOffsetRelativeRandom: -3
dirOffset:135
attachedToUnit: false
createWhenOverLand: false
imageShadow: ROOT:[WarField][战争之地]/-shared-/-贴图-/bubbles.png
shadow: true

[effect_waterSplash3]
life: 100
image: ROOT:[WarField][战争之地]/-shared-/-贴图-/bubbles.png
ySpeedAbsolute: -0.1
ySpeedAbsoluteRandom: 0.05
yOffsetRelativeRandom: -3
xOffsetRelativeRandom: 0
dirOffset:45
createWhenOverLand: false
attachedToUnit: false
imageShadow: ROOT:[WarField][战争之地]/-shared-/-贴图-/bubbles.png
shadow: true

[effect_waterSplash4]
life: 100
image: ROOT:[WarField][战争之地]/-shared-/-贴图-/bubbles.png
scaleFrom: 0.4
scaleTo: 1.2
physics: true
physicsGravity: 0.4
hSpeed: 1
attachedToUnit: false
hSpeedRandom: 0.5
ySpeedRelativeRandom: 0.25
xSpeedRelativeRandom: 0.25
createWhenOverLand: false
imageShadow: ROOT:[WarField][战争之地]/-shared-/-贴图-/bubbles.png
shadow: true

[effect_waterSplash5]
life: 100
image: ROOT:[WarField][战争之地]/-shared-/-贴图-/bubbles.png
scaleFrom: 0.4
scaleTo: 1.2
physics: true
physicsGravity: 0.4
attachedToUnit: false
hSpeed: 1.5
hSpeedRandom: 0.75
ySpeedRelativeRandom: 0.25
xSpeedRelativeRandom: 0.25
createWhenOverLand: false
imageShadow: ROOT:[WarField][战争之地]/-shared-/-贴图-/bubbles.png
shadow: true




#----调试中----

#---生命调试---

[action_生命]
text:生命选项
displayType:queueUnit
pos:1000
buildSpeed:0s
alwaysSinglePress:true
isVisible:if not self.hasFlag(id=21) and self.hasUnitInTeam(withTag="调试")
addResources:setFlag=21,unsetFlag:22,unsetFlag:23

[action_生命关门]
text:关闭生命选项
displayType:queueUnit
pos:1000
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=21)and self.hasUnitInTeam(withTag="调试")
addResources:unsetFlag=21,unsetFlag:22,unsetFlag:23

[action_生命加1]
text:增加1生命
displayType:action
pos:1004
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=21) and self.hasUnitInTeam(withTag="调试")
addResources:hp=1

[action_生命加5]
text:增加10生命
displayType:action
pos:1004
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=21) and self.hasUnitInTeam(withTag="调试")
addResources:hp=10

[action_生命加100]
text:增加100生命
displayType:action
pos:1004
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=21) and self.hasUnitInTeam(withTag="调试")
addResources:hp=100

[action_生命加1000]
text:增加1000生命
displayType:action
pos:1004
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=21) and self.hasUnitInTeam(withTag="调试")
addResources:hp=1000

[action_生命减1]
text:减少1生命
displayType:action
pos:1004
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=21) and self.hasUnitInTeam(withTag="调试")
addResources:hp=-1

[action_生命减10]
text:减少10生命
displayType:action
pos:1004
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=21) and self.hasUnitInTeam(withTag="调试")
addResources:hp=-10

[action_生命减100]
text:减少100生命
displayType:action
pos:1004
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=21) and self.hasUnitInTeam(withTag="调试")
addResources:hp=-100

[action_生命减1000]
text:减少1000生命
displayType:action
pos:1004
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=21) and self.hasUnitInTeam(withTag="调试")
addResources:hp=-1000

#---能量调试---

[action_能量]
text:能量选项
displayType:queueUnit
pos:1000.1
buildSpeed:0s
alwaysSinglePress:true
isVisible:if not self.hasFlag(id=23) and self.hasUnitInTeam(withTag="调试")
addResources:setFlag=23,unsetFlag:22,unsetFlag:21

[action_能量关门]
text:关闭能量选项
displayType:queueUnit
pos:1000.1
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=23)and self.hasUnitInTeam(withTag="调试")
addResources:unsetFlag=23,unsetFlag:22,unsetFlag:21

[action_能量加1]
text:增加1能量
displayType:action
pos:1002
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=23) and self.hasUnitInTeam(withTag="调试")
addResources:energy=1

[action_能量加5]
text:增加5能量
displayType:action
pos:1002
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=23) and self.hasUnitInTeam(withTag="调试")
addResources:energy=5

[action_能量加10]
text:增加10能量
displayType:action
pos:1002
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=23) and self.hasUnitInTeam(withTag="调试")
addResources:energy=10

[action_能量加100]
text:增加100能量
displayType:action
pos:1002
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=23) and self.hasUnitInTeam(withTag="调试")
addResources:energy=100

[action_能量减1]
text:减少1能量
displayType:action
pos:1002
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=23) and self.hasUnitInTeam(withTag="调试")
addResources:energy=-1

[action_能量减5]
text:减少5能量
displayType:action
pos:1002
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=23) and self.hasUnitInTeam(withTag="调试")
addResources:energy=-5

[action_能量减10]
text:减少10能量
displayType:action
pos:1002
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=23) and self.hasUnitInTeam(withTag="调试")
addResources:energy=-10

[action_能量减100]
text:减少100能量
displayType:action
pos:1002
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=23) and self.hasUnitInTeam(withTag="调试")
addResources:energy=-100

#---特殊调试---

[action_特殊]
text:特殊选项
displayType:queueUnit
pos:1000.2
buildSpeed:0s
alwaysSinglePress:true
isVisible:if not self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
addResources:setFlag=22,unsetFlag:21,unsetFlag:23

[action_特殊关门]
text:关闭特殊选项
displayType:queueUnit
pos:1000.2
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22)and self.hasUnitInTeam(withTag="调试")
addResources:unsetFlag=22,unsetFlag:21,unsetFlag:23

[action_燃烧]
text:使单位燃烧
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
addResources:setFlag=2,rsd=${core.radius*2+20}

[action_灭火]
text:停止燃烧
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
addResources:unsetFlag=2,rsd=${core.radius*-2-20}

[action_负面]
text:负面属性
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
addResources:lx:10,xuany:10,shih:10,kjbssy:10,hsbssy:10,fs:10

[action_负面去除]
text:去除负面属性
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
setResourcesWithLogic:lx:0,xuany:0,shih:0,kjbssy:0,hsbssy:0,fs:0

[action_使损坏]
text:使单位损坏
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
addResources:setFlag=7,hp=99999
alsoTriggerAction:使损坏2

[action_使损坏2]
text:使单位损坏
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:false
addResources:hp=${int(core.maxHp*-0.6)}

[action_修复]
text:使单位恢复
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
addResources:unsetFlag=7,hp=99999

[action_使磨损]
text:增加5磨损
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
addResources:msd=5

[action_减少磨损]
text:减少5磨损
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
addResources:msd=-5

[action_增加等级]
text:加1等级
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
addResourcesWithLogic:dj:1
addResources:hfjs:2

[action_减少等级]
text:减1等级
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
addResourcesWithLogic:dj:-1
addResources:hfjs:2

[action_增加晶体]
text:增加守护晶体
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
setUnitMemory:jt=1
isLocked:if memory.jt == 1
setResourcesWithLogic:shjt=1,hsjt=0,lyjt=0,kjjt=0,jfjt=0,nyjt=0

[action_增加晶体2]
text:增加寒霜晶体
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
setUnitMemory:jt=2
isLocked:if memory.jt == 2
setResourcesWithLogic:hsjt=1,shjt=0,lyjt=0,kjjt=0,jfjt=0,nyjt=0

[action_增加晶体3]
text:增加烈焰晶体
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
setUnitMemory:jt=3
isLocked:if memory.jt == 3
setResourcesWithLogic:lyjt=1,shjt=0,hsjt=0,kjjt=0,jfjt=0,nyjt=0

[action_增加晶体4]
text:增加恐惧晶体
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
setUnitMemory:jt=4
isLocked:if memory.jt == 4
setResourcesWithLogic:kjjt=1,shjt=0,hsjt=0,lyjt=0,jfjt=0,nyjt=0

[action_增加晶体5]
text:增加飓风晶体
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
setUnitMemory:jt=5
isLocked:if memory.jt == 5
setResourcesWithLogic:jfjt=1,shjt=0,hsjt=0,lyjt=0,kjjt=0,nyjt=0

[action_增加晶体6]
text:增加能源晶体
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
setUnitMemory:jt=6
isLocked:if memory.jt == 6
setResourcesWithLogic:nyjt=1,shjt=0,hsjt=0,lyjt=0,kjjt=0,jfjt=0

[action_取消晶体]
text:删除晶体
displayType:action
pos:1003
buildSpeed:0s
alwaysSinglePress:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
setUnitMemory:jt=0
isLocked:if memory.jt == 0
setResourcesWithLogic:nyjt=0,shjt=0,hsjt=0,lyjt=0,kjjt=0,jfjt=0

[action_转换llll]
text:变成敌对
price:0
pos:1008
buildSpeed:0
switchToAggressiveTeam:true
displayType:action
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
alwaysSinglePress:true

[action_转换2llll]
text:变成中立
price:0
pos:1008
buildSpeed:0
switchToNeutralTeam:true
isVisible:if self.hasFlag(id=22) and self.hasUnitInTeam(withTag="调试")
displayType:action
alwaysSinglePress:true



#----1~6----
[projectile_1]
@copyFromSection:projectile_test
[projectile_2]
@copyFromSection:projectile_test
[projectile_3]
@copyFromSection:projectile_test
[projectile_4]
@copyFromSection:projectile_test
[projectile_5]
@copyFromSection:projectile_test
[projectile_6]
@copyFromSection:projectile_test
#----1~6l----
[projectile_1l]
@copyFromSection:projectile_test
[projectile_2l]
@copyFromSection:projectile_test
[projectile_3l]
@copyFromSection:projectile_test
[projectile_4l]
@copyFromSection:projectile_test
[projectile_5l]
@copyFromSection:projectile_test
[projectile_6l]
@copyFromSection:projectile_test
#----l1~6----
[projectile_l1]
@copyFromSection:projectile_test
[projectile_l2]
@copyFromSection:projectile_test
[projectile_l3]
@copyFromSection:projectile_test
[projectile_l4]
@copyFromSection:projectile_test
[projectile_l5]
@copyFromSection:projectile_test
[projectile_l6]
@copyFromSection:projectile_test

#--暴击--

[projectile_暴击]
@copyFromSection:projectile_test2
[projectile_暴击1]
@copyFromSection:projectile_test2
[projectile_暴击2]
@copyFromSection:projectile_test2
[projectile_暴击3]
@copyFromSection:projectile_test2
[projectile_暴击4]
@copyFromSection:projectile_test2
[projectile_暴击5]
@copyFromSection:projectile_test2
[projectile_暴击6]
@copyFromSection:projectile_test2
#----1~6l----
[projectile_暴击1l]
@copyFromSection:projectile_test2
[projectile_暴击2l]
@copyFromSection:projectile_test2
[projectile_暴击3l]
@copyFromSection:projectile_test2
[projectile_暴击4l]
@copyFromSection:projectile_test2
[projectile_暴击5l]
@copyFromSection:projectile_test2
[projectile_暴击6l]
@copyFromSection:projectile_test2
#----l1~6----
[projectile_暴击l1]
@copyFromSection:projectile_test2
[projectile_暴击l2]
@copyFromSection:projectile_test2
[projectile_暴击l3]
@copyFromSection:projectile_test2
[projectile_暴击l4]
@copyFromSection:projectile_test2
[projectile_暴击l5]
@copyFromSection:projectile_test2
[projectile_暴击l6]
@copyFromSection:projectile_test2