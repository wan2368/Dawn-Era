[core]
name:电波塔T2
class:CustomUnitMetadata
displayDescription:电波雷达塔\n没有防御能力\n可以指示范围距离内的敌方单位\n-------------\n--攻击--\n-攻击目标:陆地|空中|水下\n--移动--\n移动类型:无\n移动速度:无\n--特殊--\n可以指示敌方单位位置
price:3600,rk=8
maxHp:1900
tags:电波塔,建筑
mass:9000
footprint:-1,-1,1,0
constructionFootprint:-1,-1,1,0
techLevel:2
buildSpeed:38s
#availableInDemo:true
radius:25
#buildingToFootprintOffsetX:10
buildingToFootprintOffsetY:-15
isBio:false
isBuilding:true
defineUnitMemory:float 移动速度,float 攻击距离,float 伤害乘数,float 护盾,float 视野,float 装甲,float NONE,float 生命,float 间隔
fogOfWarSightRange:57

[decal_重载]
isVisible:false

[decal_重载2]
isVisible:false

[action_T2]
addResources:hfjs:2
isVisible:false

[hiddenAction_检查是否攻击]
autoTrigger:false

[hiddenAction_检查是否攻击2]
autoTrigger:false

[hiddenAction_脱战换弹]
autoTrigger:false

[action_debug]
text:最近单位\n名称:%{nearestUnit(withinRange=1000,relation='enemy')}\n距离:%{distanceBetween(self,nearestUnit(withinRange=1000,relation='enemy'))}\n属于%{nearestUnit(withinRange=1000,relation='enemy').teamId()}号队伍
description:最大Hp:%{nearestUnit(withinRange=1000,relation='enemy').maxHp}\n当前Hp:%{nearestUnit(withinRange=1000,relation='enemy').hp}\n剩余弹药:%{nearestUnit(withinRange=1000,relation='enemy').energy},总弹药量:%{nearestUnit(withinRange=1000,relation='enemy').maxEnergy}\n是否移动:%{nearestUnit(withinRange=1000,relation='enemy').isMoving()}\n击杀数量:%{nearestUnit(withinRange=1000,relation='enemy').kills()},所在高度:%{nearestUnit(withinRange=1000,relation='enemy').height()}\n自身角度:%{int(nearestUnit(withinRange=1000,relation='enemy').dir())},存活时间:%{int(nearestUnit(withinRange=1000,relation='enemy').timeAlive())}s\n是否受到攻击伤害:%{nearestUnit(withinRange=1000,relation='enemy').hasTakenDamage(withinSeconds=2)}\n是否装备模块:%{nearestUnit(withinRange=1000,relation='enemy').numberOfAttachedUnits(greaterThan=0)}
isVisible:true
isLocked:false
displayType:infoOnlyNoBox
pos:-1

[hiddenAction_昏迷设置]
autoTrigger:if self.hasFlag(id=12)
setUnitMemory:NONE=0

[hiddenAction_昏迷设置2]
autoTrigger:if not self.hasFlag(id=12)
setUnitMemory:NONE=0

[hiddenAction_攻击距离赋值]
autoTrigger:true
setUnitStats:fogOfWarSightRange=57

[hiddenAction_攻击距离初始]
autoTriggerOnEvent:created
setUnitMemory:NONE=0

[hiddenAction_射程1]
autoTrigger:if self.globalTeamTags(includes="射程1")
setUnitMemory:NONE=0

[hiddenAction_射程2]
autoTrigger:if self.globalTeamTags(includes="射程2")
setUnitMemory:NONE=0

[hiddenAction_射程3]
autoTrigger:if self.globalTeamTags(includes="射程3")
setUnitMemory:NONE=0

[hiddenAction_射程4]
autoTrigger:if self.globalTeamTags(includes="射程4")
setUnitMemory:NONE=0

[hiddenAction_攻击距离初始2]
autoTrigger:if not self.globalTeamTags(includes="射程1") and not self.globalTeamTags(includes="射程2") and not self.globalTeamTags(includes="射程3") and not self.globalTeamTags(includes="射程4")
setUnitMemory:NONE=0

[graphics]
total_frames:4
image:电波塔T2.png
image_wreak:电波塔_dead.png
imageScale:0.9
image_shadow:NONE
shadowOffsetX:1
shadowOffsetY:1
animation_idle_start:0
animation_idle_end:3
animation_idle_speed:10

[movement]
movementType:NONE
moveSpeed:0
moveAccelerationSpeed:0.01
moveDecelerationSpeed:0.01
maxTurnSpeed:0
turnAcceleration:0.1

[ai]
buildPriority:1.6
noneInBaseExtraPriority:1.4
noneGlobalExtraPriority:0.1
maxEachBase:1

[turret_radarLand]
x:0
y:-7
idleSpin:1
canShoot:true
#image: radar.png
limitingMinRange:100
canAttackFlyingUnits:false
canAttackLandUnits:true
canAttackUnderwaterUnits:false
projectile:signalLand
shoot_sound:click
shoot_sound_vol:1
shoot_flame:CUSTOM:arrowLand, CUSTOM:land

[projectile_signalLand]
life:0
directDamage:0
drawSize:0
speed:0
explodeEffect:NONE

[effect_arrowLand]
life:200
fadeOut:true
alpha:1.5
scaleFrom:1.5
scaleTo:1.5
drawUnderUnits:false
yOffsetRelative:13
ySpeedRelative:1.5
atmospheric:true
image:arrow.png

[effect_land]
life:200
fadeOut:true
scaleFrom:1.5
scaleTo:1.5
alpha:1.5
alwayStartDirAtZero:true
drawUnderUnits:false
ySpeedRelative:1.5
atmospheric:true
image:land.png

[turret_radarAir]
x:0
y:-7
idleSpin:1
canShoot:true
#image: radar.png
limitingMinRange:100
canAttackFlyingUnits:true
canAttackLandUnits:false
canAttackUnderwaterUnits:false
projectile:signalAir
shoot_sound:click
shoot_sound_vol:1
shoot_flame:CUSTOM:arrowAir, CUSTOM:air

[projectile_signalAir]
life:0
directDamage:0
drawSize:0
speed:0
explodeEffect: NONE

[effect_arrowAir]
life:200
fadeOut:true
scaleFrom:1.5
scaleTo:1.5
alpha:1.5
drawUnderUnits:false
yOffsetRelative:13
ySpeedRelative:1.5
atmospheric:true
image:arrow.png

[effect_air]
life:200
scaleFrom:1.5
scaleTo:1.5
fadeOut:true
alpha:1.5
alwayStartDirAtZero:true
drawUnderUnits:false
ySpeedRelative:1.5
atmospheric:true
image:air.png

[turret_radarWater]
x:0
y:-7
idleSpin:1
canShoot:true
#image: radar.png
limitingMinRange:100
canAttackFlyingUnits:false
canAttackUnderwaterUnits:true
canAttackLandUnits:false
projectile:signalwater
shoot_sound:click
shoot_sound_vol:1
shoot_flame:CUSTOM:arrowWater, CUSTOM:water

[projectile_signalwater]
life:0
directDamage:0
drawSize:0
speed:0
explodeEffect: NONE

[effect_arrowWater]
life:200
scaleFrom:1.5
scaleTo:1.5
fadeOut:true
alpha:1.5
drawUnderUnits:false
yOffsetRelative:13
ySpeedRelative:1.5
atmospheric:true
image:arrow.png

[effect_water]
life:200
fadeOut:true
alpha:1.5
alwayStartDirAtZero:true
drawUnderUnits:false
scaleFrom:1.5
scaleTo:1.5
ySpeedRelative:1.5
atmospheric:true
image:water.png

[attack]
canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:true
turretMultiTargeting:true
maxAttackRange:1000
showRangeUIGuide:true
shootDelay:2s

[placementRule_1]
searchTags:雷达塔
searchTeam:own
searchDistance:600
excludeIncompleteBuildings:true
excludeNonBuildings:false
maxCount:0
blocksPlacement:true
cannotPlaceMessage:同一区域内只能有一个雷达塔
checkEachTile:true
