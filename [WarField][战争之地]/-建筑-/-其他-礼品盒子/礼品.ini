[core]
name:礼品盒子
class:CustomUnitMetadata
price:100
displayDescription:你可以选择特定的资源添加进这个盒子\n会从自己队伍的资源里扣除\n选择好后,你可以选择一个位置\n其他队伍可以获取里面的资源
maxHp:250
tags:礼品,礼品盒子
isBuilder:false
mass:9999
techLevel:1
armour:40
selfRegenRate:0.01
buildSpeed:5s
radius:15
buildingToFootprintOffsetY:8
isBio:false
isBuilding:true
fogOfWarSightRange:10

@memory dw:number

[hiddenAction_初始队伍]
autoTriggerOnEvent:created
setUnitMemory:dw=self.teamID

[hiddenAction_检查是否攻击]
autoTrigger:false

[hiddenAction_检查是否攻击2]
autoTrigger:false

[hiddenAction_脱战换弹]
autoTrigger:false

[resource_zjjj]

hidden:false

displayRoundedDown:true

displayName:资金
[resource_dxzd]

hidden:false

displayRoundedDown:true

displayName:大型子弹
[resource_ptzd]

hidden:false

displayRoundedDown:true

displayName:普通子弹
[resource_tszd]

hidden:false

displayRoundedDown:true

displayName:特殊子弹
[resource_syzy]

hidden:false

displayRoundedDown:true

displayName:石油
[resource_rkzy]

hidden:false

displayRoundedDown:true

displayName:人口
[resource_jzz]

hidden:false

displayRoundedDown:true

displayName:建造者
[resource_zxfgj]

hidden:false

displayRoundedDown:true

displayName:自修复工具

[resource_sjdzy]

hidden:false

displayRoundedDown:true

displayName:升级点数

[turret_base]
x: 0
y: -1
turnSpeed: 3
turnSpeedAcceleration: 1.0
canShoot:false

[projectile_laser]
directDamage:0
life:100
explodeEffect:NONE


teleportSource:true
image:礼品盒子.png
instant:true
drawSize:0.001





[action_T2]

text:赠送
convertTo:礼品盒子1
description:选择一个位置,其他队伍可以获取里面的资源
price:0
fireTurretXAtGround_onlyOverPassableTileOf:OVER_CLIFF_WATER
fireTurretXAtGround:base
ai_isHighPriority:false
pos:1
switchToNeutralTeam:true
displayType:action
buildSpeed:1s

[action_资源提示]

text:即将送给\n%{memory.dw+1}号队伍\n点击查看详情
description:自身为%{self.teamID+1}号\n---资源信息---\n含有:\n普通子弹:%{self.resource.ptzd}\n大型子弹:%{self.resource.dxzd}\n特殊子弹:%{self.resource.tszd}\n人口:%{self.resource.rkzy}\n石油:%{self.resource.syzy}\n自修复:%{self.resource.zxfgj}\n升级点数:%{self.resource.sjdzy}
price:0
isActive:false
isVisible:true
pos:1
displayType:infoOnly
buildSpeed:0

[action_选择资源开启]

text:选择资源
description:开启后,你可以选择特定的资源添加进这个盒子\n会从自己队伍的资源里扣除
price:0
alwaysSinglePress:true
ai_isHighPriority:false
pos:1
addResources:setFlag=31,unsetFlag=30
displayType:action
isVisible:if not self.hasFlag(id=31)
buildSpeed:0

[action_选择资源关闭]

text:选择完成
price:0

ai_isHighPriority:false
pos:1
alwaysSinglePress:true
addResources:unsetFlag=31,unsetFlag=30
displayType:action
isVisible:if self.hasFlag(id=31)
buildSpeed:0

[action_选择队伍]
text:选择队伍
price:0
ai_isHighPriority:false
pos:1
alwaysSinglePress:true
addResources:setFlag=30,unsetFlag=31
displayType:action
isVisible:if not self.hasFlag(id=30)
buildSpeed:0

[action_不选择队伍]
text:关闭选择队伍
price:0
ai_isHighPriority:false
pos:1
alwaysSinglePress:true
addResources:unsetFlag=30,unsetFlag=31
displayType:action
isVisible:if self.hasFlag(id=30)
buildSpeed:0

[action_选择1号]
setUnitMemory:dw=0
text:1号队伍
isVisible:if self.hasFlag(id=30)
description:在赠送后会自动切换为该队伍
ai_isHighPriority:false
pos:1
displayType:infoOnly
buildSpeed:0

[action_选择2号]
setUnitMemory:dw=1
text:2号队伍
isVisible:if self.hasFlag(id=30)
description:在赠送后会自动切换为该队伍
ai_isHighPriority:false
pos:1
displayType:infoOnly
buildSpeed:0

[action_选择3号]
setUnitMemory:dw=2
text:3号队伍
isVisible:if self.hasFlag(id=30)
description:在赠送后会自动切换为该队伍
ai_isHighPriority:false
pos:1
displayType:infoOnly
buildSpeed:0

[action_选择4号]
setUnitMemory:dw=3
text:4号队伍
isVisible:if self.hasFlag(id=30)
description:在赠送后会自动切换为该队伍
ai_isHighPriority:false
pos:1
displayType:infoOnly
buildSpeed:0

[action_选择5号]
setUnitMemory:dw=4
text:5号队伍
isVisible:if self.hasFlag(id=30)
description:在赠送后会自动切换为该队伍
ai_isHighPriority:false
pos:1
displayType:infoOnly
buildSpeed:0

[action_选择6号]
setUnitMemory:dw=5
text:6号队伍
isVisible:if self.hasFlag(id=30)
description:在赠送后会自动切换为该队伍
ai_isHighPriority:false
pos:1
displayType:infoOnly
buildSpeed:0

[action_选择7号]
setUnitMemory:dw=6
text:7号队伍
isVisible:if self.hasFlag(id=30)
description:在赠送后会自动切换为该队伍
ai_isHighPriority:false
pos:1
displayType:infoOnly
buildSpeed:0

[action_选择号]
setUnitMemory:dw=7
text:8号队伍
isVisible:if self.hasFlag(id=30)
description:在赠送后会自动切换为该队伍
ai_isHighPriority:false
pos:1
displayType:infoOnly
buildSpeed:0

[action_选择9号]
setUnitMemory:dw=8
text:9号队伍
isVisible:if self.hasFlag(id=30)
description:在赠送后会自动切换为该队伍
ai_isHighPriority:false
pos:1
displayType:infoOnly
buildSpeed:0

[action_选择10号]
setUnitMemory:dw=9
text:10号队伍
isVisible:if self.hasFlag(id=30)
description:在赠送后会自动切换为该队伍
ai_isHighPriority:false
pos:1
displayType:infoOnly
buildSpeed:0



[action_选择资金资源]

text:加1000资金
price:1000
addResources:zjjj=1000
ai_isHighPriority:false
pos:1
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_不选择资金资源]

text:取1000资金
price:-1000
addResources:zjjj=-1000
ai_isHighPriority:false
pos:1
isLocked:if not self.resource(type="zjjj",greaterThan=999)
isLockedMessage:你还没有装进任何资金呢~
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_选择资金资源2]

text:加10000资金
price:10000
addResources:zjjj=10000
ai_isHighPriority:false
pos:1
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)



[action_不选择资金资源2]

text:取10000资金
price:-10000
addResources:zjjj=-10000
ai_isHighPriority:false
pos:1
isLocked:if not self.resource(type="zjjj",greaterThan=9999)
isLockedMessage:你还没有装进任何资金呢~
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)


[action_选择普通子弹]

text:加100普通子弹
price:pt=100
addResources:ptzd=100
ai_isHighPriority:false
pos:1
displayType:action
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_不选择普通子弹]

text:取100普通子弹
price:pt=-100
addResources:ptzd=-100
ai_isHighPriority:false
pos:1
displayType:action
isLocked:if not self.resource(type="ptzd",greaterThan=99)
isLockedMessage:你还没有装进任何普通子弹呢~
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)


[action_选择大型子弹]

text:加100大型子弹
price:dx=100
addResources:dxzd=100
ai_isHighPriority:false
pos:1
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_不选择大型子弹]

text:取100大型子弹
price:dx=-100
addResources:dxzd=-100
ai_isHighPriority:false
pos:1
isLocked:if not self.resource(type="dxzd",greaterThan=99)
isLockedMessage:你还没有装进任何大型子弹呢~
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_选择特殊子弹]

text:加100特殊子弹
price:ts=100
addResources:tszd=100
ai_isHighPriority:false
pos:1
displayType:action
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_不选择特殊子弹]

text:取100特殊子弹
price:ts=-100
addResources:tszd=-100
ai_isHighPriority:false
pos:1
displayType:action
isLocked:if not self.resource(type="tszd",greaterThan=99)
isLockedMessage:你还没有装进任何特殊子弹呢~
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)


[action_选择石油]

text:加10石油
price:sy=10
addResources:syzy=10
ai_isHighPriority:false
pos:1
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_不选择石油]

text:取10石油
price:sy=-10
addResources:syzy=-10
ai_isHighPriority:false
pos:1
isLocked:if not self.resource(type="syzy",greaterThan=9)
isLockedMessage:你还没有装进任何石油呢~
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_选择人口]

text:加10人口
price:rk=10
addResources:rkzy=10
ai_isHighPriority:false
pos:1
alwaysSinglePress:true
displayType:action
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_不选择人口]

text:取10个人口
price:rk=-10
addResources:rkzy=-10
ai_isHighPriority:false
pos:1
isLocked:if not self.resource(type="rkzy",greaterThan=9)
isLockedMessage:你还没有装进任何人口呢~
alwaysSinglePress:true
displayType:action
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_选择建造者]

text:加1建造者
price:400,rk=1
addResources:jzz=1
ai_isHighPriority:false
pos:1
alwaysSinglePress:true
isLocked:if self.resource.jzz >= 4
isLockedMessage:塞不进去了>3<\n（你不会是要用小建造者偷家吧？不会吧不会吧-_-||）\n“救赎之道,就在其中”
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_不选择建造者]

text:取1建造者
price:-400,rk=-1
addResources:jzz=-1
ai_isHighPriority:false
pos:1
isLocked:if not self.resource(type="jzz",greaterThan=0)
isLockedMessage:你还没有装进任何建造者呢~
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_选择自修复]

text:加10自修复工具
price:zxf=10
addResources:zxfgj=10
ai_isHighPriority:false
pos:1
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_不选择自修复]

text:取10自修复工具
price:zxf=-10
addResources:zxfgj=-10
ai_isHighPriority:false
pos:1
isLocked:if not self.resource(type="zxfgj",greaterThan=9)
isLockedMessage:你还没有装进任何自修复工具呢~
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_选择升级]

text:加1升级点数
price:sjd=1
addResources:sjdzy=1
ai_isHighPriority:false
pos:1
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)

[action_不选择升级]

text:取1升级点数
price:sjd=-1
addResources:sjdzy=-1
ai_isHighPriority:false
pos:1
isLocked:if not self.resource(type="sjdzy",greaterThan=0)
isLockedMessage:你还没有装进任何升级点数呢~
alwaysSinglePress:true
buildSpeed:0
isVisible:if self.hasFlag(id=31)




[graphics]

total_frames:1

image:礼品盒子.png

image_wreak:礼品盒子_dead.png
imageScale:0.9

image_shadow:NONE

shadowOffsetX:1

shadowOffsetY:1
icon_zoomed_out:ROOT:[WarField][战争之地]/-shared-/-贴图-/ICON_LPHZ.png


[attack]

canAttack:false

canAttackFlyingUnits:false

canAttackLandUnits:false

canAttackUnderwaterUnits:false

maxAttackRange:999999


[movement]

movementType:NONE

moveSpeed:0

moveAccelerationSpeed:0.01

moveDecelerationSpeed:0.01

maxTurnSpeed:0
turnAcceleration:0.1

[placementRule_1]
searchTags:礼品盒子
searchTeam:own
searchDistance:80
excludeIncompleteBuildings:true
excludeNonBuildings:false
maxCount:0
blocksPlacement:true
cannotPlaceMessage:小建偷家？？不会吧，不会吧
checkEachTile:true

[hiddenAction_refund]
requireConditional:if numberOfUnitsInTeam(withTag='礼品盒子',greaterThan=1,withinRange=80)
autoTriggerOnEvent:created
autoTrigger:if numberOfUnitsInTeam(withTag='礼品盒子',greaterThan=1,withinRange=80)
deleteSelf:true
showMessageToPlayer:--你不会真的想出来什么卡的办法了吧！？--