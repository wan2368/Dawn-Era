[core]
name:指挥中心T2
price:62000,rk=30
maxHp:7500
tags:指挥中心,电波塔
copyFrom:指挥中心.ini
overrideAndReplace:NONE
generation_resources:rk=0.75,sjd=0.025
generation_credits:40
generation_delay:40
selfRegenRate:0.1
isBuilding:true
armour:30
maxShield:5000
numBitsOnDeath:10
fogOfWarSightRange:37
defineUnitMemory:float 移动速度,float 攻击距离,float 伤害乘数,float 护盾,float 视野,float 装甲,float NONE,float 生命,float 间隔

[hiddenAction_初始]
autoTriggerOnEvent:created
spawnUnits:NONE

[action_lauNukel]
text:召唤苍穹
isLockedAlt:if numberOfUnitsInTeam(withTag='苍穹',greaterThan=1)
isLockedAltMessage:苍穹,唯一也
price:2114514,rk=514
iconExtraImage:苍穹.png
displayType:action
addActionCooldownTime:260s
buildSpeed:300s
allowMultipleInQueue:false
pos:0.1
ai_isHighPriority:true
produceUnits:苍穹
ai_isDisabled:true
highPriorityQueue:false
isVisible:true
onlyOneUnitAtATime:true

[decal_重载]
isVisible:false

[decal_重载2]
isVisible:false

[hiddenAction_昏迷设置]
autoTrigger:if self.hasFlag(id=12)
setUnitMemory:NONE=0

[hiddenAction_昏迷设置2]
autoTrigger:if not self.hasFlag(id=12)
setUnitMemory:NONE=0

[hiddenAction_攻击距离赋值]
autoTrigger:true
setUnitStats:fogOfWarSightRange=35

[hiddenAction_攻击距离初始]
autoTriggerOnEvent:created
setUnitMemory:NONE=0

[hiddenAction_射程1]
autoTrigger:if self.globalTeamTags(includes="射程1")
setUnitMemory:NONE=0

[hiddenAction_射程2]
autoTrigger:if self.globalTeamTags(includes="射程2")
setUnitMemory:NONE=0

[hiddenAction_射程3]
autoTrigger:if self.globalTeamTags(includes="射程3")
setUnitMemory:NONE=0

[hiddenAction_射程4]
autoTrigger:if self.globalTeamTags(includes="射程4")
setUnitMemory:NONE=0

[hiddenAction_攻击距离初始2]
autoTrigger:if not self.globalTeamTags(includes="射程1") and not self.globalTeamTags(includes="射程2") and not self.globalTeamTags(includes="射程3") and not self.globalTeamTags(includes="射程4")
setUnitMemory:NONE=0

[hiddenAction_检查是否攻击]
autoTrigger:false

[hiddenAction_检查是否攻击2]
autoTrigger:false

[hiddenAction_脱战换弹]
autoTrigger:false

[canBuild_1]
name:基础建造者,突击车,战斗工程师
pos:1
isLocked:if not self.hp(greaterThan=${core.maxHp*0.4})
isLockedMessage:该单位已经损坏,无法继续制造
isLockedAltMessage:请还钱!
isLockedAlt:if self.globalTeamTags(includes="欠钱不还")

[action_debug]
text:最近单位\n名称:%{nearestUnit(withinRange=660,relation='enemy')}\n距离:%{distanceBetween(self,nearestUnit(withinRange=660,relation='enemy'))}\n属于%{nearestUnit(withinRange=660,relation='enemy').teamId()}号队伍
description:最大Hp:%{nearestUnit(withinRange=660,relation='enemy').maxHp}\n当前Hp:%{nearestUnit(withinRange=660,relation='enemy').hp}\n剩余弹药:%{nearestUnit(withinRange=660,relation='enemy').energy},总弹药量:%{nearestUnit(withinRange=660,relation='enemy').maxEnergy}\n是否移动:%{nearestUnit(withinRange=660,relation='enemy').isMoving()}\n击杀数量:%{nearestUnit(withinRange=660,relation='enemy').kills()},所在高度:%{nearestUnit(withinRange=660,relation='enemy').height()}\n自身角度:%{int(nearestUnit(withinRange=660,relation='enemy').dir())},存活时间:%{int(nearestUnit(withinRange=660,relation='enemy').timeAlive())}s\n是否受到攻击伤害:%{nearestUnit(withinRange=660,relation='enemy').hasTakenDamage(withinSeconds=2)}\n是否装备模块:%{nearestUnit(withinRange=660,relation='enemy').numberOfAttachedUnits(greaterThan=0)}
isVisible:true
isLocked:false
isActive:false
displayType:infoOnlyNoBox
pos:-1
buildSpeed:0

[action_T2]
convertTo:指挥中心T3
price:30000,rk=30
buildSpeed:110s
text:升级至T3
pos:0
addResources:hfjs:2
showMessageToPlayer:AI:您的指挥中心已经升级至T3!
iconExtraImage:ROOT:[WarField][战争之地]/-shared-/-贴图-/T3升级标识.png
description:血量变高\n装甲变厚\n各种资源收入变多
isLocked:if not not self.hasFlag(id=7)
isLockedMessage:该单位已经损坏,无法升级
isLockedAltMessage:请还钱!
isLockedAlt:if self.globalTeamTags(includes="欠钱不还")
isLockedAlt2Message:你需要先解锁'升级科技'
isLockedAlt2:if not self.globalTeamTags(includes="升级")
ai_isHighPriority:true

[action_launchNuke]
fireTurretXAtGround:l
text:召唤空投
isLockedAlt:if self.globalTeamTags(includes='禁战略')
isLockedAltMessage:此局禁止战略~
price:8500
description:在一个位置放下空投箱
displayType:action
addActionCooldownTime:260s
buildSpeed:2.5s
allowMultipleInQueue:false
pos:0.1
ai_isDisabled:true
highPriorityQueue:false
isVisible:if self.timeAlive(laterThanSeconds=600)
onlyOneUnitAtATime:true

[turret_l]
y:200
x:0
projectile:1
turnSpeed:4.0
barrelY:6000
turnSpeedAcceleration:1.0
shoot_sound_vol:0.13
canShoot:false
canAttackFlyingUnits:false
limitingRange:2000
canAttackLandUnits:false
canAttackUnderwaterUnits:false
recoilOffset:-5
recoilOutTime:10

[projectile_1]
directDamage:0
life:60
instant:true
invisible:true
speed:12
spawnUnit:空投2
explodeEffect:NONE
frame:11

[graphics]
total_frames:27
frame_width:119
frame_height:132
image:指挥中心topT2.png
image_wreak:指挥中心dead.png
image_back:指挥中心back.png
image_shadow:AUTO
shadowOffsetX:5
shadowOffsetY:5
animation_idle_start:0
animation_idle_end:26
animation_idle_speed:5
imageScale:1
icon_zoomed_out:ROOT:[WarField][战争之地]/-shared-/-贴图-/ICON_CMD.png

[turret_radarLand]
x:0
y:-7
idleSpin:1
canShoot:true
#image: radar.png
limitingMinRange:100
canAttackFlyingUnits:false
canAttackLandUnits:true
canAttackUnderwaterUnits:false
projectile:signalLand
shoot_sound:click
shoot_sound_vol:1
shoot_flame:CUSTOM:arrowLand, CUSTOM:land

[projectile_signalLand]
life:0
directDamage:0
drawSize:0
speed:0
explodeEffect:NONE

[effect_arrowLand]
life:200
fadeOut:true
alpha:1.5
scaleFrom:1.5
scaleTo:1.5
drawUnderUnits:false
yOffsetRelative:13
ySpeedRelative:1.5
atmospheric:true
image:arrow.png

[effect_land]
life:200
fadeOut:true
scaleFrom:1.5
scaleTo:1.5
alpha:1.5
alwayStartDirAtZero:true
drawUnderUnits:false
ySpeedRelative:1.5
atmospheric:true
image:land.png

[turret_radarAir]
x:0
y:-7
idleSpin:1
canShoot:true
#image: radar.png
limitingMinRange:100
canAttackFlyingUnits:true
canAttackLandUnits:false
canAttackUnderwaterUnits:false
projectile:signalAir
shoot_sound:click
shoot_sound_vol:1
shoot_flame:CUSTOM:arrowAir, CUSTOM:air

[projectile_signalAir]
life:0
directDamage:0
drawSize:0
speed:0
explodeEffect: NONE

[effect_arrowAir]
life:200
fadeOut:true
scaleFrom:1.5
scaleTo:1.5
alpha:1.5
drawUnderUnits:false
yOffsetRelative:13
ySpeedRelative:1.5
atmospheric:true
image:arrow.png

[effect_air]
life:200
scaleFrom:1.5
scaleTo:1.5
fadeOut:true
alpha:1.5
alwayStartDirAtZero:true
drawUnderUnits:false
ySpeedRelative:1.5
atmospheric:true
image:air.png

[turret_radarWater]
x:0
y:-7
idleSpin:1
canShoot:true
#image: radar.png
limitingMinRange:100
canAttackFlyingUnits:false
canAttackUnderwaterUnits:true
canAttackLandUnits:false
projectile:signalwater
shoot_sound:click
shoot_sound_vol:1
shoot_flame:CUSTOM:arrowWater, CUSTOM:water

[projectile_signalwater]
life:0
directDamage:0
drawSize:0
speed:0
explodeEffect: NONE

[effect_arrowWater]
life:200
scaleFrom:1.5
scaleTo:1.5
fadeOut:true
alpha:1.5
drawUnderUnits:false
yOffsetRelative:13
ySpeedRelative:1.5
atmospheric:true
image:arrow.png

[effect_water]
life:200
fadeOut:true
alpha:1.5
alwayStartDirAtZero:true
drawUnderUnits:false
scaleFrom:1.5
scaleTo:1.5
ySpeedRelative:1.5
atmospheric:true
image:water.png

[attack]
canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:true
turretMultiTargeting:true
maxAttackRange:660
showRangeUIGuide:true
shootDelay:2s